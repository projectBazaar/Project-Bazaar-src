function nC(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var AO=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function nv(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var rC={exports:{}},wp={},iC={exports:{}},ze={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jc=Symbol.for("react.element"),bO=Symbol.for("react.portal"),PO=Symbol.for("react.fragment"),xO=Symbol.for("react.strict_mode"),kO=Symbol.for("react.profiler"),NO=Symbol.for("react.provider"),OO=Symbol.for("react.context"),DO=Symbol.for("react.forward_ref"),LO=Symbol.for("react.suspense"),MO=Symbol.for("react.memo"),FO=Symbol.for("react.lazy"),Aw=Symbol.iterator;function VO(t){return t===null||typeof t!="object"?null:(t=Aw&&t[Aw]||t["@@iterator"],typeof t=="function"?t:null)}var sC={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},oC=Object.assign,aC={};function Vl(t,e,n){this.props=t,this.context=e,this.refs=aC,this.updater=n||sC}Vl.prototype.isReactComponent={};Vl.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Vl.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function lC(){}lC.prototype=Vl.prototype;function rv(t,e,n){this.props=t,this.context=e,this.refs=aC,this.updater=n||sC}var iv=rv.prototype=new lC;iv.constructor=rv;oC(iv,Vl.prototype);iv.isPureReactComponent=!0;var bw=Array.isArray,uC=Object.prototype.hasOwnProperty,sv={current:null},cC={key:!0,ref:!0,__self:!0,__source:!0};function dC(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)uC.call(e,r)&&!cC.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Jc,type:t,key:s,ref:o,props:i,_owner:sv.current}}function UO(t,e){return{$$typeof:Jc,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function ov(t){return typeof t=="object"&&t!==null&&t.$$typeof===Jc}function jO(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Pw=/\/+/g;function jm(t,e){return typeof t=="object"&&t!==null&&t.key!=null?jO(""+t.key):e.toString(36)}function Ph(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Jc:case bO:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+jm(o,0):r,bw(i)?(n="",t!=null&&(n=t.replace(Pw,"$&/")+"/"),Ph(i,e,n,"",function(u){return u})):i!=null&&(ov(i)&&(i=UO(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Pw,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",bw(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+jm(s,a);o+=Ph(s,e,n,l,i)}else if(l=VO(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+jm(s,a++),o+=Ph(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Gd(t,e,n){if(t==null)return t;var r=[],i=0;return Ph(t,r,"","",function(s){return e.call(n,s,i++)}),r}function $O(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Hn={current:null},xh={transition:null},BO={ReactCurrentDispatcher:Hn,ReactCurrentBatchConfig:xh,ReactCurrentOwner:sv};function hC(){throw Error("act(...) is not supported in production builds of React.")}ze.Children={map:Gd,forEach:function(t,e,n){Gd(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Gd(t,function(){e++}),e},toArray:function(t){return Gd(t,function(e){return e})||[]},only:function(t){if(!ov(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ze.Component=Vl;ze.Fragment=PO;ze.Profiler=kO;ze.PureComponent=rv;ze.StrictMode=xO;ze.Suspense=LO;ze.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=BO;ze.act=hC;ze.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=oC({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=sv.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)uC.call(e,l)&&!cC.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:Jc,type:t.type,key:i,ref:s,props:r,_owner:o}};ze.createContext=function(t){return t={$$typeof:OO,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:NO,_context:t},t.Consumer=t};ze.createElement=dC;ze.createFactory=function(t){var e=dC.bind(null,t);return e.type=t,e};ze.createRef=function(){return{current:null}};ze.forwardRef=function(t){return{$$typeof:DO,render:t}};ze.isValidElement=ov;ze.lazy=function(t){return{$$typeof:FO,_payload:{_status:-1,_result:t},_init:$O}};ze.memo=function(t,e){return{$$typeof:MO,type:t,compare:e===void 0?null:e}};ze.startTransition=function(t){var e=xh.transition;xh.transition={};try{t()}finally{xh.transition=e}};ze.unstable_act=hC;ze.useCallback=function(t,e){return Hn.current.useCallback(t,e)};ze.useContext=function(t){return Hn.current.useContext(t)};ze.useDebugValue=function(){};ze.useDeferredValue=function(t){return Hn.current.useDeferredValue(t)};ze.useEffect=function(t,e){return Hn.current.useEffect(t,e)};ze.useId=function(){return Hn.current.useId()};ze.useImperativeHandle=function(t,e,n){return Hn.current.useImperativeHandle(t,e,n)};ze.useInsertionEffect=function(t,e){return Hn.current.useInsertionEffect(t,e)};ze.useLayoutEffect=function(t,e){return Hn.current.useLayoutEffect(t,e)};ze.useMemo=function(t,e){return Hn.current.useMemo(t,e)};ze.useReducer=function(t,e,n){return Hn.current.useReducer(t,e,n)};ze.useRef=function(t){return Hn.current.useRef(t)};ze.useState=function(t){return Hn.current.useState(t)};ze.useSyncExternalStore=function(t,e,n){return Hn.current.useSyncExternalStore(t,e,n)};ze.useTransition=function(){return Hn.current.useTransition()};ze.version="18.3.1";iC.exports=ze;var I=iC.exports;const pe=nv(I),rf=nC({__proto__:null,default:pe},[I]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zO=I,WO=Symbol.for("react.element"),HO=Symbol.for("react.fragment"),qO=Object.prototype.hasOwnProperty,KO=zO.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,GO={key:!0,ref:!0,__self:!0,__source:!0};function fC(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)qO.call(e,r)&&!GO.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:WO,type:t,key:s,ref:o,props:i,_owner:KO.current}}wp.Fragment=HO;wp.jsx=fC;wp.jsxs=fC;rC.exports=wp;var D=rC.exports,pC={exports:{}},wr={},mC={exports:{}},gC={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(H,Q){var ie=H.length;H.push(Q);e:for(;0<ie;){var xe=ie-1>>>1,q=H[xe];if(0<i(q,Q))H[xe]=Q,H[ie]=q,ie=xe;else break e}}function n(H){return H.length===0?null:H[0]}function r(H){if(H.length===0)return null;var Q=H[0],ie=H.pop();if(ie!==Q){H[0]=ie;e:for(var xe=0,q=H.length,J=q>>>1;xe<J;){var _e=2*(xe+1)-1,Te=H[_e],me=_e+1,U=H[me];if(0>i(Te,ie))me<q&&0>i(U,Te)?(H[xe]=U,H[me]=ie,xe=me):(H[xe]=Te,H[_e]=ie,xe=_e);else if(me<q&&0>i(U,ie))H[xe]=U,H[me]=ie,xe=me;else break e}}return Q}function i(H,Q){var ie=H.sortIndex-Q.sortIndex;return ie!==0?ie:H.id-Q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],d=1,h=null,f=3,m=!1,y=!1,E=!1,S=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(H){for(var Q=n(u);Q!==null;){if(Q.callback===null)r(u);else if(Q.startTime<=H)r(u),Q.sortIndex=Q.expirationTime,e(l,Q);else break;Q=n(u)}}function A(H){if(E=!1,w(H),!y)if(n(l)!==null)y=!0,Ce(O);else{var Q=n(u);Q!==null&&te(A,Q.startTime-H)}}function O(H,Q){y=!1,E&&(E=!1,T(g),g=-1),m=!0;var ie=f;try{for(w(Q),h=n(l);h!==null&&(!(h.expirationTime>Q)||H&&!k());){var xe=h.callback;if(typeof xe=="function"){h.callback=null,f=h.priorityLevel;var q=xe(h.expirationTime<=Q);Q=t.unstable_now(),typeof q=="function"?h.callback=q:h===n(l)&&r(l),w(Q)}else r(l);h=n(l)}if(h!==null)var J=!0;else{var _e=n(u);_e!==null&&te(A,_e.startTime-Q),J=!1}return J}finally{h=null,f=ie,m=!1}}var F=!1,R=null,g=-1,C=5,b=-1;function k(){return!(t.unstable_now()-b<C)}function N(){if(R!==null){var H=t.unstable_now();b=H;var Q=!0;try{Q=R(!0,H)}finally{Q?x():(F=!1,R=null)}}else F=!1}var x;if(typeof _=="function")x=function(){_(N)};else if(typeof MessageChannel<"u"){var re=new MessageChannel,Ae=re.port2;re.port1.onmessage=N,x=function(){Ae.postMessage(null)}}else x=function(){S(N,0)};function Ce(H){R=H,F||(F=!0,x())}function te(H,Q){g=S(function(){H(t.unstable_now())},Q)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(H){H.callback=null},t.unstable_continueExecution=function(){y||m||(y=!0,Ce(O))},t.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<H?Math.floor(1e3/H):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(H){switch(f){case 1:case 2:case 3:var Q=3;break;default:Q=f}var ie=f;f=Q;try{return H()}finally{f=ie}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(H,Q){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var ie=f;f=H;try{return Q()}finally{f=ie}},t.unstable_scheduleCallback=function(H,Q,ie){var xe=t.unstable_now();switch(typeof ie=="object"&&ie!==null?(ie=ie.delay,ie=typeof ie=="number"&&0<ie?xe+ie:xe):ie=xe,H){case 1:var q=-1;break;case 2:q=250;break;case 5:q=1073741823;break;case 4:q=1e4;break;default:q=5e3}return q=ie+q,H={id:d++,callback:Q,priorityLevel:H,startTime:ie,expirationTime:q,sortIndex:-1},ie>xe?(H.sortIndex=ie,e(u,H),n(l)===null&&H===n(u)&&(E?(T(g),g=-1):E=!0,te(A,ie-xe))):(H.sortIndex=q,e(l,H),y||m||(y=!0,Ce(O))),H},t.unstable_shouldYield=k,t.unstable_wrapCallback=function(H){var Q=f;return function(){var ie=f;f=Q;try{return H.apply(this,arguments)}finally{f=ie}}}})(gC);mC.exports=gC;var QO=mC.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var YO=I,Er=QO;function ee(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var yC=new Set,pc={};function da(t,e){ml(t,e),ml(t+"Capture",e)}function ml(t,e){for(pc[t]=e,t=0;t<e.length;t++)yC.add(e[t])}var qi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ty=Object.prototype.hasOwnProperty,XO=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,xw={},kw={};function JO(t){return ty.call(kw,t)?!0:ty.call(xw,t)?!1:XO.test(t)?kw[t]=!0:(xw[t]=!0,!1)}function ZO(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function eD(t,e,n,r){if(e===null||typeof e>"u"||ZO(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function qn(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var pn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){pn[t]=new qn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];pn[e]=new qn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){pn[t]=new qn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){pn[t]=new qn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){pn[t]=new qn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){pn[t]=new qn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){pn[t]=new qn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){pn[t]=new qn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){pn[t]=new qn(t,5,!1,t.toLowerCase(),null,!1,!1)});var av=/[\-:]([a-z])/g;function lv(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(av,lv);pn[e]=new qn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(av,lv);pn[e]=new qn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(av,lv);pn[e]=new qn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){pn[t]=new qn(t,1,!1,t.toLowerCase(),null,!1,!1)});pn.xlinkHref=new qn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){pn[t]=new qn(t,1,!1,t.toLowerCase(),null,!0,!0)});function uv(t,e,n,r){var i=pn.hasOwnProperty(e)?pn[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(eD(e,n,i,r)&&(n=null),r||i===null?JO(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var rs=YO.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Qd=Symbol.for("react.element"),ja=Symbol.for("react.portal"),$a=Symbol.for("react.fragment"),cv=Symbol.for("react.strict_mode"),ny=Symbol.for("react.profiler"),_C=Symbol.for("react.provider"),vC=Symbol.for("react.context"),dv=Symbol.for("react.forward_ref"),ry=Symbol.for("react.suspense"),iy=Symbol.for("react.suspense_list"),hv=Symbol.for("react.memo"),ms=Symbol.for("react.lazy"),EC=Symbol.for("react.offscreen"),Nw=Symbol.iterator;function mu(t){return t===null||typeof t!="object"?null:(t=Nw&&t[Nw]||t["@@iterator"],typeof t=="function"?t:null)}var kt=Object.assign,$m;function Lu(t){if($m===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);$m=e&&e[1]||""}return`
`+$m+t}var Bm=!1;function zm(t,e){if(!t||Bm)return"";Bm=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{Bm=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Lu(t):""}function tD(t){switch(t.tag){case 5:return Lu(t.type);case 16:return Lu("Lazy");case 13:return Lu("Suspense");case 19:return Lu("SuspenseList");case 0:case 2:case 15:return t=zm(t.type,!1),t;case 11:return t=zm(t.type.render,!1),t;case 1:return t=zm(t.type,!0),t;default:return""}}function sy(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case $a:return"Fragment";case ja:return"Portal";case ny:return"Profiler";case cv:return"StrictMode";case ry:return"Suspense";case iy:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case vC:return(t.displayName||"Context")+".Consumer";case _C:return(t._context.displayName||"Context")+".Provider";case dv:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case hv:return e=t.displayName||null,e!==null?e:sy(t.type)||"Memo";case ms:e=t._payload,t=t._init;try{return sy(t(e))}catch{}}return null}function nD(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return sy(e);case 8:return e===cv?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function zs(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function wC(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function rD(t){var e=wC(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Yd(t){t._valueTracker||(t._valueTracker=rD(t))}function TC(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=wC(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function sf(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function oy(t,e){var n=e.checked;return kt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Ow(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=zs(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function SC(t,e){e=e.checked,e!=null&&uv(t,"checked",e,!1)}function ay(t,e){SC(t,e);var n=zs(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?ly(t,e.type,n):e.hasOwnProperty("defaultValue")&&ly(t,e.type,zs(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Dw(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function ly(t,e,n){(e!=="number"||sf(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Mu=Array.isArray;function nl(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+zs(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function uy(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(ee(91));return kt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Lw(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(ee(92));if(Mu(n)){if(1<n.length)throw Error(ee(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:zs(n)}}function IC(t,e){var n=zs(e.value),r=zs(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Mw(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function CC(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function cy(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?CC(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Xd,RC=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Xd=Xd||document.createElement("div"),Xd.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Xd.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function mc(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Hu={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},iD=["Webkit","ms","Moz","O"];Object.keys(Hu).forEach(function(t){iD.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Hu[e]=Hu[t]})});function AC(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Hu.hasOwnProperty(t)&&Hu[t]?(""+e).trim():e+"px"}function bC(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=AC(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var sD=kt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function dy(t,e){if(e){if(sD[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(ee(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(ee(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(ee(61))}if(e.style!=null&&typeof e.style!="object")throw Error(ee(62))}}function hy(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var fy=null;function fv(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var py=null,rl=null,il=null;function Fw(t){if(t=td(t)){if(typeof py!="function")throw Error(ee(280));var e=t.stateNode;e&&(e=Rp(e),py(t.stateNode,t.type,e))}}function PC(t){rl?il?il.push(t):il=[t]:rl=t}function xC(){if(rl){var t=rl,e=il;if(il=rl=null,Fw(t),e)for(t=0;t<e.length;t++)Fw(e[t])}}function kC(t,e){return t(e)}function NC(){}var Wm=!1;function OC(t,e,n){if(Wm)return t(e,n);Wm=!0;try{return kC(t,e,n)}finally{Wm=!1,(rl!==null||il!==null)&&(NC(),xC())}}function gc(t,e){var n=t.stateNode;if(n===null)return null;var r=Rp(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(ee(231,e,typeof n));return n}var my=!1;if(qi)try{var gu={};Object.defineProperty(gu,"passive",{get:function(){my=!0}}),window.addEventListener("test",gu,gu),window.removeEventListener("test",gu,gu)}catch{my=!1}function oD(t,e,n,r,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(d){this.onError(d)}}var qu=!1,of=null,af=!1,gy=null,aD={onError:function(t){qu=!0,of=t}};function lD(t,e,n,r,i,s,o,a,l){qu=!1,of=null,oD.apply(aD,arguments)}function uD(t,e,n,r,i,s,o,a,l){if(lD.apply(this,arguments),qu){if(qu){var u=of;qu=!1,of=null}else throw Error(ee(198));af||(af=!0,gy=u)}}function ha(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function DC(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Vw(t){if(ha(t)!==t)throw Error(ee(188))}function cD(t){var e=t.alternate;if(!e){if(e=ha(t),e===null)throw Error(ee(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return Vw(i),t;if(s===r)return Vw(i),e;s=s.sibling}throw Error(ee(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(ee(189))}}if(n.alternate!==r)throw Error(ee(190))}if(n.tag!==3)throw Error(ee(188));return n.stateNode.current===n?t:e}function LC(t){return t=cD(t),t!==null?MC(t):null}function MC(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=MC(t);if(e!==null)return e;t=t.sibling}return null}var FC=Er.unstable_scheduleCallback,Uw=Er.unstable_cancelCallback,dD=Er.unstable_shouldYield,hD=Er.unstable_requestPaint,Ut=Er.unstable_now,fD=Er.unstable_getCurrentPriorityLevel,pv=Er.unstable_ImmediatePriority,VC=Er.unstable_UserBlockingPriority,lf=Er.unstable_NormalPriority,pD=Er.unstable_LowPriority,UC=Er.unstable_IdlePriority,Tp=null,mi=null;function mD(t){if(mi&&typeof mi.onCommitFiberRoot=="function")try{mi.onCommitFiberRoot(Tp,t,void 0,(t.current.flags&128)===128)}catch{}}var Xr=Math.clz32?Math.clz32:_D,gD=Math.log,yD=Math.LN2;function _D(t){return t>>>=0,t===0?32:31-(gD(t)/yD|0)|0}var Jd=64,Zd=4194304;function Fu(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function uf(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=Fu(a):(s&=o,s!==0&&(r=Fu(s)))}else o=n&~i,o!==0?r=Fu(o):s!==0&&(r=Fu(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Xr(e),i=1<<n,r|=t[n],e&=~i;return r}function vD(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ED(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Xr(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=vD(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function yy(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function jC(){var t=Jd;return Jd<<=1,!(Jd&4194240)&&(Jd=64),t}function Hm(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Zc(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Xr(e),t[e]=n}function wD(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Xr(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function mv(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Xr(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var st=0;function $C(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var BC,gv,zC,WC,HC,_y=!1,eh=[],Ps=null,xs=null,ks=null,yc=new Map,_c=new Map,ys=[],TD="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function jw(t,e){switch(t){case"focusin":case"focusout":Ps=null;break;case"dragenter":case"dragleave":xs=null;break;case"mouseover":case"mouseout":ks=null;break;case"pointerover":case"pointerout":yc.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":_c.delete(e.pointerId)}}function yu(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=td(e),e!==null&&gv(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function SD(t,e,n,r,i){switch(e){case"focusin":return Ps=yu(Ps,t,e,n,r,i),!0;case"dragenter":return xs=yu(xs,t,e,n,r,i),!0;case"mouseover":return ks=yu(ks,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return yc.set(s,yu(yc.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,_c.set(s,yu(_c.get(s)||null,t,e,n,r,i)),!0}return!1}function qC(t){var e=Ao(t.target);if(e!==null){var n=ha(e);if(n!==null){if(e=n.tag,e===13){if(e=DC(n),e!==null){t.blockedOn=e,HC(t.priority,function(){zC(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function kh(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=vy(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);fy=r,n.target.dispatchEvent(r),fy=null}else return e=td(n),e!==null&&gv(e),t.blockedOn=n,!1;e.shift()}return!0}function $w(t,e,n){kh(t)&&n.delete(e)}function ID(){_y=!1,Ps!==null&&kh(Ps)&&(Ps=null),xs!==null&&kh(xs)&&(xs=null),ks!==null&&kh(ks)&&(ks=null),yc.forEach($w),_c.forEach($w)}function _u(t,e){t.blockedOn===e&&(t.blockedOn=null,_y||(_y=!0,Er.unstable_scheduleCallback(Er.unstable_NormalPriority,ID)))}function vc(t){function e(i){return _u(i,t)}if(0<eh.length){_u(eh[0],t);for(var n=1;n<eh.length;n++){var r=eh[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Ps!==null&&_u(Ps,t),xs!==null&&_u(xs,t),ks!==null&&_u(ks,t),yc.forEach(e),_c.forEach(e),n=0;n<ys.length;n++)r=ys[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<ys.length&&(n=ys[0],n.blockedOn===null);)qC(n),n.blockedOn===null&&ys.shift()}var sl=rs.ReactCurrentBatchConfig,cf=!0;function CD(t,e,n,r){var i=st,s=sl.transition;sl.transition=null;try{st=1,yv(t,e,n,r)}finally{st=i,sl.transition=s}}function RD(t,e,n,r){var i=st,s=sl.transition;sl.transition=null;try{st=4,yv(t,e,n,r)}finally{st=i,sl.transition=s}}function yv(t,e,n,r){if(cf){var i=vy(t,e,n,r);if(i===null)tg(t,e,r,df,n),jw(t,r);else if(SD(i,t,e,n,r))r.stopPropagation();else if(jw(t,r),e&4&&-1<TD.indexOf(t)){for(;i!==null;){var s=td(i);if(s!==null&&BC(s),s=vy(t,e,n,r),s===null&&tg(t,e,r,df,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else tg(t,e,r,null,n)}}var df=null;function vy(t,e,n,r){if(df=null,t=fv(r),t=Ao(t),t!==null)if(e=ha(t),e===null)t=null;else if(n=e.tag,n===13){if(t=DC(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return df=t,null}function KC(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(fD()){case pv:return 1;case VC:return 4;case lf:case pD:return 16;case UC:return 536870912;default:return 16}default:return 16}}var Is=null,_v=null,Nh=null;function GC(){if(Nh)return Nh;var t,e=_v,n=e.length,r,i="value"in Is?Is.value:Is.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return Nh=i.slice(t,1<r?1-r:void 0)}function Oh(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function th(){return!0}function Bw(){return!1}function Tr(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?th:Bw,this.isPropagationStopped=Bw,this}return kt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=th)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=th)},persist:function(){},isPersistent:th}),e}var Ul={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},vv=Tr(Ul),ed=kt({},Ul,{view:0,detail:0}),AD=Tr(ed),qm,Km,vu,Sp=kt({},ed,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ev,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==vu&&(vu&&t.type==="mousemove"?(qm=t.screenX-vu.screenX,Km=t.screenY-vu.screenY):Km=qm=0,vu=t),qm)},movementY:function(t){return"movementY"in t?t.movementY:Km}}),zw=Tr(Sp),bD=kt({},Sp,{dataTransfer:0}),PD=Tr(bD),xD=kt({},ed,{relatedTarget:0}),Gm=Tr(xD),kD=kt({},Ul,{animationName:0,elapsedTime:0,pseudoElement:0}),ND=Tr(kD),OD=kt({},Ul,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),DD=Tr(OD),LD=kt({},Ul,{data:0}),Ww=Tr(LD),MD={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},FD={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},VD={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function UD(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=VD[t])?!!e[t]:!1}function Ev(){return UD}var jD=kt({},ed,{key:function(t){if(t.key){var e=MD[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Oh(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?FD[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ev,charCode:function(t){return t.type==="keypress"?Oh(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Oh(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),$D=Tr(jD),BD=kt({},Sp,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Hw=Tr(BD),zD=kt({},ed,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ev}),WD=Tr(zD),HD=kt({},Ul,{propertyName:0,elapsedTime:0,pseudoElement:0}),qD=Tr(HD),KD=kt({},Sp,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),GD=Tr(KD),QD=[9,13,27,32],wv=qi&&"CompositionEvent"in window,Ku=null;qi&&"documentMode"in document&&(Ku=document.documentMode);var YD=qi&&"TextEvent"in window&&!Ku,QC=qi&&(!wv||Ku&&8<Ku&&11>=Ku),qw=" ",Kw=!1;function YC(t,e){switch(t){case"keyup":return QD.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function XC(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ba=!1;function XD(t,e){switch(t){case"compositionend":return XC(e);case"keypress":return e.which!==32?null:(Kw=!0,qw);case"textInput":return t=e.data,t===qw&&Kw?null:t;default:return null}}function JD(t,e){if(Ba)return t==="compositionend"||!wv&&YC(t,e)?(t=GC(),Nh=_v=Is=null,Ba=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return QC&&e.locale!=="ko"?null:e.data;default:return null}}var ZD={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gw(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!ZD[t.type]:e==="textarea"}function JC(t,e,n,r){PC(r),e=hf(e,"onChange"),0<e.length&&(n=new vv("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Gu=null,Ec=null;function e2(t){uR(t,0)}function Ip(t){var e=Ha(t);if(TC(e))return t}function t2(t,e){if(t==="change")return e}var ZC=!1;if(qi){var Qm;if(qi){var Ym="oninput"in document;if(!Ym){var Qw=document.createElement("div");Qw.setAttribute("oninput","return;"),Ym=typeof Qw.oninput=="function"}Qm=Ym}else Qm=!1;ZC=Qm&&(!document.documentMode||9<document.documentMode)}function Yw(){Gu&&(Gu.detachEvent("onpropertychange",eR),Ec=Gu=null)}function eR(t){if(t.propertyName==="value"&&Ip(Ec)){var e=[];JC(e,Ec,t,fv(t)),OC(e2,e)}}function n2(t,e,n){t==="focusin"?(Yw(),Gu=e,Ec=n,Gu.attachEvent("onpropertychange",eR)):t==="focusout"&&Yw()}function r2(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ip(Ec)}function i2(t,e){if(t==="click")return Ip(e)}function s2(t,e){if(t==="input"||t==="change")return Ip(e)}function o2(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var ti=typeof Object.is=="function"?Object.is:o2;function wc(t,e){if(ti(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!ty.call(e,i)||!ti(t[i],e[i]))return!1}return!0}function Xw(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Jw(t,e){var n=Xw(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Xw(n)}}function tR(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?tR(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function nR(){for(var t=window,e=sf();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=sf(t.document)}return e}function Tv(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function a2(t){var e=nR(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&tR(n.ownerDocument.documentElement,n)){if(r!==null&&Tv(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=Jw(n,s);var o=Jw(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var l2=qi&&"documentMode"in document&&11>=document.documentMode,za=null,Ey=null,Qu=null,wy=!1;function Zw(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;wy||za==null||za!==sf(r)||(r=za,"selectionStart"in r&&Tv(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Qu&&wc(Qu,r)||(Qu=r,r=hf(Ey,"onSelect"),0<r.length&&(e=new vv("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=za)))}function nh(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Wa={animationend:nh("Animation","AnimationEnd"),animationiteration:nh("Animation","AnimationIteration"),animationstart:nh("Animation","AnimationStart"),transitionend:nh("Transition","TransitionEnd")},Xm={},rR={};qi&&(rR=document.createElement("div").style,"AnimationEvent"in window||(delete Wa.animationend.animation,delete Wa.animationiteration.animation,delete Wa.animationstart.animation),"TransitionEvent"in window||delete Wa.transitionend.transition);function Cp(t){if(Xm[t])return Xm[t];if(!Wa[t])return t;var e=Wa[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in rR)return Xm[t]=e[n];return t}var iR=Cp("animationend"),sR=Cp("animationiteration"),oR=Cp("animationstart"),aR=Cp("transitionend"),lR=new Map,eT="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Zs(t,e){lR.set(t,e),da(e,[t])}for(var Jm=0;Jm<eT.length;Jm++){var Zm=eT[Jm],u2=Zm.toLowerCase(),c2=Zm[0].toUpperCase()+Zm.slice(1);Zs(u2,"on"+c2)}Zs(iR,"onAnimationEnd");Zs(sR,"onAnimationIteration");Zs(oR,"onAnimationStart");Zs("dblclick","onDoubleClick");Zs("focusin","onFocus");Zs("focusout","onBlur");Zs(aR,"onTransitionEnd");ml("onMouseEnter",["mouseout","mouseover"]);ml("onMouseLeave",["mouseout","mouseover"]);ml("onPointerEnter",["pointerout","pointerover"]);ml("onPointerLeave",["pointerout","pointerover"]);da("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));da("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));da("onBeforeInput",["compositionend","keypress","textInput","paste"]);da("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));da("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));da("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Vu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),d2=new Set("cancel close invalid load scroll toggle".split(" ").concat(Vu));function tT(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,uD(r,e,void 0,t),t.currentTarget=null}function uR(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;tT(i,a,u),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;tT(i,a,u),s=l}}}if(af)throw t=gy,af=!1,gy=null,t}function _t(t,e){var n=e[Ry];n===void 0&&(n=e[Ry]=new Set);var r=t+"__bubble";n.has(r)||(cR(e,t,2,!1),n.add(r))}function eg(t,e,n){var r=0;e&&(r|=4),cR(n,t,r,e)}var rh="_reactListening"+Math.random().toString(36).slice(2);function Tc(t){if(!t[rh]){t[rh]=!0,yC.forEach(function(n){n!=="selectionchange"&&(d2.has(n)||eg(n,!1,t),eg(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[rh]||(e[rh]=!0,eg("selectionchange",!1,e))}}function cR(t,e,n,r){switch(KC(e)){case 1:var i=CD;break;case 4:i=RD;break;default:i=yv}n=i.bind(null,e,n,t),i=void 0,!my||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function tg(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Ao(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}OC(function(){var u=s,d=fv(n),h=[];e:{var f=lR.get(t);if(f!==void 0){var m=vv,y=t;switch(t){case"keypress":if(Oh(n)===0)break e;case"keydown":case"keyup":m=$D;break;case"focusin":y="focus",m=Gm;break;case"focusout":y="blur",m=Gm;break;case"beforeblur":case"afterblur":m=Gm;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=zw;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=PD;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=WD;break;case iR:case sR:case oR:m=ND;break;case aR:m=qD;break;case"scroll":m=AD;break;case"wheel":m=GD;break;case"copy":case"cut":case"paste":m=DD;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=Hw}var E=(e&4)!==0,S=!E&&t==="scroll",T=E?f!==null?f+"Capture":null:f;E=[];for(var _=u,w;_!==null;){w=_;var A=w.stateNode;if(w.tag===5&&A!==null&&(w=A,T!==null&&(A=gc(_,T),A!=null&&E.push(Sc(_,A,w)))),S)break;_=_.return}0<E.length&&(f=new m(f,y,null,n,d),h.push({event:f,listeners:E}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",f&&n!==fy&&(y=n.relatedTarget||n.fromElement)&&(Ao(y)||y[Ki]))break e;if((m||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,m?(y=n.relatedTarget||n.toElement,m=u,y=y?Ao(y):null,y!==null&&(S=ha(y),y!==S||y.tag!==5&&y.tag!==6)&&(y=null)):(m=null,y=u),m!==y)){if(E=zw,A="onMouseLeave",T="onMouseEnter",_="mouse",(t==="pointerout"||t==="pointerover")&&(E=Hw,A="onPointerLeave",T="onPointerEnter",_="pointer"),S=m==null?f:Ha(m),w=y==null?f:Ha(y),f=new E(A,_+"leave",m,n,d),f.target=S,f.relatedTarget=w,A=null,Ao(d)===u&&(E=new E(T,_+"enter",y,n,d),E.target=w,E.relatedTarget=S,A=E),S=A,m&&y)t:{for(E=m,T=y,_=0,w=E;w;w=ba(w))_++;for(w=0,A=T;A;A=ba(A))w++;for(;0<_-w;)E=ba(E),_--;for(;0<w-_;)T=ba(T),w--;for(;_--;){if(E===T||T!==null&&E===T.alternate)break t;E=ba(E),T=ba(T)}E=null}else E=null;m!==null&&nT(h,f,m,E,!1),y!==null&&S!==null&&nT(h,S,y,E,!0)}}e:{if(f=u?Ha(u):window,m=f.nodeName&&f.nodeName.toLowerCase(),m==="select"||m==="input"&&f.type==="file")var O=t2;else if(Gw(f))if(ZC)O=s2;else{O=r2;var F=n2}else(m=f.nodeName)&&m.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(O=i2);if(O&&(O=O(t,u))){JC(h,O,n,d);break e}F&&F(t,f,u),t==="focusout"&&(F=f._wrapperState)&&F.controlled&&f.type==="number"&&ly(f,"number",f.value)}switch(F=u?Ha(u):window,t){case"focusin":(Gw(F)||F.contentEditable==="true")&&(za=F,Ey=u,Qu=null);break;case"focusout":Qu=Ey=za=null;break;case"mousedown":wy=!0;break;case"contextmenu":case"mouseup":case"dragend":wy=!1,Zw(h,n,d);break;case"selectionchange":if(l2)break;case"keydown":case"keyup":Zw(h,n,d)}var R;if(wv)e:{switch(t){case"compositionstart":var g="onCompositionStart";break e;case"compositionend":g="onCompositionEnd";break e;case"compositionupdate":g="onCompositionUpdate";break e}g=void 0}else Ba?YC(t,n)&&(g="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(g="onCompositionStart");g&&(QC&&n.locale!=="ko"&&(Ba||g!=="onCompositionStart"?g==="onCompositionEnd"&&Ba&&(R=GC()):(Is=d,_v="value"in Is?Is.value:Is.textContent,Ba=!0)),F=hf(u,g),0<F.length&&(g=new Ww(g,t,null,n,d),h.push({event:g,listeners:F}),R?g.data=R:(R=XC(n),R!==null&&(g.data=R)))),(R=YD?XD(t,n):JD(t,n))&&(u=hf(u,"onBeforeInput"),0<u.length&&(d=new Ww("onBeforeInput","beforeinput",null,n,d),h.push({event:d,listeners:u}),d.data=R))}uR(h,e)})}function Sc(t,e,n){return{instance:t,listener:e,currentTarget:n}}function hf(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=gc(t,n),s!=null&&r.unshift(Sc(t,s,i)),s=gc(t,e),s!=null&&r.push(Sc(t,s,i))),t=t.return}return r}function ba(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function nT(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=gc(n,s),l!=null&&o.unshift(Sc(n,l,a))):i||(l=gc(n,s),l!=null&&o.push(Sc(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var h2=/\r\n?/g,f2=/\u0000|\uFFFD/g;function rT(t){return(typeof t=="string"?t:""+t).replace(h2,`
`).replace(f2,"")}function ih(t,e,n){if(e=rT(e),rT(t)!==e&&n)throw Error(ee(425))}function ff(){}var Ty=null,Sy=null;function Iy(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Cy=typeof setTimeout=="function"?setTimeout:void 0,p2=typeof clearTimeout=="function"?clearTimeout:void 0,iT=typeof Promise=="function"?Promise:void 0,m2=typeof queueMicrotask=="function"?queueMicrotask:typeof iT<"u"?function(t){return iT.resolve(null).then(t).catch(g2)}:Cy;function g2(t){setTimeout(function(){throw t})}function ng(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),vc(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);vc(e)}function Ns(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function sT(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var jl=Math.random().toString(36).slice(2),di="__reactFiber$"+jl,Ic="__reactProps$"+jl,Ki="__reactContainer$"+jl,Ry="__reactEvents$"+jl,y2="__reactListeners$"+jl,_2="__reactHandles$"+jl;function Ao(t){var e=t[di];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Ki]||n[di]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=sT(t);t!==null;){if(n=t[di])return n;t=sT(t)}return e}t=n,n=t.parentNode}return null}function td(t){return t=t[di]||t[Ki],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Ha(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(ee(33))}function Rp(t){return t[Ic]||null}var Ay=[],qa=-1;function eo(t){return{current:t}}function St(t){0>qa||(t.current=Ay[qa],Ay[qa]=null,qa--)}function pt(t,e){qa++,Ay[qa]=t.current,t.current=e}var Ws={},Nn=eo(Ws),tr=eo(!1),Wo=Ws;function gl(t,e){var n=t.type.contextTypes;if(!n)return Ws;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function nr(t){return t=t.childContextTypes,t!=null}function pf(){St(tr),St(Nn)}function oT(t,e,n){if(Nn.current!==Ws)throw Error(ee(168));pt(Nn,e),pt(tr,n)}function dR(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(ee(108,nD(t)||"Unknown",i));return kt({},n,r)}function mf(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ws,Wo=Nn.current,pt(Nn,t),pt(tr,tr.current),!0}function aT(t,e,n){var r=t.stateNode;if(!r)throw Error(ee(169));n?(t=dR(t,e,Wo),r.__reactInternalMemoizedMergedChildContext=t,St(tr),St(Nn),pt(Nn,t)):St(tr),pt(tr,n)}var ki=null,Ap=!1,rg=!1;function hR(t){ki===null?ki=[t]:ki.push(t)}function v2(t){Ap=!0,hR(t)}function to(){if(!rg&&ki!==null){rg=!0;var t=0,e=st;try{var n=ki;for(st=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}ki=null,Ap=!1}catch(i){throw ki!==null&&(ki=ki.slice(t+1)),FC(pv,to),i}finally{st=e,rg=!1}}return null}var Ka=[],Ga=0,gf=null,yf=0,Rr=[],Ar=0,Ho=null,Oi=1,Di="";function To(t,e){Ka[Ga++]=yf,Ka[Ga++]=gf,gf=t,yf=e}function fR(t,e,n){Rr[Ar++]=Oi,Rr[Ar++]=Di,Rr[Ar++]=Ho,Ho=t;var r=Oi;t=Di;var i=32-Xr(r)-1;r&=~(1<<i),n+=1;var s=32-Xr(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Oi=1<<32-Xr(e)+i|n<<i|r,Di=s+t}else Oi=1<<s|n<<i|r,Di=t}function Sv(t){t.return!==null&&(To(t,1),fR(t,1,0))}function Iv(t){for(;t===gf;)gf=Ka[--Ga],Ka[Ga]=null,yf=Ka[--Ga],Ka[Ga]=null;for(;t===Ho;)Ho=Rr[--Ar],Rr[Ar]=null,Di=Rr[--Ar],Rr[Ar]=null,Oi=Rr[--Ar],Rr[Ar]=null}var pr=null,cr=null,Rt=!1,Hr=null;function pR(t,e){var n=Pr(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function lT(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,pr=t,cr=Ns(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,pr=t,cr=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Ho!==null?{id:Oi,overflow:Di}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Pr(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,pr=t,cr=null,!0):!1;default:return!1}}function by(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Py(t){if(Rt){var e=cr;if(e){var n=e;if(!lT(t,e)){if(by(t))throw Error(ee(418));e=Ns(n.nextSibling);var r=pr;e&&lT(t,e)?pR(r,n):(t.flags=t.flags&-4097|2,Rt=!1,pr=t)}}else{if(by(t))throw Error(ee(418));t.flags=t.flags&-4097|2,Rt=!1,pr=t}}}function uT(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;pr=t}function sh(t){if(t!==pr)return!1;if(!Rt)return uT(t),Rt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Iy(t.type,t.memoizedProps)),e&&(e=cr)){if(by(t))throw mR(),Error(ee(418));for(;e;)pR(t,e),e=Ns(e.nextSibling)}if(uT(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(ee(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){cr=Ns(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}cr=null}}else cr=pr?Ns(t.stateNode.nextSibling):null;return!0}function mR(){for(var t=cr;t;)t=Ns(t.nextSibling)}function yl(){cr=pr=null,Rt=!1}function Cv(t){Hr===null?Hr=[t]:Hr.push(t)}var E2=rs.ReactCurrentBatchConfig;function Eu(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(ee(309));var r=n.stateNode}if(!r)throw Error(ee(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(ee(284));if(!n._owner)throw Error(ee(290,t))}return t}function oh(t,e){throw t=Object.prototype.toString.call(e),Error(ee(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function cT(t){var e=t._init;return e(t._payload)}function gR(t){function e(T,_){if(t){var w=T.deletions;w===null?(T.deletions=[_],T.flags|=16):w.push(_)}}function n(T,_){if(!t)return null;for(;_!==null;)e(T,_),_=_.sibling;return null}function r(T,_){for(T=new Map;_!==null;)_.key!==null?T.set(_.key,_):T.set(_.index,_),_=_.sibling;return T}function i(T,_){return T=Ms(T,_),T.index=0,T.sibling=null,T}function s(T,_,w){return T.index=w,t?(w=T.alternate,w!==null?(w=w.index,w<_?(T.flags|=2,_):w):(T.flags|=2,_)):(T.flags|=1048576,_)}function o(T){return t&&T.alternate===null&&(T.flags|=2),T}function a(T,_,w,A){return _===null||_.tag!==6?(_=cg(w,T.mode,A),_.return=T,_):(_=i(_,w),_.return=T,_)}function l(T,_,w,A){var O=w.type;return O===$a?d(T,_,w.props.children,A,w.key):_!==null&&(_.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===ms&&cT(O)===_.type)?(A=i(_,w.props),A.ref=Eu(T,_,w),A.return=T,A):(A=jh(w.type,w.key,w.props,null,T.mode,A),A.ref=Eu(T,_,w),A.return=T,A)}function u(T,_,w,A){return _===null||_.tag!==4||_.stateNode.containerInfo!==w.containerInfo||_.stateNode.implementation!==w.implementation?(_=dg(w,T.mode,A),_.return=T,_):(_=i(_,w.children||[]),_.return=T,_)}function d(T,_,w,A,O){return _===null||_.tag!==7?(_=Vo(w,T.mode,A,O),_.return=T,_):(_=i(_,w),_.return=T,_)}function h(T,_,w){if(typeof _=="string"&&_!==""||typeof _=="number")return _=cg(""+_,T.mode,w),_.return=T,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Qd:return w=jh(_.type,_.key,_.props,null,T.mode,w),w.ref=Eu(T,null,_),w.return=T,w;case ja:return _=dg(_,T.mode,w),_.return=T,_;case ms:var A=_._init;return h(T,A(_._payload),w)}if(Mu(_)||mu(_))return _=Vo(_,T.mode,w,null),_.return=T,_;oh(T,_)}return null}function f(T,_,w,A){var O=_!==null?_.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return O!==null?null:a(T,_,""+w,A);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Qd:return w.key===O?l(T,_,w,A):null;case ja:return w.key===O?u(T,_,w,A):null;case ms:return O=w._init,f(T,_,O(w._payload),A)}if(Mu(w)||mu(w))return O!==null?null:d(T,_,w,A,null);oh(T,w)}return null}function m(T,_,w,A,O){if(typeof A=="string"&&A!==""||typeof A=="number")return T=T.get(w)||null,a(_,T,""+A,O);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case Qd:return T=T.get(A.key===null?w:A.key)||null,l(_,T,A,O);case ja:return T=T.get(A.key===null?w:A.key)||null,u(_,T,A,O);case ms:var F=A._init;return m(T,_,w,F(A._payload),O)}if(Mu(A)||mu(A))return T=T.get(w)||null,d(_,T,A,O,null);oh(_,A)}return null}function y(T,_,w,A){for(var O=null,F=null,R=_,g=_=0,C=null;R!==null&&g<w.length;g++){R.index>g?(C=R,R=null):C=R.sibling;var b=f(T,R,w[g],A);if(b===null){R===null&&(R=C);break}t&&R&&b.alternate===null&&e(T,R),_=s(b,_,g),F===null?O=b:F.sibling=b,F=b,R=C}if(g===w.length)return n(T,R),Rt&&To(T,g),O;if(R===null){for(;g<w.length;g++)R=h(T,w[g],A),R!==null&&(_=s(R,_,g),F===null?O=R:F.sibling=R,F=R);return Rt&&To(T,g),O}for(R=r(T,R);g<w.length;g++)C=m(R,T,g,w[g],A),C!==null&&(t&&C.alternate!==null&&R.delete(C.key===null?g:C.key),_=s(C,_,g),F===null?O=C:F.sibling=C,F=C);return t&&R.forEach(function(k){return e(T,k)}),Rt&&To(T,g),O}function E(T,_,w,A){var O=mu(w);if(typeof O!="function")throw Error(ee(150));if(w=O.call(w),w==null)throw Error(ee(151));for(var F=O=null,R=_,g=_=0,C=null,b=w.next();R!==null&&!b.done;g++,b=w.next()){R.index>g?(C=R,R=null):C=R.sibling;var k=f(T,R,b.value,A);if(k===null){R===null&&(R=C);break}t&&R&&k.alternate===null&&e(T,R),_=s(k,_,g),F===null?O=k:F.sibling=k,F=k,R=C}if(b.done)return n(T,R),Rt&&To(T,g),O;if(R===null){for(;!b.done;g++,b=w.next())b=h(T,b.value,A),b!==null&&(_=s(b,_,g),F===null?O=b:F.sibling=b,F=b);return Rt&&To(T,g),O}for(R=r(T,R);!b.done;g++,b=w.next())b=m(R,T,g,b.value,A),b!==null&&(t&&b.alternate!==null&&R.delete(b.key===null?g:b.key),_=s(b,_,g),F===null?O=b:F.sibling=b,F=b);return t&&R.forEach(function(N){return e(T,N)}),Rt&&To(T,g),O}function S(T,_,w,A){if(typeof w=="object"&&w!==null&&w.type===$a&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case Qd:e:{for(var O=w.key,F=_;F!==null;){if(F.key===O){if(O=w.type,O===$a){if(F.tag===7){n(T,F.sibling),_=i(F,w.props.children),_.return=T,T=_;break e}}else if(F.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===ms&&cT(O)===F.type){n(T,F.sibling),_=i(F,w.props),_.ref=Eu(T,F,w),_.return=T,T=_;break e}n(T,F);break}else e(T,F);F=F.sibling}w.type===$a?(_=Vo(w.props.children,T.mode,A,w.key),_.return=T,T=_):(A=jh(w.type,w.key,w.props,null,T.mode,A),A.ref=Eu(T,_,w),A.return=T,T=A)}return o(T);case ja:e:{for(F=w.key;_!==null;){if(_.key===F)if(_.tag===4&&_.stateNode.containerInfo===w.containerInfo&&_.stateNode.implementation===w.implementation){n(T,_.sibling),_=i(_,w.children||[]),_.return=T,T=_;break e}else{n(T,_);break}else e(T,_);_=_.sibling}_=dg(w,T.mode,A),_.return=T,T=_}return o(T);case ms:return F=w._init,S(T,_,F(w._payload),A)}if(Mu(w))return y(T,_,w,A);if(mu(w))return E(T,_,w,A);oh(T,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,_!==null&&_.tag===6?(n(T,_.sibling),_=i(_,w),_.return=T,T=_):(n(T,_),_=cg(w,T.mode,A),_.return=T,T=_),o(T)):n(T,_)}return S}var _l=gR(!0),yR=gR(!1),_f=eo(null),vf=null,Qa=null,Rv=null;function Av(){Rv=Qa=vf=null}function bv(t){var e=_f.current;St(_f),t._currentValue=e}function xy(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function ol(t,e){vf=t,Rv=Qa=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Zn=!0),t.firstContext=null)}function Or(t){var e=t._currentValue;if(Rv!==t)if(t={context:t,memoizedValue:e,next:null},Qa===null){if(vf===null)throw Error(ee(308));Qa=t,vf.dependencies={lanes:0,firstContext:t}}else Qa=Qa.next=t;return e}var bo=null;function Pv(t){bo===null?bo=[t]:bo.push(t)}function _R(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Pv(e)):(n.next=i.next,i.next=n),e.interleaved=n,Gi(t,r)}function Gi(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var gs=!1;function xv(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function vR(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function $i(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Os(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,et&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Gi(t,n)}return i=r.interleaved,i===null?(e.next=e,Pv(r)):(e.next=i.next,i.next=e),r.interleaved=e,Gi(t,n)}function Dh(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,mv(t,n)}}function dT(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Ef(t,e,n,r){var i=t.updateQueue;gs=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=u:a.next=u,d.lastBaseUpdate=l))}if(s!==null){var h=i.baseState;o=0,d=u=l=null,a=s;do{var f=a.lane,m=a.eventTime;if((r&f)===f){d!==null&&(d=d.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var y=t,E=a;switch(f=e,m=n,E.tag){case 1:if(y=E.payload,typeof y=="function"){h=y.call(m,h,f);break e}h=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=E.payload,f=typeof y=="function"?y.call(m,h,f):y,f==null)break e;h=kt({},h,f);break e;case 2:gs=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[a]:f.push(a))}else m={eventTime:m,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(u=d=m,l=h):d=d.next=m,o|=f;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;f=a,a=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);if(d===null&&(l=h),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Ko|=o,t.lanes=o,t.memoizedState=h}}function hT(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(ee(191,i));i.call(r)}}}var nd={},gi=eo(nd),Cc=eo(nd),Rc=eo(nd);function Po(t){if(t===nd)throw Error(ee(174));return t}function kv(t,e){switch(pt(Rc,e),pt(Cc,t),pt(gi,nd),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:cy(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=cy(e,t)}St(gi),pt(gi,e)}function vl(){St(gi),St(Cc),St(Rc)}function ER(t){Po(Rc.current);var e=Po(gi.current),n=cy(e,t.type);e!==n&&(pt(Cc,t),pt(gi,n))}function Nv(t){Cc.current===t&&(St(gi),St(Cc))}var Pt=eo(0);function wf(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var ig=[];function Ov(){for(var t=0;t<ig.length;t++)ig[t]._workInProgressVersionPrimary=null;ig.length=0}var Lh=rs.ReactCurrentDispatcher,sg=rs.ReactCurrentBatchConfig,qo=0,xt=null,Xt=null,nn=null,Tf=!1,Yu=!1,Ac=0,w2=0;function wn(){throw Error(ee(321))}function Dv(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!ti(t[n],e[n]))return!1;return!0}function Lv(t,e,n,r,i,s){if(qo=s,xt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Lh.current=t===null||t.memoizedState===null?C2:R2,t=n(r,i),Yu){s=0;do{if(Yu=!1,Ac=0,25<=s)throw Error(ee(301));s+=1,nn=Xt=null,e.updateQueue=null,Lh.current=A2,t=n(r,i)}while(Yu)}if(Lh.current=Sf,e=Xt!==null&&Xt.next!==null,qo=0,nn=Xt=xt=null,Tf=!1,e)throw Error(ee(300));return t}function Mv(){var t=Ac!==0;return Ac=0,t}function ui(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return nn===null?xt.memoizedState=nn=t:nn=nn.next=t,nn}function Dr(){if(Xt===null){var t=xt.alternate;t=t!==null?t.memoizedState:null}else t=Xt.next;var e=nn===null?xt.memoizedState:nn.next;if(e!==null)nn=e,Xt=t;else{if(t===null)throw Error(ee(310));Xt=t,t={memoizedState:Xt.memoizedState,baseState:Xt.baseState,baseQueue:Xt.baseQueue,queue:Xt.queue,next:null},nn===null?xt.memoizedState=nn=t:nn=nn.next=t}return nn}function bc(t,e){return typeof e=="function"?e(t):e}function og(t){var e=Dr(),n=e.queue;if(n===null)throw Error(ee(311));n.lastRenderedReducer=t;var r=Xt,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,u=s;do{var d=u.lane;if((qo&d)===d)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=h,o=r):l=l.next=h,xt.lanes|=d,Ko|=d}u=u.next}while(u!==null&&u!==s);l===null?o=r:l.next=a,ti(r,e.memoizedState)||(Zn=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,xt.lanes|=s,Ko|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function ag(t){var e=Dr(),n=e.queue;if(n===null)throw Error(ee(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);ti(s,e.memoizedState)||(Zn=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function wR(){}function TR(t,e){var n=xt,r=Dr(),i=e(),s=!ti(r.memoizedState,i);if(s&&(r.memoizedState=i,Zn=!0),r=r.queue,Fv(CR.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||nn!==null&&nn.memoizedState.tag&1){if(n.flags|=2048,Pc(9,IR.bind(null,n,r,i,e),void 0,null),on===null)throw Error(ee(349));qo&30||SR(n,e,i)}return i}function SR(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=xt.updateQueue,e===null?(e={lastEffect:null,stores:null},xt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function IR(t,e,n,r){e.value=n,e.getSnapshot=r,RR(e)&&AR(t)}function CR(t,e,n){return n(function(){RR(e)&&AR(t)})}function RR(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!ti(t,n)}catch{return!0}}function AR(t){var e=Gi(t,1);e!==null&&Jr(e,t,1,-1)}function fT(t){var e=ui();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:bc,lastRenderedState:t},e.queue=t,t=t.dispatch=I2.bind(null,xt,t),[e.memoizedState,t]}function Pc(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=xt.updateQueue,e===null?(e={lastEffect:null,stores:null},xt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function bR(){return Dr().memoizedState}function Mh(t,e,n,r){var i=ui();xt.flags|=t,i.memoizedState=Pc(1|e,n,void 0,r===void 0?null:r)}function bp(t,e,n,r){var i=Dr();r=r===void 0?null:r;var s=void 0;if(Xt!==null){var o=Xt.memoizedState;if(s=o.destroy,r!==null&&Dv(r,o.deps)){i.memoizedState=Pc(e,n,s,r);return}}xt.flags|=t,i.memoizedState=Pc(1|e,n,s,r)}function pT(t,e){return Mh(8390656,8,t,e)}function Fv(t,e){return bp(2048,8,t,e)}function PR(t,e){return bp(4,2,t,e)}function xR(t,e){return bp(4,4,t,e)}function kR(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function NR(t,e,n){return n=n!=null?n.concat([t]):null,bp(4,4,kR.bind(null,e,t),n)}function Vv(){}function OR(t,e){var n=Dr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Dv(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function DR(t,e){var n=Dr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Dv(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function LR(t,e,n){return qo&21?(ti(n,e)||(n=jC(),xt.lanes|=n,Ko|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Zn=!0),t.memoizedState=n)}function T2(t,e){var n=st;st=n!==0&&4>n?n:4,t(!0);var r=sg.transition;sg.transition={};try{t(!1),e()}finally{st=n,sg.transition=r}}function MR(){return Dr().memoizedState}function S2(t,e,n){var r=Ls(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},FR(t))VR(e,n);else if(n=_R(t,e,n,r),n!==null){var i=Wn();Jr(n,t,r,i),UR(n,e,r)}}function I2(t,e,n){var r=Ls(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(FR(t))VR(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,ti(a,o)){var l=e.interleaved;l===null?(i.next=i,Pv(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=_R(t,e,i,r),n!==null&&(i=Wn(),Jr(n,t,r,i),UR(n,e,r))}}function FR(t){var e=t.alternate;return t===xt||e!==null&&e===xt}function VR(t,e){Yu=Tf=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function UR(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,mv(t,n)}}var Sf={readContext:Or,useCallback:wn,useContext:wn,useEffect:wn,useImperativeHandle:wn,useInsertionEffect:wn,useLayoutEffect:wn,useMemo:wn,useReducer:wn,useRef:wn,useState:wn,useDebugValue:wn,useDeferredValue:wn,useTransition:wn,useMutableSource:wn,useSyncExternalStore:wn,useId:wn,unstable_isNewReconciler:!1},C2={readContext:Or,useCallback:function(t,e){return ui().memoizedState=[t,e===void 0?null:e],t},useContext:Or,useEffect:pT,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Mh(4194308,4,kR.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Mh(4194308,4,t,e)},useInsertionEffect:function(t,e){return Mh(4,2,t,e)},useMemo:function(t,e){var n=ui();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=ui();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=S2.bind(null,xt,t),[r.memoizedState,t]},useRef:function(t){var e=ui();return t={current:t},e.memoizedState=t},useState:fT,useDebugValue:Vv,useDeferredValue:function(t){return ui().memoizedState=t},useTransition:function(){var t=fT(!1),e=t[0];return t=T2.bind(null,t[1]),ui().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=xt,i=ui();if(Rt){if(n===void 0)throw Error(ee(407));n=n()}else{if(n=e(),on===null)throw Error(ee(349));qo&30||SR(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,pT(CR.bind(null,r,s,t),[t]),r.flags|=2048,Pc(9,IR.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=ui(),e=on.identifierPrefix;if(Rt){var n=Di,r=Oi;n=(r&~(1<<32-Xr(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Ac++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=w2++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},R2={readContext:Or,useCallback:OR,useContext:Or,useEffect:Fv,useImperativeHandle:NR,useInsertionEffect:PR,useLayoutEffect:xR,useMemo:DR,useReducer:og,useRef:bR,useState:function(){return og(bc)},useDebugValue:Vv,useDeferredValue:function(t){var e=Dr();return LR(e,Xt.memoizedState,t)},useTransition:function(){var t=og(bc)[0],e=Dr().memoizedState;return[t,e]},useMutableSource:wR,useSyncExternalStore:TR,useId:MR,unstable_isNewReconciler:!1},A2={readContext:Or,useCallback:OR,useContext:Or,useEffect:Fv,useImperativeHandle:NR,useInsertionEffect:PR,useLayoutEffect:xR,useMemo:DR,useReducer:ag,useRef:bR,useState:function(){return ag(bc)},useDebugValue:Vv,useDeferredValue:function(t){var e=Dr();return Xt===null?e.memoizedState=t:LR(e,Xt.memoizedState,t)},useTransition:function(){var t=ag(bc)[0],e=Dr().memoizedState;return[t,e]},useMutableSource:wR,useSyncExternalStore:TR,useId:MR,unstable_isNewReconciler:!1};function Br(t,e){if(t&&t.defaultProps){e=kt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function ky(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:kt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Pp={isMounted:function(t){return(t=t._reactInternals)?ha(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Wn(),i=Ls(t),s=$i(r,i);s.payload=e,n!=null&&(s.callback=n),e=Os(t,s,i),e!==null&&(Jr(e,t,i,r),Dh(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Wn(),i=Ls(t),s=$i(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Os(t,s,i),e!==null&&(Jr(e,t,i,r),Dh(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Wn(),r=Ls(t),i=$i(n,r);i.tag=2,e!=null&&(i.callback=e),e=Os(t,i,r),e!==null&&(Jr(e,t,r,n),Dh(e,t,r))}};function mT(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!wc(n,r)||!wc(i,s):!0}function jR(t,e,n){var r=!1,i=Ws,s=e.contextType;return typeof s=="object"&&s!==null?s=Or(s):(i=nr(e)?Wo:Nn.current,r=e.contextTypes,s=(r=r!=null)?gl(t,i):Ws),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Pp,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function gT(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Pp.enqueueReplaceState(e,e.state,null)}function Ny(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},xv(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Or(s):(s=nr(e)?Wo:Nn.current,i.context=gl(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(ky(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Pp.enqueueReplaceState(i,i.state,null),Ef(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function El(t,e){try{var n="",r=e;do n+=tD(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function lg(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Oy(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var b2=typeof WeakMap=="function"?WeakMap:Map;function $R(t,e,n){n=$i(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Cf||(Cf=!0,zy=r),Oy(t,e)},n}function BR(t,e,n){n=$i(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Oy(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Oy(t,e),typeof r!="function"&&(Ds===null?Ds=new Set([this]):Ds.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function yT(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new b2;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=B2.bind(null,t,e,n),e.then(t,t))}function _T(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function vT(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=$i(-1,1),e.tag=2,Os(n,e,1))),n.lanes|=1),t)}var P2=rs.ReactCurrentOwner,Zn=!1;function jn(t,e,n,r){e.child=t===null?yR(e,null,n,r):_l(e,t.child,n,r)}function ET(t,e,n,r,i){n=n.render;var s=e.ref;return ol(e,i),r=Lv(t,e,n,r,s,i),n=Mv(),t!==null&&!Zn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Qi(t,e,i)):(Rt&&n&&Sv(e),e.flags|=1,jn(t,e,r,i),e.child)}function wT(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!qv(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,zR(t,e,s,r,i)):(t=jh(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:wc,n(o,r)&&t.ref===e.ref)return Qi(t,e,i)}return e.flags|=1,t=Ms(s,r),t.ref=e.ref,t.return=e,e.child=t}function zR(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(wc(s,r)&&t.ref===e.ref)if(Zn=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(Zn=!0);else return e.lanes=t.lanes,Qi(t,e,i)}return Dy(t,e,n,r,i)}function WR(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},pt(Xa,lr),lr|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,pt(Xa,lr),lr|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,pt(Xa,lr),lr|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,pt(Xa,lr),lr|=r;return jn(t,e,i,n),e.child}function HR(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Dy(t,e,n,r,i){var s=nr(n)?Wo:Nn.current;return s=gl(e,s),ol(e,i),n=Lv(t,e,n,r,s,i),r=Mv(),t!==null&&!Zn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Qi(t,e,i)):(Rt&&r&&Sv(e),e.flags|=1,jn(t,e,n,i),e.child)}function TT(t,e,n,r,i){if(nr(n)){var s=!0;mf(e)}else s=!1;if(ol(e,i),e.stateNode===null)Fh(t,e),jR(e,n,r),Ny(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=Or(u):(u=nr(n)?Wo:Nn.current,u=gl(e,u));var d=n.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&gT(e,o,r,u),gs=!1;var f=e.memoizedState;o.state=f,Ef(e,r,o,i),l=e.memoizedState,a!==r||f!==l||tr.current||gs?(typeof d=="function"&&(ky(e,n,d,r),l=e.memoizedState),(a=gs||mT(e,n,a,r,f,l,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,vR(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:Br(e.type,a),o.props=u,h=e.pendingProps,f=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Or(l):(l=nr(n)?Wo:Nn.current,l=gl(e,l));var m=n.getDerivedStateFromProps;(d=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||f!==l)&&gT(e,o,r,l),gs=!1,f=e.memoizedState,o.state=f,Ef(e,r,o,i);var y=e.memoizedState;a!==h||f!==y||tr.current||gs?(typeof m=="function"&&(ky(e,n,m,r),y=e.memoizedState),(u=gs||mT(e,n,u,r,f,y,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,y,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,y,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=y),o.props=r,o.state=y,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return Ly(t,e,n,r,s,i)}function Ly(t,e,n,r,i,s){HR(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&aT(e,n,!1),Qi(t,e,s);r=e.stateNode,P2.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=_l(e,t.child,null,s),e.child=_l(e,null,a,s)):jn(t,e,a,s),e.memoizedState=r.state,i&&aT(e,n,!0),e.child}function qR(t){var e=t.stateNode;e.pendingContext?oT(t,e.pendingContext,e.pendingContext!==e.context):e.context&&oT(t,e.context,!1),kv(t,e.containerInfo)}function ST(t,e,n,r,i){return yl(),Cv(i),e.flags|=256,jn(t,e,n,r),e.child}var My={dehydrated:null,treeContext:null,retryLane:0};function Fy(t){return{baseLanes:t,cachePool:null,transitions:null}}function KR(t,e,n){var r=e.pendingProps,i=Pt.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),pt(Pt,i&1),t===null)return Py(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Np(o,r,0,null),t=Vo(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Fy(n),e.memoizedState=My,t):Uv(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return x2(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Ms(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Ms(a,s):(s=Vo(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?Fy(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=My,r}return s=t.child,t=s.sibling,r=Ms(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Uv(t,e){return e=Np({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function ah(t,e,n,r){return r!==null&&Cv(r),_l(e,t.child,null,n),t=Uv(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function x2(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=lg(Error(ee(422))),ah(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Np({mode:"visible",children:r.children},i,0,null),s=Vo(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&_l(e,t.child,null,o),e.child.memoizedState=Fy(o),e.memoizedState=My,s);if(!(e.mode&1))return ah(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(ee(419)),r=lg(s,r,void 0),ah(t,e,o,r)}if(a=(o&t.childLanes)!==0,Zn||a){if(r=on,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Gi(t,i),Jr(r,t,i,-1))}return Hv(),r=lg(Error(ee(421))),ah(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=z2.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,cr=Ns(i.nextSibling),pr=e,Rt=!0,Hr=null,t!==null&&(Rr[Ar++]=Oi,Rr[Ar++]=Di,Rr[Ar++]=Ho,Oi=t.id,Di=t.overflow,Ho=e),e=Uv(e,r.children),e.flags|=4096,e)}function IT(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),xy(t.return,e,n)}function ug(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function GR(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(jn(t,e,r.children,n),r=Pt.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&IT(t,n,e);else if(t.tag===19)IT(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(pt(Pt,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&wf(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),ug(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&wf(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}ug(e,!0,n,null,s);break;case"together":ug(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Fh(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Qi(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Ko|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(ee(153));if(e.child!==null){for(t=e.child,n=Ms(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Ms(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function k2(t,e,n){switch(e.tag){case 3:qR(e),yl();break;case 5:ER(e);break;case 1:nr(e.type)&&mf(e);break;case 4:kv(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;pt(_f,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(pt(Pt,Pt.current&1),e.flags|=128,null):n&e.child.childLanes?KR(t,e,n):(pt(Pt,Pt.current&1),t=Qi(t,e,n),t!==null?t.sibling:null);pt(Pt,Pt.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return GR(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),pt(Pt,Pt.current),r)break;return null;case 22:case 23:return e.lanes=0,WR(t,e,n)}return Qi(t,e,n)}var QR,Vy,YR,XR;QR=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Vy=function(){};YR=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Po(gi.current);var s=null;switch(n){case"input":i=oy(t,i),r=oy(t,r),s=[];break;case"select":i=kt({},i,{value:void 0}),r=kt({},r,{value:void 0}),s=[];break;case"textarea":i=uy(t,i),r=uy(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=ff)}dy(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(pc.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(pc.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&_t("scroll",t),s||a===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};XR=function(t,e,n,r){n!==r&&(e.flags|=4)};function wu(t,e){if(!Rt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Tn(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function N2(t,e,n){var r=e.pendingProps;switch(Iv(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Tn(e),null;case 1:return nr(e.type)&&pf(),Tn(e),null;case 3:return r=e.stateNode,vl(),St(tr),St(Nn),Ov(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(sh(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Hr!==null&&(qy(Hr),Hr=null))),Vy(t,e),Tn(e),null;case 5:Nv(e);var i=Po(Rc.current);if(n=e.type,t!==null&&e.stateNode!=null)YR(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(ee(166));return Tn(e),null}if(t=Po(gi.current),sh(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[di]=e,r[Ic]=s,t=(e.mode&1)!==0,n){case"dialog":_t("cancel",r),_t("close",r);break;case"iframe":case"object":case"embed":_t("load",r);break;case"video":case"audio":for(i=0;i<Vu.length;i++)_t(Vu[i],r);break;case"source":_t("error",r);break;case"img":case"image":case"link":_t("error",r),_t("load",r);break;case"details":_t("toggle",r);break;case"input":Ow(r,s),_t("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},_t("invalid",r);break;case"textarea":Lw(r,s),_t("invalid",r)}dy(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&ih(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&ih(r.textContent,a,t),i=["children",""+a]):pc.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&_t("scroll",r)}switch(n){case"input":Yd(r),Dw(r,s,!0);break;case"textarea":Yd(r),Mw(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=ff)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=CC(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[di]=e,t[Ic]=r,QR(t,e,!1,!1),e.stateNode=t;e:{switch(o=hy(n,r),n){case"dialog":_t("cancel",t),_t("close",t),i=r;break;case"iframe":case"object":case"embed":_t("load",t),i=r;break;case"video":case"audio":for(i=0;i<Vu.length;i++)_t(Vu[i],t);i=r;break;case"source":_t("error",t),i=r;break;case"img":case"image":case"link":_t("error",t),_t("load",t),i=r;break;case"details":_t("toggle",t),i=r;break;case"input":Ow(t,r),i=oy(t,r),_t("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=kt({},r,{value:void 0}),_t("invalid",t);break;case"textarea":Lw(t,r),i=uy(t,r),_t("invalid",t);break;default:i=r}dy(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?bC(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&RC(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&mc(t,l):typeof l=="number"&&mc(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(pc.hasOwnProperty(s)?l!=null&&s==="onScroll"&&_t("scroll",t):l!=null&&uv(t,s,l,o))}switch(n){case"input":Yd(t),Dw(t,r,!1);break;case"textarea":Yd(t),Mw(t);break;case"option":r.value!=null&&t.setAttribute("value",""+zs(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?nl(t,!!r.multiple,s,!1):r.defaultValue!=null&&nl(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=ff)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Tn(e),null;case 6:if(t&&e.stateNode!=null)XR(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(ee(166));if(n=Po(Rc.current),Po(gi.current),sh(e)){if(r=e.stateNode,n=e.memoizedProps,r[di]=e,(s=r.nodeValue!==n)&&(t=pr,t!==null))switch(t.tag){case 3:ih(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&ih(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[di]=e,e.stateNode=r}return Tn(e),null;case 13:if(St(Pt),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Rt&&cr!==null&&e.mode&1&&!(e.flags&128))mR(),yl(),e.flags|=98560,s=!1;else if(s=sh(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(ee(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(ee(317));s[di]=e}else yl(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Tn(e),s=!1}else Hr!==null&&(qy(Hr),Hr=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Pt.current&1?Jt===0&&(Jt=3):Hv())),e.updateQueue!==null&&(e.flags|=4),Tn(e),null);case 4:return vl(),Vy(t,e),t===null&&Tc(e.stateNode.containerInfo),Tn(e),null;case 10:return bv(e.type._context),Tn(e),null;case 17:return nr(e.type)&&pf(),Tn(e),null;case 19:if(St(Pt),s=e.memoizedState,s===null)return Tn(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)wu(s,!1);else{if(Jt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=wf(t),o!==null){for(e.flags|=128,wu(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return pt(Pt,Pt.current&1|2),e.child}t=t.sibling}s.tail!==null&&Ut()>wl&&(e.flags|=128,r=!0,wu(s,!1),e.lanes=4194304)}else{if(!r)if(t=wf(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),wu(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Rt)return Tn(e),null}else 2*Ut()-s.renderingStartTime>wl&&n!==1073741824&&(e.flags|=128,r=!0,wu(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Ut(),e.sibling=null,n=Pt.current,pt(Pt,r?n&1|2:n&1),e):(Tn(e),null);case 22:case 23:return Wv(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?lr&1073741824&&(Tn(e),e.subtreeFlags&6&&(e.flags|=8192)):Tn(e),null;case 24:return null;case 25:return null}throw Error(ee(156,e.tag))}function O2(t,e){switch(Iv(e),e.tag){case 1:return nr(e.type)&&pf(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return vl(),St(tr),St(Nn),Ov(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Nv(e),null;case 13:if(St(Pt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(ee(340));yl()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return St(Pt),null;case 4:return vl(),null;case 10:return bv(e.type._context),null;case 22:case 23:return Wv(),null;case 24:return null;default:return null}}var lh=!1,Cn=!1,D2=typeof WeakSet=="function"?WeakSet:Set,ge=null;function Ya(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Lt(t,e,r)}else n.current=null}function Uy(t,e,n){try{n()}catch(r){Lt(t,e,r)}}var CT=!1;function L2(t,e){if(Ty=cf,t=nR(),Tv(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,d=0,h=t,f=null;t:for(;;){for(var m;h!==n||i!==0&&h.nodeType!==3||(a=o+i),h!==s||r!==0&&h.nodeType!==3||(l=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(m=h.firstChild)!==null;)f=h,h=m;for(;;){if(h===t)break t;if(f===n&&++u===i&&(a=o),f===s&&++d===r&&(l=o),(m=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=m}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Sy={focusedElem:t,selectionRange:n},cf=!1,ge=e;ge!==null;)if(e=ge,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ge=t;else for(;ge!==null;){e=ge;try{var y=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var E=y.memoizedProps,S=y.memoizedState,T=e.stateNode,_=T.getSnapshotBeforeUpdate(e.elementType===e.type?E:Br(e.type,E),S);T.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var w=e.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ee(163))}}catch(A){Lt(e,e.return,A)}if(t=e.sibling,t!==null){t.return=e.return,ge=t;break}ge=e.return}return y=CT,CT=!1,y}function Xu(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&Uy(e,n,s)}i=i.next}while(i!==r)}}function xp(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function jy(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function JR(t){var e=t.alternate;e!==null&&(t.alternate=null,JR(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[di],delete e[Ic],delete e[Ry],delete e[y2],delete e[_2])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function ZR(t){return t.tag===5||t.tag===3||t.tag===4}function RT(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||ZR(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function $y(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=ff));else if(r!==4&&(t=t.child,t!==null))for($y(t,e,n),t=t.sibling;t!==null;)$y(t,e,n),t=t.sibling}function By(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(By(t,e,n),t=t.sibling;t!==null;)By(t,e,n),t=t.sibling}var un=null,zr=!1;function ds(t,e,n){for(n=n.child;n!==null;)eA(t,e,n),n=n.sibling}function eA(t,e,n){if(mi&&typeof mi.onCommitFiberUnmount=="function")try{mi.onCommitFiberUnmount(Tp,n)}catch{}switch(n.tag){case 5:Cn||Ya(n,e);case 6:var r=un,i=zr;un=null,ds(t,e,n),un=r,zr=i,un!==null&&(zr?(t=un,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):un.removeChild(n.stateNode));break;case 18:un!==null&&(zr?(t=un,n=n.stateNode,t.nodeType===8?ng(t.parentNode,n):t.nodeType===1&&ng(t,n),vc(t)):ng(un,n.stateNode));break;case 4:r=un,i=zr,un=n.stateNode.containerInfo,zr=!0,ds(t,e,n),un=r,zr=i;break;case 0:case 11:case 14:case 15:if(!Cn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Uy(n,e,o),i=i.next}while(i!==r)}ds(t,e,n);break;case 1:if(!Cn&&(Ya(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Lt(n,e,a)}ds(t,e,n);break;case 21:ds(t,e,n);break;case 22:n.mode&1?(Cn=(r=Cn)||n.memoizedState!==null,ds(t,e,n),Cn=r):ds(t,e,n);break;default:ds(t,e,n)}}function AT(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new D2),e.forEach(function(r){var i=W2.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function $r(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:un=a.stateNode,zr=!1;break e;case 3:un=a.stateNode.containerInfo,zr=!0;break e;case 4:un=a.stateNode.containerInfo,zr=!0;break e}a=a.return}if(un===null)throw Error(ee(160));eA(s,o,i),un=null,zr=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){Lt(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)tA(e,t),e=e.sibling}function tA(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if($r(e,t),li(t),r&4){try{Xu(3,t,t.return),xp(3,t)}catch(E){Lt(t,t.return,E)}try{Xu(5,t,t.return)}catch(E){Lt(t,t.return,E)}}break;case 1:$r(e,t),li(t),r&512&&n!==null&&Ya(n,n.return);break;case 5:if($r(e,t),li(t),r&512&&n!==null&&Ya(n,n.return),t.flags&32){var i=t.stateNode;try{mc(i,"")}catch(E){Lt(t,t.return,E)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&SC(i,s),hy(a,o);var u=hy(a,s);for(o=0;o<l.length;o+=2){var d=l[o],h=l[o+1];d==="style"?bC(i,h):d==="dangerouslySetInnerHTML"?RC(i,h):d==="children"?mc(i,h):uv(i,d,h,u)}switch(a){case"input":ay(i,s);break;case"textarea":IC(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var m=s.value;m!=null?nl(i,!!s.multiple,m,!1):f!==!!s.multiple&&(s.defaultValue!=null?nl(i,!!s.multiple,s.defaultValue,!0):nl(i,!!s.multiple,s.multiple?[]:"",!1))}i[Ic]=s}catch(E){Lt(t,t.return,E)}}break;case 6:if($r(e,t),li(t),r&4){if(t.stateNode===null)throw Error(ee(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(E){Lt(t,t.return,E)}}break;case 3:if($r(e,t),li(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{vc(e.containerInfo)}catch(E){Lt(t,t.return,E)}break;case 4:$r(e,t),li(t);break;case 13:$r(e,t),li(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Bv=Ut())),r&4&&AT(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(Cn=(u=Cn)||d,$r(e,t),Cn=u):$r(e,t),li(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(ge=t,d=t.child;d!==null;){for(h=ge=d;ge!==null;){switch(f=ge,m=f.child,f.tag){case 0:case 11:case 14:case 15:Xu(4,f,f.return);break;case 1:Ya(f,f.return);var y=f.stateNode;if(typeof y.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,y.props=e.memoizedProps,y.state=e.memoizedState,y.componentWillUnmount()}catch(E){Lt(r,n,E)}}break;case 5:Ya(f,f.return);break;case 22:if(f.memoizedState!==null){PT(h);continue}}m!==null?(m.return=f,ge=m):PT(h)}d=d.sibling}e:for(d=null,h=t;;){if(h.tag===5){if(d===null){d=h;try{i=h.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=AC("display",o))}catch(E){Lt(t,t.return,E)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(E){Lt(t,t.return,E)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:$r(e,t),li(t),r&4&&AT(t);break;case 21:break;default:$r(e,t),li(t)}}function li(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(ZR(n)){var r=n;break e}n=n.return}throw Error(ee(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(mc(i,""),r.flags&=-33);var s=RT(t);By(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=RT(t);$y(t,a,o);break;default:throw Error(ee(161))}}catch(l){Lt(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function M2(t,e,n){ge=t,nA(t)}function nA(t,e,n){for(var r=(t.mode&1)!==0;ge!==null;){var i=ge,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||lh;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Cn;a=lh;var u=Cn;if(lh=o,(Cn=l)&&!u)for(ge=i;ge!==null;)o=ge,l=o.child,o.tag===22&&o.memoizedState!==null?xT(i):l!==null?(l.return=o,ge=l):xT(i);for(;s!==null;)ge=s,nA(s),s=s.sibling;ge=i,lh=a,Cn=u}bT(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,ge=s):bT(t)}}function bT(t){for(;ge!==null;){var e=ge;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Cn||xp(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Cn)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Br(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&hT(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}hT(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&vc(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ee(163))}Cn||e.flags&512&&jy(e)}catch(f){Lt(e,e.return,f)}}if(e===t){ge=null;break}if(n=e.sibling,n!==null){n.return=e.return,ge=n;break}ge=e.return}}function PT(t){for(;ge!==null;){var e=ge;if(e===t){ge=null;break}var n=e.sibling;if(n!==null){n.return=e.return,ge=n;break}ge=e.return}}function xT(t){for(;ge!==null;){var e=ge;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{xp(4,e)}catch(l){Lt(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){Lt(e,i,l)}}var s=e.return;try{jy(e)}catch(l){Lt(e,s,l)}break;case 5:var o=e.return;try{jy(e)}catch(l){Lt(e,o,l)}}}catch(l){Lt(e,e.return,l)}if(e===t){ge=null;break}var a=e.sibling;if(a!==null){a.return=e.return,ge=a;break}ge=e.return}}var F2=Math.ceil,If=rs.ReactCurrentDispatcher,jv=rs.ReactCurrentOwner,kr=rs.ReactCurrentBatchConfig,et=0,on=null,Wt=null,hn=0,lr=0,Xa=eo(0),Jt=0,xc=null,Ko=0,kp=0,$v=0,Ju=null,Xn=null,Bv=0,wl=1/0,xi=null,Cf=!1,zy=null,Ds=null,uh=!1,Cs=null,Rf=0,Zu=0,Wy=null,Vh=-1,Uh=0;function Wn(){return et&6?Ut():Vh!==-1?Vh:Vh=Ut()}function Ls(t){return t.mode&1?et&2&&hn!==0?hn&-hn:E2.transition!==null?(Uh===0&&(Uh=jC()),Uh):(t=st,t!==0||(t=window.event,t=t===void 0?16:KC(t.type)),t):1}function Jr(t,e,n,r){if(50<Zu)throw Zu=0,Wy=null,Error(ee(185));Zc(t,n,r),(!(et&2)||t!==on)&&(t===on&&(!(et&2)&&(kp|=n),Jt===4&&_s(t,hn)),rr(t,r),n===1&&et===0&&!(e.mode&1)&&(wl=Ut()+500,Ap&&to()))}function rr(t,e){var n=t.callbackNode;ED(t,e);var r=uf(t,t===on?hn:0);if(r===0)n!==null&&Uw(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Uw(n),e===1)t.tag===0?v2(kT.bind(null,t)):hR(kT.bind(null,t)),m2(function(){!(et&6)&&to()}),n=null;else{switch($C(r)){case 1:n=pv;break;case 4:n=VC;break;case 16:n=lf;break;case 536870912:n=UC;break;default:n=lf}n=cA(n,rA.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function rA(t,e){if(Vh=-1,Uh=0,et&6)throw Error(ee(327));var n=t.callbackNode;if(al()&&t.callbackNode!==n)return null;var r=uf(t,t===on?hn:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Af(t,r);else{e=r;var i=et;et|=2;var s=sA();(on!==t||hn!==e)&&(xi=null,wl=Ut()+500,Fo(t,e));do try{j2();break}catch(a){iA(t,a)}while(!0);Av(),If.current=s,et=i,Wt!==null?e=0:(on=null,hn=0,e=Jt)}if(e!==0){if(e===2&&(i=yy(t),i!==0&&(r=i,e=Hy(t,i))),e===1)throw n=xc,Fo(t,0),_s(t,r),rr(t,Ut()),n;if(e===6)_s(t,r);else{if(i=t.current.alternate,!(r&30)&&!V2(i)&&(e=Af(t,r),e===2&&(s=yy(t),s!==0&&(r=s,e=Hy(t,s))),e===1))throw n=xc,Fo(t,0),_s(t,r),rr(t,Ut()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(ee(345));case 2:So(t,Xn,xi);break;case 3:if(_s(t,r),(r&130023424)===r&&(e=Bv+500-Ut(),10<e)){if(uf(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Wn(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Cy(So.bind(null,t,Xn,xi),e);break}So(t,Xn,xi);break;case 4:if(_s(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-Xr(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=Ut()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*F2(r/1960))-r,10<r){t.timeoutHandle=Cy(So.bind(null,t,Xn,xi),r);break}So(t,Xn,xi);break;case 5:So(t,Xn,xi);break;default:throw Error(ee(329))}}}return rr(t,Ut()),t.callbackNode===n?rA.bind(null,t):null}function Hy(t,e){var n=Ju;return t.current.memoizedState.isDehydrated&&(Fo(t,e).flags|=256),t=Af(t,e),t!==2&&(e=Xn,Xn=n,e!==null&&qy(e)),t}function qy(t){Xn===null?Xn=t:Xn.push.apply(Xn,t)}function V2(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!ti(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function _s(t,e){for(e&=~$v,e&=~kp,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Xr(e),r=1<<n;t[n]=-1,e&=~r}}function kT(t){if(et&6)throw Error(ee(327));al();var e=uf(t,0);if(!(e&1))return rr(t,Ut()),null;var n=Af(t,e);if(t.tag!==0&&n===2){var r=yy(t);r!==0&&(e=r,n=Hy(t,r))}if(n===1)throw n=xc,Fo(t,0),_s(t,e),rr(t,Ut()),n;if(n===6)throw Error(ee(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,So(t,Xn,xi),rr(t,Ut()),null}function zv(t,e){var n=et;et|=1;try{return t(e)}finally{et=n,et===0&&(wl=Ut()+500,Ap&&to())}}function Go(t){Cs!==null&&Cs.tag===0&&!(et&6)&&al();var e=et;et|=1;var n=kr.transition,r=st;try{if(kr.transition=null,st=1,t)return t()}finally{st=r,kr.transition=n,et=e,!(et&6)&&to()}}function Wv(){lr=Xa.current,St(Xa)}function Fo(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,p2(n)),Wt!==null)for(n=Wt.return;n!==null;){var r=n;switch(Iv(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&pf();break;case 3:vl(),St(tr),St(Nn),Ov();break;case 5:Nv(r);break;case 4:vl();break;case 13:St(Pt);break;case 19:St(Pt);break;case 10:bv(r.type._context);break;case 22:case 23:Wv()}n=n.return}if(on=t,Wt=t=Ms(t.current,null),hn=lr=e,Jt=0,xc=null,$v=kp=Ko=0,Xn=Ju=null,bo!==null){for(e=0;e<bo.length;e++)if(n=bo[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}bo=null}return t}function iA(t,e){do{var n=Wt;try{if(Av(),Lh.current=Sf,Tf){for(var r=xt.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Tf=!1}if(qo=0,nn=Xt=xt=null,Yu=!1,Ac=0,jv.current=null,n===null||n.return===null){Jt=1,xc=e,Wt=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=hn,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,d=a,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=_T(o);if(m!==null){m.flags&=-257,vT(m,o,a,s,e),m.mode&1&&yT(s,u,e),e=m,l=u;var y=e.updateQueue;if(y===null){var E=new Set;E.add(l),e.updateQueue=E}else y.add(l);break e}else{if(!(e&1)){yT(s,u,e),Hv();break e}l=Error(ee(426))}}else if(Rt&&a.mode&1){var S=_T(o);if(S!==null){!(S.flags&65536)&&(S.flags|=256),vT(S,o,a,s,e),Cv(El(l,a));break e}}s=l=El(l,a),Jt!==4&&(Jt=2),Ju===null?Ju=[s]:Ju.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var T=$R(s,l,e);dT(s,T);break e;case 1:a=l;var _=s.type,w=s.stateNode;if(!(s.flags&128)&&(typeof _.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Ds===null||!Ds.has(w)))){s.flags|=65536,e&=-e,s.lanes|=e;var A=BR(s,a,e);dT(s,A);break e}}s=s.return}while(s!==null)}aA(n)}catch(O){e=O,Wt===n&&n!==null&&(Wt=n=n.return);continue}break}while(!0)}function sA(){var t=If.current;return If.current=Sf,t===null?Sf:t}function Hv(){(Jt===0||Jt===3||Jt===2)&&(Jt=4),on===null||!(Ko&268435455)&&!(kp&268435455)||_s(on,hn)}function Af(t,e){var n=et;et|=2;var r=sA();(on!==t||hn!==e)&&(xi=null,Fo(t,e));do try{U2();break}catch(i){iA(t,i)}while(!0);if(Av(),et=n,If.current=r,Wt!==null)throw Error(ee(261));return on=null,hn=0,Jt}function U2(){for(;Wt!==null;)oA(Wt)}function j2(){for(;Wt!==null&&!dD();)oA(Wt)}function oA(t){var e=uA(t.alternate,t,lr);t.memoizedProps=t.pendingProps,e===null?aA(t):Wt=e,jv.current=null}function aA(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=O2(n,e),n!==null){n.flags&=32767,Wt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Jt=6,Wt=null;return}}else if(n=N2(n,e,lr),n!==null){Wt=n;return}if(e=e.sibling,e!==null){Wt=e;return}Wt=e=t}while(e!==null);Jt===0&&(Jt=5)}function So(t,e,n){var r=st,i=kr.transition;try{kr.transition=null,st=1,$2(t,e,n,r)}finally{kr.transition=i,st=r}return null}function $2(t,e,n,r){do al();while(Cs!==null);if(et&6)throw Error(ee(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(ee(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(wD(t,s),t===on&&(Wt=on=null,hn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||uh||(uh=!0,cA(lf,function(){return al(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=kr.transition,kr.transition=null;var o=st;st=1;var a=et;et|=4,jv.current=null,L2(t,n),tA(n,t),a2(Sy),cf=!!Ty,Sy=Ty=null,t.current=n,M2(n),hD(),et=a,st=o,kr.transition=s}else t.current=n;if(uh&&(uh=!1,Cs=t,Rf=i),s=t.pendingLanes,s===0&&(Ds=null),mD(n.stateNode),rr(t,Ut()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Cf)throw Cf=!1,t=zy,zy=null,t;return Rf&1&&t.tag!==0&&al(),s=t.pendingLanes,s&1?t===Wy?Zu++:(Zu=0,Wy=t):Zu=0,to(),null}function al(){if(Cs!==null){var t=$C(Rf),e=kr.transition,n=st;try{if(kr.transition=null,st=16>t?16:t,Cs===null)var r=!1;else{if(t=Cs,Cs=null,Rf=0,et&6)throw Error(ee(331));var i=et;for(et|=4,ge=t.current;ge!==null;){var s=ge,o=s.child;if(ge.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(ge=u;ge!==null;){var d=ge;switch(d.tag){case 0:case 11:case 15:Xu(8,d,s)}var h=d.child;if(h!==null)h.return=d,ge=h;else for(;ge!==null;){d=ge;var f=d.sibling,m=d.return;if(JR(d),d===u){ge=null;break}if(f!==null){f.return=m,ge=f;break}ge=m}}}var y=s.alternate;if(y!==null){var E=y.child;if(E!==null){y.child=null;do{var S=E.sibling;E.sibling=null,E=S}while(E!==null)}}ge=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,ge=o;else e:for(;ge!==null;){if(s=ge,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Xu(9,s,s.return)}var T=s.sibling;if(T!==null){T.return=s.return,ge=T;break e}ge=s.return}}var _=t.current;for(ge=_;ge!==null;){o=ge;var w=o.child;if(o.subtreeFlags&2064&&w!==null)w.return=o,ge=w;else e:for(o=_;ge!==null;){if(a=ge,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:xp(9,a)}}catch(O){Lt(a,a.return,O)}if(a===o){ge=null;break e}var A=a.sibling;if(A!==null){A.return=a.return,ge=A;break e}ge=a.return}}if(et=i,to(),mi&&typeof mi.onPostCommitFiberRoot=="function")try{mi.onPostCommitFiberRoot(Tp,t)}catch{}r=!0}return r}finally{st=n,kr.transition=e}}return!1}function NT(t,e,n){e=El(n,e),e=$R(t,e,1),t=Os(t,e,1),e=Wn(),t!==null&&(Zc(t,1,e),rr(t,e))}function Lt(t,e,n){if(t.tag===3)NT(t,t,n);else for(;e!==null;){if(e.tag===3){NT(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ds===null||!Ds.has(r))){t=El(n,t),t=BR(e,t,1),e=Os(e,t,1),t=Wn(),e!==null&&(Zc(e,1,t),rr(e,t));break}}e=e.return}}function B2(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Wn(),t.pingedLanes|=t.suspendedLanes&n,on===t&&(hn&n)===n&&(Jt===4||Jt===3&&(hn&130023424)===hn&&500>Ut()-Bv?Fo(t,0):$v|=n),rr(t,e)}function lA(t,e){e===0&&(t.mode&1?(e=Zd,Zd<<=1,!(Zd&130023424)&&(Zd=4194304)):e=1);var n=Wn();t=Gi(t,e),t!==null&&(Zc(t,e,n),rr(t,n))}function z2(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),lA(t,n)}function W2(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(ee(314))}r!==null&&r.delete(e),lA(t,n)}var uA;uA=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||tr.current)Zn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Zn=!1,k2(t,e,n);Zn=!!(t.flags&131072)}else Zn=!1,Rt&&e.flags&1048576&&fR(e,yf,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Fh(t,e),t=e.pendingProps;var i=gl(e,Nn.current);ol(e,n),i=Lv(null,e,r,t,i,n);var s=Mv();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,nr(r)?(s=!0,mf(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,xv(e),i.updater=Pp,e.stateNode=i,i._reactInternals=e,Ny(e,r,t,n),e=Ly(null,e,r,!0,s,n)):(e.tag=0,Rt&&s&&Sv(e),jn(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Fh(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=q2(r),t=Br(r,t),i){case 0:e=Dy(null,e,r,t,n);break e;case 1:e=TT(null,e,r,t,n);break e;case 11:e=ET(null,e,r,t,n);break e;case 14:e=wT(null,e,r,Br(r.type,t),n);break e}throw Error(ee(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Br(r,i),Dy(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Br(r,i),TT(t,e,r,i,n);case 3:e:{if(qR(e),t===null)throw Error(ee(387));r=e.pendingProps,s=e.memoizedState,i=s.element,vR(t,e),Ef(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=El(Error(ee(423)),e),e=ST(t,e,r,n,i);break e}else if(r!==i){i=El(Error(ee(424)),e),e=ST(t,e,r,n,i);break e}else for(cr=Ns(e.stateNode.containerInfo.firstChild),pr=e,Rt=!0,Hr=null,n=yR(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(yl(),r===i){e=Qi(t,e,n);break e}jn(t,e,r,n)}e=e.child}return e;case 5:return ER(e),t===null&&Py(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,Iy(r,i)?o=null:s!==null&&Iy(r,s)&&(e.flags|=32),HR(t,e),jn(t,e,o,n),e.child;case 6:return t===null&&Py(e),null;case 13:return KR(t,e,n);case 4:return kv(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=_l(e,null,r,n):jn(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Br(r,i),ET(t,e,r,i,n);case 7:return jn(t,e,e.pendingProps,n),e.child;case 8:return jn(t,e,e.pendingProps.children,n),e.child;case 12:return jn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,pt(_f,r._currentValue),r._currentValue=o,s!==null)if(ti(s.value,o)){if(s.children===i.children&&!tr.current){e=Qi(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=$i(-1,n&-n),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?l.next=l:(l.next=d.next,d.next=l),u.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),xy(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(ee(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),xy(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}jn(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,ol(e,n),i=Or(i),r=r(i),e.flags|=1,jn(t,e,r,n),e.child;case 14:return r=e.type,i=Br(r,e.pendingProps),i=Br(r.type,i),wT(t,e,r,i,n);case 15:return zR(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Br(r,i),Fh(t,e),e.tag=1,nr(r)?(t=!0,mf(e)):t=!1,ol(e,n),jR(e,r,i),Ny(e,r,i,n),Ly(null,e,r,!0,t,n);case 19:return GR(t,e,n);case 22:return WR(t,e,n)}throw Error(ee(156,e.tag))};function cA(t,e){return FC(t,e)}function H2(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pr(t,e,n,r){return new H2(t,e,n,r)}function qv(t){return t=t.prototype,!(!t||!t.isReactComponent)}function q2(t){if(typeof t=="function")return qv(t)?1:0;if(t!=null){if(t=t.$$typeof,t===dv)return 11;if(t===hv)return 14}return 2}function Ms(t,e){var n=t.alternate;return n===null?(n=Pr(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function jh(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")qv(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case $a:return Vo(n.children,i,s,e);case cv:o=8,i|=8;break;case ny:return t=Pr(12,n,e,i|2),t.elementType=ny,t.lanes=s,t;case ry:return t=Pr(13,n,e,i),t.elementType=ry,t.lanes=s,t;case iy:return t=Pr(19,n,e,i),t.elementType=iy,t.lanes=s,t;case EC:return Np(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case _C:o=10;break e;case vC:o=9;break e;case dv:o=11;break e;case hv:o=14;break e;case ms:o=16,r=null;break e}throw Error(ee(130,t==null?t:typeof t,""))}return e=Pr(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Vo(t,e,n,r){return t=Pr(7,t,r,e),t.lanes=n,t}function Np(t,e,n,r){return t=Pr(22,t,r,e),t.elementType=EC,t.lanes=n,t.stateNode={isHidden:!1},t}function cg(t,e,n){return t=Pr(6,t,null,e),t.lanes=n,t}function dg(t,e,n){return e=Pr(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function K2(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Hm(0),this.expirationTimes=Hm(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Hm(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Kv(t,e,n,r,i,s,o,a,l){return t=new K2(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Pr(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},xv(s),t}function G2(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ja,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function dA(t){if(!t)return Ws;t=t._reactInternals;e:{if(ha(t)!==t||t.tag!==1)throw Error(ee(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(nr(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(ee(171))}if(t.tag===1){var n=t.type;if(nr(n))return dR(t,n,e)}return e}function hA(t,e,n,r,i,s,o,a,l){return t=Kv(n,r,!0,t,i,s,o,a,l),t.context=dA(null),n=t.current,r=Wn(),i=Ls(n),s=$i(r,i),s.callback=e??null,Os(n,s,i),t.current.lanes=i,Zc(t,i,r),rr(t,r),t}function Op(t,e,n,r){var i=e.current,s=Wn(),o=Ls(i);return n=dA(n),e.context===null?e.context=n:e.pendingContext=n,e=$i(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Os(i,e,o),t!==null&&(Jr(t,i,o,s),Dh(t,i,o)),o}function bf(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function OT(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Gv(t,e){OT(t,e),(t=t.alternate)&&OT(t,e)}function Q2(){return null}var fA=typeof reportError=="function"?reportError:function(t){console.error(t)};function Qv(t){this._internalRoot=t}Dp.prototype.render=Qv.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(ee(409));Op(t,e,null,null)};Dp.prototype.unmount=Qv.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Go(function(){Op(null,t,null,null)}),e[Ki]=null}};function Dp(t){this._internalRoot=t}Dp.prototype.unstable_scheduleHydration=function(t){if(t){var e=WC();t={blockedOn:null,target:t,priority:e};for(var n=0;n<ys.length&&e!==0&&e<ys[n].priority;n++);ys.splice(n,0,t),n===0&&qC(t)}};function Yv(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Lp(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function DT(){}function Y2(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=bf(o);s.call(u)}}var o=hA(e,r,t,0,null,!1,!1,"",DT);return t._reactRootContainer=o,t[Ki]=o.current,Tc(t.nodeType===8?t.parentNode:t),Go(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=bf(l);a.call(u)}}var l=Kv(t,0,!1,null,null,!1,!1,"",DT);return t._reactRootContainer=l,t[Ki]=l.current,Tc(t.nodeType===8?t.parentNode:t),Go(function(){Op(e,l,n,r)}),l}function Mp(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=bf(o);a.call(l)}}Op(e,o,t,i)}else o=Y2(n,e,t,i,r);return bf(o)}BC=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Fu(e.pendingLanes);n!==0&&(mv(e,n|1),rr(e,Ut()),!(et&6)&&(wl=Ut()+500,to()))}break;case 13:Go(function(){var r=Gi(t,1);if(r!==null){var i=Wn();Jr(r,t,1,i)}}),Gv(t,1)}};gv=function(t){if(t.tag===13){var e=Gi(t,134217728);if(e!==null){var n=Wn();Jr(e,t,134217728,n)}Gv(t,134217728)}};zC=function(t){if(t.tag===13){var e=Ls(t),n=Gi(t,e);if(n!==null){var r=Wn();Jr(n,t,e,r)}Gv(t,e)}};WC=function(){return st};HC=function(t,e){var n=st;try{return st=t,e()}finally{st=n}};py=function(t,e,n){switch(e){case"input":if(ay(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Rp(r);if(!i)throw Error(ee(90));TC(r),ay(r,i)}}}break;case"textarea":IC(t,n);break;case"select":e=n.value,e!=null&&nl(t,!!n.multiple,e,!1)}};kC=zv;NC=Go;var X2={usingClientEntryPoint:!1,Events:[td,Ha,Rp,PC,xC,zv]},Tu={findFiberByHostInstance:Ao,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},J2={bundleType:Tu.bundleType,version:Tu.version,rendererPackageName:Tu.rendererPackageName,rendererConfig:Tu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:rs.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=LC(t),t===null?null:t.stateNode},findFiberByHostInstance:Tu.findFiberByHostInstance||Q2,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ch=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ch.isDisabled&&ch.supportsFiber)try{Tp=ch.inject(J2),mi=ch}catch{}}wr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=X2;wr.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Yv(e))throw Error(ee(200));return G2(t,e,null,n)};wr.createRoot=function(t,e){if(!Yv(t))throw Error(ee(299));var n=!1,r="",i=fA;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Kv(t,1,!1,null,null,n,!1,r,i),t[Ki]=e.current,Tc(t.nodeType===8?t.parentNode:t),new Qv(e)};wr.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(ee(188)):(t=Object.keys(t).join(","),Error(ee(268,t)));return t=LC(e),t=t===null?null:t.stateNode,t};wr.flushSync=function(t){return Go(t)};wr.hydrate=function(t,e,n){if(!Lp(e))throw Error(ee(200));return Mp(null,t,e,!0,n)};wr.hydrateRoot=function(t,e,n){if(!Yv(t))throw Error(ee(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=fA;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=hA(e,null,t,1,n??null,i,!1,s,o),t[Ki]=e.current,Tc(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Dp(e)};wr.render=function(t,e,n){if(!Lp(e))throw Error(ee(200));return Mp(null,t,e,!1,n)};wr.unmountComponentAtNode=function(t){if(!Lp(t))throw Error(ee(40));return t._reactRootContainer?(Go(function(){Mp(null,null,t,!1,function(){t._reactRootContainer=null,t[Ki]=null})}),!0):!1};wr.unstable_batchedUpdates=zv;wr.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Lp(n))throw Error(ee(200));if(t==null||t._reactInternals===void 0)throw Error(ee(38));return Mp(t,e,n,!1,r)};wr.version="18.3.1-next-f1338f8080-20240426";function pA(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(pA)}catch(t){console.error(t)}}pA(),pC.exports=wr;var mr=pC.exports;const Z2=nv(mr),eL=nC({__proto__:null,default:Z2},[mr]);var mA,LT=mr;mA=LT.createRoot,LT.hydrateRoot;var rd=t=>t.type==="checkbox",Ja=t=>t instanceof Date,$n=t=>t==null;const gA=t=>typeof t=="object";var Kt=t=>!$n(t)&&!Array.isArray(t)&&gA(t)&&!Ja(t),tL=t=>Kt(t)&&t.target?rd(t.target)?t.target.checked:t.target.value:t,nL=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,rL=(t,e)=>t.has(nL(e)),iL=t=>{const e=t.constructor&&t.constructor.prototype;return Kt(e)&&e.hasOwnProperty("isPrototypeOf")},Xv=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Cr(t){let e;const n=Array.isArray(t);if(t instanceof Date)e=new Date(t);else if(t instanceof Set)e=new Set(t);else if(!(Xv&&(t instanceof Blob||t instanceof FileList))&&(n||Kt(t)))if(e=n?[]:{},!n&&!iL(t))e=t;else for(const r in t)t.hasOwnProperty(r)&&(e[r]=Cr(t[r]));else return t;return e}var Fp=t=>Array.isArray(t)?t.filter(Boolean):[],Ft=t=>t===void 0,ve=(t,e,n)=>{if(!e||!Kt(t))return n;const r=Fp(e.split(/[,[\].]+?/)).reduce((i,s)=>$n(i)?i:i[s],t);return Ft(r)||r===t?Ft(t[e])?n:t[e]:r},ci=t=>typeof t=="boolean",Jv=t=>/^\w*$/.test(t),yA=t=>Fp(t.replace(/["|']|\]/g,"").split(/\.|\[/)),vt=(t,e,n)=>{let r=-1;const i=Jv(e)?[e]:yA(e),s=i.length,o=s-1;for(;++r<s;){const a=i[r];let l=n;if(r!==o){const u=t[a];l=Kt(u)||Array.isArray(u)?u:isNaN(+i[r+1])?{}:[]}if(a==="__proto__")return;t[a]=l,t=t[a]}return t};const MT={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},qr={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},bi={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"};pe.createContext(null);var sL=(t,e,n,r=!0)=>{const i={defaultValues:e._defaultValues};for(const s in t)Object.defineProperty(i,s,{get:()=>{const o=s;return e._proxyFormState[o]!==qr.all&&(e._proxyFormState[o]=!r||qr.all),t[o]}});return i},Qn=t=>Kt(t)&&!Object.keys(t).length,oL=(t,e,n,r)=>{n(t);const{name:i,...s}=t;return Qn(s)||Object.keys(s).length>=Object.keys(e).length||Object.keys(s).find(o=>e[o]===qr.all)},$h=t=>Array.isArray(t)?t:[t];function aL(t){const e=pe.useRef(t);e.current=t,pe.useEffect(()=>{const n=!t.disabled&&e.current.subject&&e.current.subject.subscribe({next:e.current.next});return()=>{n&&n.unsubscribe()}},[t.disabled])}var hi=t=>typeof t=="string",lL=(t,e,n,r,i)=>hi(t)?(r&&e.watch.add(t),ve(n,t,i)):Array.isArray(t)?t.map(s=>(r&&e.watch.add(s),ve(n,s))):(r&&(e.watchAll=!0),n),uL=(t,e,n,r,i)=>e?{...n[t],types:{...n[t]&&n[t].types?n[t].types:{},[r]:i||!0}}:{},FT=t=>({isOnSubmit:!t||t===qr.onSubmit,isOnBlur:t===qr.onBlur,isOnChange:t===qr.onChange,isOnAll:t===qr.all,isOnTouch:t===qr.onTouched}),VT=(t,e,n)=>!n&&(e.watchAll||e.watch.has(t)||[...e.watch].some(r=>t.startsWith(r)&&/^\.\w+/.test(t.slice(r.length))));const ec=(t,e,n,r)=>{for(const i of n||Object.keys(t)){const s=ve(t,i);if(s){const{_f:o,...a}=s;if(o){if(o.refs&&o.refs[0]&&e(o.refs[0],i)&&!r)return!0;if(o.ref&&e(o.ref,o.name)&&!r)return!0;if(ec(a,e))break}else if(Kt(a)&&ec(a,e))break}}};var cL=(t,e,n)=>{const r=$h(ve(t,n));return vt(r,"root",e[n]),vt(t,n,r),t},Zv=t=>t.type==="file",Li=t=>typeof t=="function",Pf=t=>{if(!Xv)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},Bh=t=>hi(t),e0=t=>t.type==="radio",xf=t=>t instanceof RegExp;const UT={value:!1,isValid:!1},jT={value:!0,isValid:!0};var _A=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!Ft(t[0].attributes.value)?Ft(t[0].value)||t[0].value===""?jT:{value:t[0].value,isValid:!0}:jT:UT}return UT};const $T={isValid:!1,value:null};var vA=t=>Array.isArray(t)?t.reduce((e,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:e,$T):$T;function BT(t,e,n="validate"){if(Bh(t)||Array.isArray(t)&&t.every(Bh)||ci(t)&&!t)return{type:n,message:Bh(t)?t:"",ref:e}}var Pa=t=>Kt(t)&&!xf(t)?t:{value:t,message:""},zT=async(t,e,n,r,i)=>{const{ref:s,refs:o,required:a,maxLength:l,minLength:u,min:d,max:h,pattern:f,validate:m,name:y,valueAsNumber:E,mount:S,disabled:T}=t._f,_=ve(e,y);if(!S||T)return{};const w=o?o[0]:s,A=N=>{r&&w.reportValidity&&(w.setCustomValidity(ci(N)?"":N||""),w.reportValidity())},O={},F=e0(s),R=rd(s),g=F||R,C=(E||Zv(s))&&Ft(s.value)&&Ft(_)||Pf(s)&&s.value===""||_===""||Array.isArray(_)&&!_.length,b=uL.bind(null,y,n,O),k=(N,x,re,Ae=bi.maxLength,Ce=bi.minLength)=>{const te=N?x:re;O[y]={type:N?Ae:Ce,message:te,ref:s,...b(N?Ae:Ce,te)}};if(i?!Array.isArray(_)||!_.length:a&&(!g&&(C||$n(_))||ci(_)&&!_||R&&!_A(o).isValid||F&&!vA(o).isValid)){const{value:N,message:x}=Bh(a)?{value:!!a,message:a}:Pa(a);if(N&&(O[y]={type:bi.required,message:x,ref:w,...b(bi.required,x)},!n))return A(x),O}if(!C&&(!$n(d)||!$n(h))){let N,x;const re=Pa(h),Ae=Pa(d);if(!$n(_)&&!isNaN(_)){const Ce=s.valueAsNumber||_&&+_;$n(re.value)||(N=Ce>re.value),$n(Ae.value)||(x=Ce<Ae.value)}else{const Ce=s.valueAsDate||new Date(_),te=ie=>new Date(new Date().toDateString()+" "+ie),H=s.type=="time",Q=s.type=="week";hi(re.value)&&_&&(N=H?te(_)>te(re.value):Q?_>re.value:Ce>new Date(re.value)),hi(Ae.value)&&_&&(x=H?te(_)<te(Ae.value):Q?_<Ae.value:Ce<new Date(Ae.value))}if((N||x)&&(k(!!N,re.message,Ae.message,bi.max,bi.min),!n))return A(O[y].message),O}if((l||u)&&!C&&(hi(_)||i&&Array.isArray(_))){const N=Pa(l),x=Pa(u),re=!$n(N.value)&&_.length>+N.value,Ae=!$n(x.value)&&_.length<+x.value;if((re||Ae)&&(k(re,N.message,x.message),!n))return A(O[y].message),O}if(f&&!C&&hi(_)){const{value:N,message:x}=Pa(f);if(xf(N)&&!_.match(N)&&(O[y]={type:bi.pattern,message:x,ref:s,...b(bi.pattern,x)},!n))return A(x),O}if(m){if(Li(m)){const N=await m(_,e),x=BT(N,w);if(x&&(O[y]={...x,...b(bi.validate,x.message)},!n))return A(x.message),O}else if(Kt(m)){let N={};for(const x in m){if(!Qn(N)&&!n)break;const re=BT(await m[x](_,e),w,x);re&&(N={...re,...b(x,re.message)},A(re.message),n&&(O[y]=N))}if(!Qn(N)&&(O[y]={ref:w,...N},!n))return O}}return A(!0),O};function dL(t,e){const n=e.slice(0,-1).length;let r=0;for(;r<n;)t=Ft(t)?r++:t[e[r++]];return t}function hL(t){for(const e in t)if(t.hasOwnProperty(e)&&!Ft(t[e]))return!1;return!0}function Yt(t,e){const n=Array.isArray(e)?e:Jv(e)?[e]:yA(e),r=n.length===1?t:dL(t,n),i=n.length-1,s=n[i];return r&&delete r[s],i!==0&&(Kt(r)&&Qn(r)||Array.isArray(r)&&hL(r))&&Yt(t,n.slice(0,-1)),t}var hg=()=>{let t=[];return{get observers(){return t},next:i=>{for(const s of t)s.next&&s.next(i)},subscribe:i=>(t.push(i),{unsubscribe:()=>{t=t.filter(s=>s!==i)}}),unsubscribe:()=>{t=[]}}},kf=t=>$n(t)||!gA(t);function vs(t,e){if(kf(t)||kf(e))return t===e;if(Ja(t)&&Ja(e))return t.getTime()===e.getTime();const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(const i of n){const s=t[i];if(!r.includes(i))return!1;if(i!=="ref"){const o=e[i];if(Ja(s)&&Ja(o)||Kt(s)&&Kt(o)||Array.isArray(s)&&Array.isArray(o)?!vs(s,o):s!==o)return!1}}return!0}var EA=t=>t.type==="select-multiple",fL=t=>e0(t)||rd(t),fg=t=>Pf(t)&&t.isConnected,wA=t=>{for(const e in t)if(Li(t[e]))return!0;return!1};function Nf(t,e={}){const n=Array.isArray(t);if(Kt(t)||n)for(const r in t)Array.isArray(t[r])||Kt(t[r])&&!wA(t[r])?(e[r]=Array.isArray(t[r])?[]:{},Nf(t[r],e[r])):$n(t[r])||(e[r]=!0);return e}function TA(t,e,n){const r=Array.isArray(t);if(Kt(t)||r)for(const i in t)Array.isArray(t[i])||Kt(t[i])&&!wA(t[i])?Ft(e)||kf(n[i])?n[i]=Array.isArray(t[i])?Nf(t[i],[]):{...Nf(t[i])}:TA(t[i],$n(e)?{}:e[i],n[i]):n[i]=!vs(t[i],e[i]);return n}var dh=(t,e)=>TA(t,e,Nf(e)),SA=(t,{valueAsNumber:e,valueAsDate:n,setValueAs:r})=>Ft(t)?t:e?t===""?NaN:t&&+t:n&&hi(t)?new Date(t):r?r(t):t;function pg(t){const e=t.ref;if(!(t.refs?t.refs.every(n=>n.disabled):e.disabled))return Zv(e)?e.files:e0(e)?vA(t.refs).value:EA(e)?[...e.selectedOptions].map(({value:n})=>n):rd(e)?_A(t.refs).value:SA(Ft(e.value)?t.ref.value:e.value,t)}var pL=(t,e,n,r)=>{const i={};for(const s of t){const o=ve(e,s);o&&vt(i,s,o._f)}return{criteriaMode:n,names:[...t],fields:i,shouldUseNativeValidation:r}},Su=t=>Ft(t)?t:xf(t)?t.source:Kt(t)?xf(t.value)?t.value.source:t.value:t;const WT="AsyncFunction";var mL=t=>(!t||!t.validate)&&!!(Li(t.validate)&&t.validate.constructor.name===WT||Kt(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===WT)),gL=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate);function HT(t,e,n){const r=ve(t,n);if(r||Jv(n))return{error:r,name:n};const i=n.split(".");for(;i.length;){const s=i.join("."),o=ve(e,s),a=ve(t,s);if(o&&!Array.isArray(o)&&n!==s)return{name:n};if(a&&a.type)return{name:s,error:a};i.pop()}return{name:n}}var yL=(t,e,n,r,i)=>i.isOnAll?!1:!n&&i.isOnTouch?!(e||t):(n?r.isOnBlur:i.isOnBlur)?!t:(n?r.isOnChange:i.isOnChange)?t:!0,_L=(t,e)=>!Fp(ve(t,e)).length&&Yt(t,e);const vL={mode:qr.onSubmit,reValidateMode:qr.onChange,shouldFocusError:!0};function EL(t={}){let e={...vL,...t},n={submitCount:0,isDirty:!1,isLoading:Li(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},r={},i=Kt(e.defaultValues)||Kt(e.values)?Cr(e.defaultValues||e.values)||{}:{},s=e.shouldUnregister?{}:Cr(i),o={action:!1,mount:!1,watch:!1},a={mount:new Set,unMount:new Set,array:new Set,watch:new Set},l,u=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},h={values:hg(),array:hg(),state:hg()},f=FT(e.mode),m=FT(e.reValidateMode),y=e.criteriaMode===qr.all,E=L=>$=>{clearTimeout(u),u=setTimeout(L,$)},S=async L=>{if(d.isValid||L){const $=e.resolver?Qn((await g()).errors):await b(r,!0);$!==n.isValid&&h.state.next({isValid:$})}},T=(L,$)=>{(d.isValidating||d.validatingFields)&&((L||Array.from(a.mount)).forEach(K=>{K&&($?vt(n.validatingFields,K,$):Yt(n.validatingFields,K))}),h.state.next({validatingFields:n.validatingFields,isValidating:!Qn(n.validatingFields)}))},_=(L,$=[],K,ue,oe=!0,ne=!0)=>{if(ue&&K){if(o.action=!0,ne&&Array.isArray(ve(r,L))){const Se=K(ve(r,L),ue.argA,ue.argB);oe&&vt(r,L,Se)}if(ne&&Array.isArray(ve(n.errors,L))){const Se=K(ve(n.errors,L),ue.argA,ue.argB);oe&&vt(n.errors,L,Se),_L(n.errors,L)}if(d.touchedFields&&ne&&Array.isArray(ve(n.touchedFields,L))){const Se=K(ve(n.touchedFields,L),ue.argA,ue.argB);oe&&vt(n.touchedFields,L,Se)}d.dirtyFields&&(n.dirtyFields=dh(i,s)),h.state.next({name:L,isDirty:N(L,$),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else vt(s,L,$)},w=(L,$)=>{vt(n.errors,L,$),h.state.next({errors:n.errors})},A=L=>{n.errors=L,h.state.next({errors:n.errors,isValid:!1})},O=(L,$,K,ue)=>{const oe=ve(r,L);if(oe){const ne=ve(s,L,Ft(K)?ve(i,L):K);Ft(ne)||ue&&ue.defaultChecked||$?vt(s,L,$?ne:pg(oe._f)):Ae(L,ne),o.mount&&S()}},F=(L,$,K,ue,oe)=>{let ne=!1,Se=!1;const Ke={name:L},Ue=!!(ve(r,L)&&ve(r,L)._f&&ve(r,L)._f.disabled);if(!K||ue){d.isDirty&&(Se=n.isDirty,n.isDirty=Ke.isDirty=N(),ne=Se!==Ke.isDirty);const $e=Ue||vs(ve(i,L),$);Se=!!(!Ue&&ve(n.dirtyFields,L)),$e||Ue?Yt(n.dirtyFields,L):vt(n.dirtyFields,L,!0),Ke.dirtyFields=n.dirtyFields,ne=ne||d.dirtyFields&&Se!==!$e}if(K){const $e=ve(n.touchedFields,L);$e||(vt(n.touchedFields,L,K),Ke.touchedFields=n.touchedFields,ne=ne||d.touchedFields&&$e!==K)}return ne&&oe&&h.state.next(Ke),ne?Ke:{}},R=(L,$,K,ue)=>{const oe=ve(n.errors,L),ne=d.isValid&&ci($)&&n.isValid!==$;if(t.delayError&&K?(l=E(()=>w(L,K)),l(t.delayError)):(clearTimeout(u),l=null,K?vt(n.errors,L,K):Yt(n.errors,L)),(K?!vs(oe,K):oe)||!Qn(ue)||ne){const Se={...ue,...ne&&ci($)?{isValid:$}:{},errors:n.errors,name:L};n={...n,...Se},h.state.next(Se)}},g=async L=>{T(L,!0);const $=await e.resolver(s,e.context,pL(L||a.mount,r,e.criteriaMode,e.shouldUseNativeValidation));return T(L),$},C=async L=>{const{errors:$}=await g(L);if(L)for(const K of L){const ue=ve($,K);ue?vt(n.errors,K,ue):Yt(n.errors,K)}else n.errors=$;return $},b=async(L,$,K={valid:!0})=>{for(const ue in L){const oe=L[ue];if(oe){const{_f:ne,...Se}=oe;if(ne){const Ke=a.array.has(ne.name),Ue=oe._f&&mL(oe._f);Ue&&d.validatingFields&&T([ue],!0);const $e=await zT(oe,s,y,e.shouldUseNativeValidation&&!$,Ke);if(Ue&&d.validatingFields&&T([ue]),$e[ne.name]&&(K.valid=!1,$))break;!$&&(ve($e,ne.name)?Ke?cL(n.errors,$e,ne.name):vt(n.errors,ne.name,$e[ne.name]):Yt(n.errors,ne.name))}!Qn(Se)&&await b(Se,$,K)}}return K.valid},k=()=>{for(const L of a.unMount){const $=ve(r,L);$&&($._f.refs?$._f.refs.every(K=>!fg(K)):!fg($._f.ref))&&me(L)}a.unMount=new Set},N=(L,$)=>(L&&$&&vt(s,L,$),!vs(xe(),i)),x=(L,$,K)=>lL(L,a,{...o.mount?s:Ft($)?i:hi(L)?{[L]:$}:$},K,$),re=L=>Fp(ve(o.mount?s:i,L,t.shouldUnregister?ve(i,L,[]):[])),Ae=(L,$,K={})=>{const ue=ve(r,L);let oe=$;if(ue){const ne=ue._f;ne&&(!ne.disabled&&vt(s,L,SA($,ne)),oe=Pf(ne.ref)&&$n($)?"":$,EA(ne.ref)?[...ne.ref.options].forEach(Se=>Se.selected=oe.includes(Se.value)):ne.refs?rd(ne.ref)?ne.refs.length>1?ne.refs.forEach(Se=>(!Se.defaultChecked||!Se.disabled)&&(Se.checked=Array.isArray(oe)?!!oe.find(Ke=>Ke===Se.value):oe===Se.value)):ne.refs[0]&&(ne.refs[0].checked=!!oe):ne.refs.forEach(Se=>Se.checked=Se.value===oe):Zv(ne.ref)?ne.ref.value="":(ne.ref.value=oe,ne.ref.type||h.values.next({name:L,values:{...s}})))}(K.shouldDirty||K.shouldTouch)&&F(L,oe,K.shouldTouch,K.shouldDirty,!0),K.shouldValidate&&ie(L)},Ce=(L,$,K)=>{for(const ue in $){const oe=$[ue],ne=`${L}.${ue}`,Se=ve(r,ne);(a.array.has(L)||!kf(oe)||Se&&!Se._f)&&!Ja(oe)?Ce(ne,oe,K):Ae(ne,oe,K)}},te=(L,$,K={})=>{const ue=ve(r,L),oe=a.array.has(L),ne=Cr($);vt(s,L,ne),oe?(h.array.next({name:L,values:{...s}}),(d.isDirty||d.dirtyFields)&&K.shouldDirty&&h.state.next({name:L,dirtyFields:dh(i,s),isDirty:N(L,ne)})):ue&&!ue._f&&!$n(ne)?Ce(L,ne,K):Ae(L,ne,K),VT(L,a)&&h.state.next({...n}),h.values.next({name:o.mount?L:void 0,values:{...s}})},H=async L=>{o.mount=!0;const $=L.target;let K=$.name,ue=!0;const oe=ve(r,K),ne=()=>$.type?pg(oe._f):tL(L),Se=Ke=>{ue=Number.isNaN(Ke)||vs(Ke,ve(s,K,Ke))};if(oe){let Ke,Ue;const $e=ne(),Dn=L.type===MT.BLUR||L.type===MT.FOCUS_OUT,ss=!gL(oe._f)&&!e.resolver&&!ve(n.errors,K)&&!oe._f.deps||yL(Dn,ve(n.touchedFields,K),n.isSubmitted,m,f),Ln=VT(K,a,Dn);vt(s,K,$e),Dn?(oe._f.onBlur&&oe._f.onBlur(L),l&&l(0)):oe._f.onChange&&oe._f.onChange(L);const Mn=F(K,$e,Dn,!1),si=!Qn(Mn)||Ln;if(!Dn&&h.values.next({name:K,type:L.type,values:{...s}}),ss)return d.isValid&&(t.mode==="onBlur"?Dn&&S():S()),si&&h.state.next({name:K,...Ln?{}:Mn});if(!Dn&&Ln&&h.state.next({...n}),e.resolver){const{errors:oi}=await g([K]);if(Se($e),ue){const Ea=HT(n.errors,r,K),Fn=HT(oi,r,Ea.name||K);Ke=Fn.error,K=Fn.name,Ue=Qn(oi)}}else T([K],!0),Ke=(await zT(oe,s,y,e.shouldUseNativeValidation))[K],T([K]),Se($e),ue&&(Ke?Ue=!1:d.isValid&&(Ue=await b(r,!0)));ue&&(oe._f.deps&&ie(oe._f.deps),R(K,Ue,Ke,Mn))}},Q=(L,$)=>{if(ve(n.errors,$)&&L.focus)return L.focus(),1},ie=async(L,$={})=>{let K,ue;const oe=$h(L);if(e.resolver){const ne=await C(Ft(L)?L:oe);K=Qn(ne),ue=L?!oe.some(Se=>ve(ne,Se)):K}else L?(ue=(await Promise.all(oe.map(async ne=>{const Se=ve(r,ne);return await b(Se&&Se._f?{[ne]:Se}:Se)}))).every(Boolean),!(!ue&&!n.isValid)&&S()):ue=K=await b(r);return h.state.next({...!hi(L)||d.isValid&&K!==n.isValid?{}:{name:L},...e.resolver||!L?{isValid:K}:{},errors:n.errors}),$.shouldFocus&&!ue&&ec(r,Q,L?oe:a.mount),ue},xe=L=>{const $={...o.mount?s:i};return Ft(L)?$:hi(L)?ve($,L):L.map(K=>ve($,K))},q=(L,$)=>({invalid:!!ve(($||n).errors,L),isDirty:!!ve(($||n).dirtyFields,L),error:ve(($||n).errors,L),isValidating:!!ve(n.validatingFields,L),isTouched:!!ve(($||n).touchedFields,L)}),J=L=>{L&&$h(L).forEach($=>Yt(n.errors,$)),h.state.next({errors:L?n.errors:{}})},_e=(L,$,K)=>{const ue=(ve(r,L,{_f:{}})._f||{}).ref,oe=ve(n.errors,L)||{},{ref:ne,message:Se,type:Ke,...Ue}=oe;vt(n.errors,L,{...Ue,...$,ref:ue}),h.state.next({name:L,errors:n.errors,isValid:!1}),K&&K.shouldFocus&&ue&&ue.focus&&ue.focus()},Te=(L,$)=>Li(L)?h.values.subscribe({next:K=>L(x(void 0,$),K)}):x(L,$,!0),me=(L,$={})=>{for(const K of L?$h(L):a.mount)a.mount.delete(K),a.array.delete(K),$.keepValue||(Yt(r,K),Yt(s,K)),!$.keepError&&Yt(n.errors,K),!$.keepDirty&&Yt(n.dirtyFields,K),!$.keepTouched&&Yt(n.touchedFields,K),!$.keepIsValidating&&Yt(n.validatingFields,K),!e.shouldUnregister&&!$.keepDefaultValue&&Yt(i,K);h.values.next({values:{...s}}),h.state.next({...n,...$.keepDirty?{isDirty:N()}:{}}),!$.keepIsValid&&S()},U=({disabled:L,name:$,field:K,fields:ue,value:oe})=>{if(ci(L)&&o.mount||L){const ne=L?void 0:Ft(oe)?pg(K?K._f:ve(ue,$)._f):oe;vt(s,$,ne),F($,ne,!1,!1,!0)}},G=(L,$={})=>{let K=ve(r,L);const ue=ci($.disabled)||ci(t.disabled);return vt(r,L,{...K||{},_f:{...K&&K._f?K._f:{ref:{name:L}},name:L,mount:!0,...$}}),a.mount.add(L),K?U({field:K,disabled:ci($.disabled)?$.disabled:t.disabled,name:L,value:$.value}):O(L,!0,$.value),{...ue?{disabled:$.disabled||t.disabled}:{},...e.progressive?{required:!!$.required,min:Su($.min),max:Su($.max),minLength:Su($.minLength),maxLength:Su($.maxLength),pattern:Su($.pattern)}:{},name:L,onChange:H,onBlur:H,ref:oe=>{if(oe){G(L,$),K=ve(r,L);const ne=Ft(oe.value)&&oe.querySelectorAll&&oe.querySelectorAll("input,select,textarea")[0]||oe,Se=fL(ne),Ke=K._f.refs||[];if(Se?Ke.find(Ue=>Ue===ne):ne===K._f.ref)return;vt(r,L,{_f:{...K._f,...Se?{refs:[...Ke.filter(fg),ne,...Array.isArray(ve(i,L))?[{}]:[]],ref:{type:ne.type,name:L}}:{ref:ne}}}),O(L,!1,void 0,ne)}else K=ve(r,L,{}),K._f&&(K._f.mount=!1),(e.shouldUnregister||$.shouldUnregister)&&!(rL(a.array,L)&&o.action)&&a.unMount.add(L)}}},he=()=>e.shouldFocusError&&ec(r,Q,a.mount),se=L=>{ci(L)&&(h.state.next({disabled:L}),ec(r,($,K)=>{const ue=ve(r,K);ue&&($.disabled=ue._f.disabled||L,Array.isArray(ue._f.refs)&&ue._f.refs.forEach(oe=>{oe.disabled=ue._f.disabled||L}))},0,!1))},fe=(L,$)=>async K=>{let ue;K&&(K.preventDefault&&K.preventDefault(),K.persist&&K.persist());let oe=Cr(s);if(h.state.next({isSubmitting:!0}),e.resolver){const{errors:ne,values:Se}=await g();n.errors=ne,oe=Se}else await b(r);if(Yt(n.errors,"root"),Qn(n.errors)){h.state.next({errors:{}});try{await L(oe,K)}catch(ne){ue=ne}}else $&&await $({...n.errors},K),he(),setTimeout(he);if(h.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Qn(n.errors)&&!ue,submitCount:n.submitCount+1,errors:n.errors}),ue)throw ue},Ve=(L,$={})=>{ve(r,L)&&(Ft($.defaultValue)?te(L,Cr(ve(i,L))):(te(L,$.defaultValue),vt(i,L,Cr($.defaultValue))),$.keepTouched||Yt(n.touchedFields,L),$.keepDirty||(Yt(n.dirtyFields,L),n.isDirty=$.defaultValue?N(L,Cr(ve(i,L))):N()),$.keepError||(Yt(n.errors,L),d.isValid&&S()),h.state.next({...n}))},ct=(L,$={})=>{const K=L?Cr(L):i,ue=Cr(K),oe=Qn(L),ne=oe?i:ue;if($.keepDefaultValues||(i=K),!$.keepValues){if($.keepDirtyValues)for(const Se of a.mount)ve(n.dirtyFields,Se)?vt(ne,Se,ve(s,Se)):te(Se,ve(ne,Se));else{if(Xv&&Ft(L))for(const Se of a.mount){const Ke=ve(r,Se);if(Ke&&Ke._f){const Ue=Array.isArray(Ke._f.refs)?Ke._f.refs[0]:Ke._f.ref;if(Pf(Ue)){const $e=Ue.closest("form");if($e){$e.reset();break}}}}r={}}s=t.shouldUnregister?$.keepDefaultValues?Cr(i):{}:Cr(ne),h.array.next({values:{...ne}}),h.values.next({values:{...ne}})}a={mount:$.keepDirtyValues?a.mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!d.isValid||!!$.keepIsValid||!!$.keepDirtyValues,o.watch=!!t.shouldUnregister,h.state.next({submitCount:$.keepSubmitCount?n.submitCount:0,isDirty:oe?!1:$.keepDirty?n.isDirty:!!($.keepDefaultValues&&!vs(L,i)),isSubmitted:$.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:oe?{}:$.keepDirtyValues?$.keepDefaultValues&&s?dh(i,s):n.dirtyFields:$.keepDefaultValues&&L?dh(i,L):$.keepDirty?n.dirtyFields:{},touchedFields:$.keepTouched?n.touchedFields:{},errors:$.keepErrors?n.errors:{},isSubmitSuccessful:$.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1})},Oe=(L,$)=>ct(Li(L)?L(s):L,$);return{control:{register:G,unregister:me,getFieldState:q,handleSubmit:fe,setError:_e,_executeSchema:g,_getWatch:x,_getDirty:N,_updateValid:S,_removeUnmounted:k,_updateFieldArray:_,_updateDisabledField:U,_getFieldArray:re,_reset:ct,_resetDefaultValues:()=>Li(e.defaultValues)&&e.defaultValues().then(L=>{Oe(L,e.resetOptions),h.state.next({isLoading:!1})}),_updateFormState:L=>{n={...n,...L}},_disableForm:se,_subjects:h,_proxyFormState:d,_setErrors:A,get _fields(){return r},get _formValues(){return s},get _state(){return o},set _state(L){o=L},get _defaultValues(){return i},get _names(){return a},set _names(L){a=L},get _formState(){return n},set _formState(L){n=L},get _options(){return e},set _options(L){e={...e,...L}}},trigger:ie,register:G,handleSubmit:fe,watch:Te,setValue:te,getValues:xe,reset:Oe,resetField:Ve,clearErrors:J,unregister:me,setError:_e,setFocus:(L,$={})=>{const K=ve(r,L),ue=K&&K._f;if(ue){const oe=ue.refs?ue.refs[0]:ue.ref;oe.focus&&(oe.focus(),$.shouldSelect&&oe.select())}},getFieldState:q}}function t0(t={}){const e=pe.useRef(),n=pe.useRef(),[r,i]=pe.useState({isDirty:!1,isValidating:!1,isLoading:Li(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,defaultValues:Li(t.defaultValues)?void 0:t.defaultValues});e.current||(e.current={...EL(t),formState:r});const s=e.current.control;return s._options=t,aL({subject:s._subjects.state,next:o=>{oL(o,s._proxyFormState,s._updateFormState)&&i({...s._formState})}}),pe.useEffect(()=>s._disableForm(t.disabled),[s,t.disabled]),pe.useEffect(()=>{if(s._proxyFormState.isDirty){const o=s._getDirty();o!==r.isDirty&&s._subjects.state.next({isDirty:o})}},[s,r.isDirty]),pe.useEffect(()=>{t.values&&!vs(t.values,n.current)?(s._reset(t.values,s._options.resetOptions),n.current=t.values,i(o=>({...o}))):s._resetDefaultValues()},[t.values,s]),pe.useEffect(()=>{t.errors&&s._setErrors(t.errors)},[t.errors,s]),pe.useEffect(()=>{s._state.mount||(s._updateValid(),s._state.mount=!0),s._state.watch&&(s._state.watch=!1,s._subjects.state.next({...s._formState})),s._removeUnmounted()}),pe.useEffect(()=>{t.shouldUnregister&&s._subjects.values.next({values:s._getWatch()})},[t.shouldUnregister,s]),e.current.formState=sL(r,s),e.current}/**
 * @remix-run/router v1.19.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function bt(){return bt=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},bt.apply(this,arguments)}var zt;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(zt||(zt={}));const qT="popstate";function wL(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return kc("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Qo(i)}return SL(e,n,null,t)}function Be(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Tl(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function TL(){return Math.random().toString(36).substr(2,8)}function KT(t,e){return{usr:t.state,key:t.key,idx:e}}function kc(t,e,n,r){return n===void 0&&(n=null),bt({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?no(e):e,{state:n,key:e&&e.key||r||TL()})}function Qo(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function no(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function SL(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=zt.Pop,l=null,u=d();u==null&&(u=0,o.replaceState(bt({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function h(){a=zt.Pop;let S=d(),T=S==null?null:S-u;u=S,l&&l({action:a,location:E.location,delta:T})}function f(S,T){a=zt.Push;let _=kc(E.location,S,T);u=d()+1;let w=KT(_,u),A=E.createHref(_);try{o.pushState(w,"",A)}catch(O){if(O instanceof DOMException&&O.name==="DataCloneError")throw O;i.location.assign(A)}s&&l&&l({action:a,location:E.location,delta:1})}function m(S,T){a=zt.Replace;let _=kc(E.location,S,T);u=d();let w=KT(_,u),A=E.createHref(_);o.replaceState(w,"",A),s&&l&&l({action:a,location:E.location,delta:0})}function y(S){let T=i.location.origin!=="null"?i.location.origin:i.location.href,_=typeof S=="string"?S:Qo(S);return _=_.replace(/ $/,"%20"),Be(T,"No window.location.(origin|href) available to create URL for href: "+_),new URL(_,T)}let E={get action(){return a},get location(){return t(i,o)},listen(S){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(qT,h),l=S,()=>{i.removeEventListener(qT,h),l=null}},createHref(S){return e(i,S)},createURL:y,encodeLocation(S){let T=y(S);return{pathname:T.pathname,search:T.search,hash:T.hash}},push:f,replace:m,go(S){return o.go(S)}};return E}var lt;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(lt||(lt={}));const IL=new Set(["lazy","caseSensitive","path","id","index","children"]);function CL(t){return t.index===!0}function Nc(t,e,n,r){return n===void 0&&(n=[]),r===void 0&&(r={}),t.map((i,s)=>{let o=[...n,String(s)],a=typeof i.id=="string"?i.id:o.join("-");if(Be(i.index!==!0||!i.children,"Cannot specify children on an index route"),Be(!r[a],'Found a route id collision on id "'+a+`".  Route id's must be globally unique within Data Router usages`),CL(i)){let l=bt({},i,e(i),{id:a});return r[a]=l,l}else{let l=bt({},i,e(i),{id:a,children:void 0});return r[a]=l,i.children&&(l.children=Nc(i.children,e,o,r)),l}})}function Ro(t,e,n){return n===void 0&&(n="/"),zh(t,e,n,!1)}function zh(t,e,n,r){let i=typeof e=="string"?no(e):e,s=Yi(i.pathname||"/",n);if(s==null)return null;let o=IA(t);AL(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let u=VL(s);a=ML(o[l],u,r)}return a}function RL(t,e){let{route:n,pathname:r,params:i}=t;return{id:n.id,pathname:r,params:i,data:e[n.id],handle:n.handle}}function IA(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(Be(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=Bi([r,l.relativePath]),d=n.concat(l);s.children&&s.children.length>0&&(Be(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),IA(s.children,e,d,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:DL(u,s.index),routesMeta:d})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of CA(s.path))i(s,o,l)}),e}function CA(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=CA(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function AL(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:LL(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const bL=/^:[\w-]+$/,PL=3,xL=2,kL=1,NL=10,OL=-2,GT=t=>t==="*";function DL(t,e){let n=t.split("/"),r=n.length;return n.some(GT)&&(r+=OL),e&&(r+=xL),n.filter(i=>!GT(i)).reduce((i,s)=>i+(bL.test(s)?PL:s===""?kL:NL),r)}function LL(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function ML(t,e,n){n===void 0&&(n=!1);let{routesMeta:r}=t,i={},s="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],u=a===r.length-1,d=s==="/"?e:e.slice(s.length)||"/",h=Of({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},d),f=l.route;if(!h&&u&&n&&!r[r.length-1].route.index&&(h=Of({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},d)),!h)return null;Object.assign(i,h.params),o.push({params:i,pathname:Bi([s,h.pathname]),pathnameBase:$L(Bi([s,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(s=Bi([s,h.pathnameBase]))}return o}function Of(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=FL(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,d,h)=>{let{paramName:f,isOptional:m}=d;if(f==="*"){let E=a[h]||"";o=s.slice(0,s.length-E.length).replace(/(.)\/+$/,"$1")}const y=a[h];return m&&!y?u[f]=void 0:u[f]=(y||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:o,pattern:t}}function FL(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Tl(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function VL(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Tl(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Yi(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function UL(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?no(t):t;return{pathname:n?n.startsWith("/")?n:jL(n,e):e,search:BL(r),hash:zL(i)}}function jL(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function mg(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function RA(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function n0(t,e){let n=RA(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function r0(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=no(t):(i=bt({},t),Be(!i.pathname||!i.pathname.includes("?"),mg("?","pathname","search",i)),Be(!i.pathname||!i.pathname.includes("#"),mg("#","pathname","hash",i)),Be(!i.search||!i.search.includes("#"),mg("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let h=e.length-1;if(!r&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),h-=1;i.pathname=f.join("/")}a=h>=0?e[h]:"/"}let l=UL(i,a),u=o&&o!=="/"&&o.endsWith("/"),d=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||d)&&(l.pathname+="/"),l}const Bi=t=>t.join("/").replace(/\/\/+/g,"/"),$L=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),BL=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,zL=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;class Df{constructor(e,n,r,i){i===void 0&&(i=!1),this.status=e,this.statusText=n||"",this.internal=i,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function Vp(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const AA=["post","put","patch","delete"],WL=new Set(AA),HL=["get",...AA],qL=new Set(HL),KL=new Set([301,302,303,307,308]),GL=new Set([307,308]),gg={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},QL={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Iu={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},i0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,YL=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),bA="remix-router-transitions";function XL(t){const e=t.window?t.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u",r=!n;Be(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let i;if(t.mapRouteProperties)i=t.mapRouteProperties;else if(t.detectErrorBoundary){let M=t.detectErrorBoundary;i=V=>({hasErrorBoundary:M(V)})}else i=YL;let s={},o=Nc(t.routes,i,void 0,s),a,l=t.basename||"/",u=t.unstable_dataStrategy||rM,d=t.unstable_patchRoutesOnNavigation,h=bt({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1,v7_skipActionErrorRevalidation:!1},t.future),f=null,m=new Set,y=1e3,E=new Set,S=null,T=null,_=null,w=t.hydrationData!=null,A=Ro(o,t.history.location,l),O=null;if(A==null&&!d){let M=Un(404,{pathname:t.history.location.pathname}),{matches:V,route:B}=rS(o);A=V,O={[B.id]:M}}A&&!t.hydrationData&&jt(A,o,t.history.location.pathname).active&&(A=null);let F;if(A)if(A.some(M=>M.route.lazy))F=!1;else if(!A.some(M=>M.route.loader))F=!0;else if(h.v7_partialHydration){let M=t.hydrationData?t.hydrationData.loaderData:null,V=t.hydrationData?t.hydrationData.errors:null,B=X=>X.route.loader?typeof X.route.loader=="function"&&X.route.loader.hydrate===!0?!1:M&&M[X.route.id]!==void 0||V&&V[X.route.id]!==void 0:!0;if(V){let X=A.findIndex(de=>V[de.route.id]!==void 0);F=A.slice(0,X+1).every(B)}else F=A.every(B)}else F=t.hydrationData!=null;else if(F=!1,A=[],h.v7_partialHydration){let M=jt(null,o,t.history.location.pathname);M.active&&M.matches&&(A=M.matches)}let R,g={historyAction:t.history.action,location:t.history.location,matches:A,initialized:F,navigation:gg,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||O,fetchers:new Map,blockers:new Map},C=zt.Pop,b=!1,k,N=!1,x=new Map,re=null,Ae=!1,Ce=!1,te=[],H=new Set,Q=new Map,ie=0,xe=-1,q=new Map,J=new Set,_e=new Map,Te=new Map,me=new Set,U=new Map,G=new Map,he=new Map,se;function fe(){if(f=t.history.listen(M=>{let{action:V,location:B,delta:X}=M;if(se){se(),se=void 0;return}Tl(G.size===0||X!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let de=Ta({currentLocation:g.location,nextLocation:B,historyAction:V});if(de&&X!=null){let be=new Promise(ke=>{se=ke});t.history.go(X*-1),ai(de,{state:"blocked",location:B,proceed(){ai(de,{state:"proceeding",proceed:void 0,reset:void 0,location:B}),be.then(()=>t.history.go(X))},reset(){let ke=new Map(g.blockers);ke.set(de,Iu),Oe({blockers:ke})}});return}return L(V,B)}),n){_M(e,x);let M=()=>vM(e,x);e.addEventListener("pagehide",M),re=()=>e.removeEventListener("pagehide",M)}return g.initialized||L(zt.Pop,g.location,{initialHydration:!0}),R}function Ve(){f&&f(),re&&re(),m.clear(),k&&k.abort(),g.fetchers.forEach((M,V)=>oi(V)),g.blockers.forEach((M,V)=>su(V))}function ct(M){return m.add(M),()=>m.delete(M)}function Oe(M,V){V===void 0&&(V={}),g=bt({},g,M);let B=[],X=[];h.v7_fetcherPersist&&g.fetchers.forEach((de,be)=>{de.state==="idle"&&(me.has(be)?X.push(be):B.push(be))}),[...m].forEach(de=>de(g,{deletedFetchers:X,unstable_viewTransitionOpts:V.viewTransitionOpts,unstable_flushSync:V.flushSync===!0})),h.v7_fetcherPersist&&(B.forEach(de=>g.fetchers.delete(de)),X.forEach(de=>oi(de)))}function Mt(M,V,B){var X,de;let{flushSync:be}=B===void 0?{}:B,ke=g.actionData!=null&&g.navigation.formMethod!=null&&Wr(g.navigation.formMethod)&&g.navigation.state==="loading"&&((X=M.state)==null?void 0:X._isRedirect)!==!0,ae;V.actionData?Object.keys(V.actionData).length>0?ae=V.actionData:ae=null:ke?ae=g.actionData:ae=null;let Re=V.loaderData?tS(g.loaderData,V.loaderData,V.matches||[],V.errors):g.loaderData,Ee=g.blockers;Ee.size>0&&(Ee=new Map(Ee),Ee.forEach((Ze,at)=>Ee.set(at,Iu)));let Ie=b===!0||g.navigation.formMethod!=null&&Wr(g.navigation.formMethod)&&((de=M.state)==null?void 0:de._isRedirect)!==!0;a&&(o=a,a=void 0),Ae||C===zt.Pop||(C===zt.Push?t.history.push(M,M.state):C===zt.Replace&&t.history.replace(M,M.state));let Ge;if(C===zt.Pop){let Ze=x.get(g.location.pathname);Ze&&Ze.has(M.pathname)?Ge={currentLocation:g.location,nextLocation:M}:x.has(M.pathname)&&(Ge={currentLocation:M,nextLocation:g.location})}else if(N){let Ze=x.get(g.location.pathname);Ze?Ze.add(M.pathname):(Ze=new Set([M.pathname]),x.set(g.location.pathname,Ze)),Ge={currentLocation:g.location,nextLocation:M}}Oe(bt({},V,{actionData:ae,loaderData:Re,historyAction:C,location:M,initialized:!0,navigation:gg,revalidation:"idle",restoreScrollPosition:au(M,V.matches||g.matches),preventScrollReset:Ie,blockers:Ee}),{viewTransitionOpts:Ge,flushSync:be===!0}),C=zt.Pop,b=!1,N=!1,Ae=!1,Ce=!1,te=[]}async function gn(M,V){if(typeof M=="number"){t.history.go(M);return}let B=Ky(g.location,g.matches,l,h.v7_prependBasename,M,h.v7_relativeSplatPath,V==null?void 0:V.fromRouteId,V==null?void 0:V.relative),{path:X,submission:de,error:be}=QT(h.v7_normalizeFormMethod,!1,B,V),ke=g.location,ae=kc(g.location,X,V&&V.state);ae=bt({},ae,t.history.encodeLocation(ae));let Re=V&&V.replace!=null?V.replace:void 0,Ee=zt.Push;Re===!0?Ee=zt.Replace:Re===!1||de!=null&&Wr(de.formMethod)&&de.formAction===g.location.pathname+g.location.search&&(Ee=zt.Replace);let Ie=V&&"preventScrollReset"in V?V.preventScrollReset===!0:void 0,Ge=(V&&V.unstable_flushSync)===!0,Ze=Ta({currentLocation:ke,nextLocation:ae,historyAction:Ee});if(Ze){ai(Ze,{state:"blocked",location:ae,proceed(){ai(Ze,{state:"proceeding",proceed:void 0,reset:void 0,location:ae}),gn(M,V)},reset(){let at=new Map(g.blockers);at.set(Ze,Iu),Oe({blockers:at})}});return}return await L(Ee,ae,{submission:de,pendingError:be,preventScrollReset:Ie,replace:V&&V.replace,enableViewTransition:V&&V.unstable_viewTransition,flushSync:Ge})}function kd(){if(ss(),Oe({revalidation:"loading"}),g.navigation.state!=="submitting"){if(g.navigation.state==="idle"){L(g.historyAction,g.location,{startUninterruptedRevalidation:!0});return}L(C||g.historyAction,g.navigation.location,{overrideNavigation:g.navigation,enableViewTransition:N===!0})}}async function L(M,V,B){k&&k.abort(),k=null,C=M,Ae=(B&&B.startUninterruptedRevalidation)===!0,po(g.location,g.matches),b=(B&&B.preventScrollReset)===!0,N=(B&&B.enableViewTransition)===!0;let X=a||o,de=B&&B.overrideNavigation,be=Ro(X,V,l),ke=(B&&B.flushSync)===!0,ae=jt(be,X,V.pathname);if(ae.active&&ae.matches&&(be=ae.matches),!be){let{error:We,notFoundMatches:$t,route:mt}=fo(V.pathname);Mt(V,{matches:$t,loaderData:{},errors:{[mt.id]:We}},{flushSync:ke});return}if(g.initialized&&!Ce&&uM(g.location,V)&&!(B&&B.submission&&Wr(B.submission.formMethod))){Mt(V,{matches:be},{flushSync:ke});return}k=new AbortController;let Re=xa(t.history,V,k.signal,B&&B.submission),Ee;if(B&&B.pendingError)Ee=[Za(be).route.id,{type:lt.error,error:B.pendingError}];else if(B&&B.submission&&Wr(B.submission.formMethod)){let We=await $(Re,V,B.submission,be,ae.active,{replace:B.replace,flushSync:ke});if(We.shortCircuited)return;if(We.pendingActionResult){let[$t,mt]=We.pendingActionResult;if(ur(mt)&&Vp(mt.error)&&mt.error.status===404){k=null,Mt(V,{matches:We.matches,loaderData:{},errors:{[$t]:mt.error}});return}}be=We.matches||be,Ee=We.pendingActionResult,de=yg(V,B.submission),ke=!1,ae.active=!1,Re=xa(t.history,Re.url,Re.signal)}let{shortCircuited:Ie,matches:Ge,loaderData:Ze,errors:at}=await K(Re,V,be,ae.active,de,B&&B.submission,B&&B.fetcherSubmission,B&&B.replace,B&&B.initialHydration===!0,ke,Ee);Ie||(k=null,Mt(V,bt({matches:Ge||be},nS(Ee),{loaderData:Ze,errors:at})))}async function $(M,V,B,X,de,be){be===void 0&&(be={}),ss();let ke=gM(V,B);if(Oe({navigation:ke},{flushSync:be.flushSync===!0}),de){let Ee=await mo(X,V.pathname,M.signal);if(Ee.type==="aborted")return{shortCircuited:!0};if(Ee.type==="error"){let{boundaryId:Ie,error:Ge}=Sr(V.pathname,Ee);return{matches:Ee.partialMatches,pendingActionResult:[Ie,{type:lt.error,error:Ge}]}}else if(Ee.matches)X=Ee.matches;else{let{notFoundMatches:Ie,error:Ge,route:Ze}=fo(V.pathname);return{matches:Ie,pendingActionResult:[Ze.id,{type:lt.error,error:Ge}]}}}let ae,Re=Uu(X,V);if(!Re.route.action&&!Re.route.lazy)ae={type:lt.error,error:Un(405,{method:M.method,pathname:V.pathname,routeId:Re.route.id})};else if(ae=(await $e("action",g,M,[Re],X,null))[Re.route.id],M.signal.aborted)return{shortCircuited:!0};if(xo(ae)){let Ee;return be&&be.replace!=null?Ee=be.replace:Ee=JT(ae.response.headers.get("Location"),new URL(M.url),l)===g.location.pathname+g.location.search,await Ue(M,ae,!0,{submission:B,replace:Ee}),{shortCircuited:!0}}if(Rs(ae))throw Un(400,{type:"defer-action"});if(ur(ae)){let Ee=Za(X,Re.route.id);return(be&&be.replace)!==!0&&(C=zt.Push),{matches:X,pendingActionResult:[Ee.route.id,ae]}}return{matches:X,pendingActionResult:[Re.route.id,ae]}}async function K(M,V,B,X,de,be,ke,ae,Re,Ee,Ie){let Ge=de||yg(V,be),Ze=be||ke||sS(Ge),at=!Ae&&(!h.v7_partialHydration||!Re);if(X){if(at){let ht=ue(Ie);Oe(bt({navigation:Ge},ht!==void 0?{actionData:ht}:{}),{flushSync:Ee})}let Le=await mo(B,V.pathname,M.signal);if(Le.type==="aborted")return{shortCircuited:!0};if(Le.type==="error"){let{boundaryId:ht,error:_n}=Sr(V.pathname,Le);return{matches:Le.partialMatches,loaderData:{},errors:{[ht]:_n}}}else if(Le.matches)B=Le.matches;else{let{error:ht,notFoundMatches:_n,route:gt}=fo(V.pathname);return{matches:_n,loaderData:{},errors:{[gt.id]:ht}}}}let We=a||o,[$t,mt]=YT(t.history,g,B,Ze,V,h.v7_partialHydration&&Re===!0,h.v7_skipActionErrorRevalidation,Ce,te,H,me,_e,J,We,l,Ie);if(Sa(Le=>!(B&&B.some(ht=>ht.route.id===Le))||$t&&$t.some(ht=>ht.route.id===Le)),xe=++ie,$t.length===0&&mt.length===0){let Le=Od();return Mt(V,bt({matches:B,loaderData:{},errors:Ie&&ur(Ie[1])?{[Ie[0]]:Ie[1].error}:null},nS(Ie),Le?{fetchers:new Map(g.fetchers)}:{}),{flushSync:Ee}),{shortCircuited:!0}}if(at){let Le={};if(!X){Le.navigation=Ge;let ht=ue(Ie);ht!==void 0&&(Le.actionData=ht)}mt.length>0&&(Le.fetchers=oe(mt)),Oe(Le,{flushSync:Ee})}mt.forEach(Le=>{Q.has(Le.key)&&Fn(Le.key),Le.controller&&Q.set(Le.key,Le.controller)});let as=()=>mt.forEach(Le=>Fn(Le.key));k&&k.signal.addEventListener("abort",as);let{loaderResults:or,fetcherResults:Ir}=await Dn(g,B,$t,mt,M);if(M.signal.aborted)return{shortCircuited:!0};k&&k.signal.removeEventListener("abort",as),mt.forEach(Le=>Q.delete(Le.key));let yn=hh(or);if(yn)return await Ue(M,yn.result,!0,{replace:ae}),{shortCircuited:!0};if(yn=hh(Ir),yn)return J.add(yn.key),await Ue(M,yn.result,!0,{replace:ae}),{shortCircuited:!0};let{loaderData:ls,errors:Vr}=eS(g,B,$t,or,Ie,mt,Ir,U);U.forEach((Le,ht)=>{Le.subscribe(_n=>{(_n||Le.done)&&U.delete(ht)})}),h.v7_partialHydration&&Re&&g.errors&&Object.entries(g.errors).filter(Le=>{let[ht]=Le;return!$t.some(_n=>_n.route.id===ht)}).forEach(Le=>{let[ht,_n]=Le;Vr=Object.assign(Vr||{},{[ht]:_n})});let yo=Od(),_o=wa(xe),vo=yo||_o||mt.length>0;return bt({matches:B,loaderData:ls,errors:Vr},vo?{fetchers:new Map(g.fetchers)}:{})}function ue(M){if(M&&!ur(M[1]))return{[M[0]]:M[1].data};if(g.actionData)return Object.keys(g.actionData).length===0?null:g.actionData}function oe(M){return M.forEach(V=>{let B=g.fetchers.get(V.key),X=Cu(void 0,B?B.data:void 0);g.fetchers.set(V.key,X)}),new Map(g.fetchers)}function ne(M,V,B,X){if(r)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");Q.has(M)&&Fn(M);let de=(X&&X.unstable_flushSync)===!0,be=a||o,ke=Ky(g.location,g.matches,l,h.v7_prependBasename,B,h.v7_relativeSplatPath,V,X==null?void 0:X.relative),ae=Ro(be,ke,l),Re=jt(ae,be,ke);if(Re.active&&Re.matches&&(ae=Re.matches),!ae){Mn(M,V,Un(404,{pathname:ke}),{flushSync:de});return}let{path:Ee,submission:Ie,error:Ge}=QT(h.v7_normalizeFormMethod,!0,ke,X);if(Ge){Mn(M,V,Ge,{flushSync:de});return}let Ze=Uu(ae,Ee);if(b=(X&&X.preventScrollReset)===!0,Ie&&Wr(Ie.formMethod)){Se(M,V,Ee,Ze,ae,Re.active,de,Ie);return}_e.set(M,{routeId:V,path:Ee}),Ke(M,V,Ee,Ze,ae,Re.active,de,Ie)}async function Se(M,V,B,X,de,be,ke,ae){ss(),_e.delete(M);function Re(gt){if(!gt.route.action&&!gt.route.lazy){let Ur=Un(405,{method:ae.formMethod,pathname:B,routeId:V});return Mn(M,V,Ur,{flushSync:ke}),!0}return!1}if(!be&&Re(X))return;let Ee=g.fetchers.get(M);Ln(M,yM(ae,Ee),{flushSync:ke});let Ie=new AbortController,Ge=xa(t.history,B,Ie.signal,ae);if(be){let gt=await mo(de,B,Ge.signal);if(gt.type==="aborted")return;if(gt.type==="error"){let{error:Ur}=Sr(B,gt);Mn(M,V,Ur,{flushSync:ke});return}else if(gt.matches){if(de=gt.matches,X=Uu(de,B),Re(X))return}else{Mn(M,V,Un(404,{pathname:B}),{flushSync:ke});return}}Q.set(M,Ie);let Ze=ie,We=(await $e("action",g,Ge,[X],de,M))[X.route.id];if(Ge.signal.aborted){Q.get(M)===Ie&&Q.delete(M);return}if(h.v7_fetcherPersist&&me.has(M)){if(xo(We)||ur(We)){Ln(M,ps(void 0));return}}else{if(xo(We))if(Q.delete(M),xe>Ze){Ln(M,ps(void 0));return}else return J.add(M),Ln(M,Cu(ae)),Ue(Ge,We,!1,{fetcherSubmission:ae});if(ur(We)){Mn(M,V,We.error);return}}if(Rs(We))throw Un(400,{type:"defer-action"});let $t=g.navigation.location||g.location,mt=xa(t.history,$t,Ie.signal),as=a||o,or=g.navigation.state!=="idle"?Ro(as,g.navigation.location,l):g.matches;Be(or,"Didn't find any matches after fetcher action");let Ir=++ie;q.set(M,Ir);let yn=Cu(ae,We.data);g.fetchers.set(M,yn);let[ls,Vr]=YT(t.history,g,or,ae,$t,!1,h.v7_skipActionErrorRevalidation,Ce,te,H,me,_e,J,as,l,[X.route.id,We]);Vr.filter(gt=>gt.key!==M).forEach(gt=>{let Ur=gt.key,Ld=g.fetchers.get(Ur),Md=Cu(void 0,Ld?Ld.data:void 0);g.fetchers.set(Ur,Md),Q.has(Ur)&&Fn(Ur),gt.controller&&Q.set(Ur,gt.controller)}),Oe({fetchers:new Map(g.fetchers)});let yo=()=>Vr.forEach(gt=>Fn(gt.key));Ie.signal.addEventListener("abort",yo);let{loaderResults:_o,fetcherResults:vo}=await Dn(g,or,ls,Vr,mt);if(Ie.signal.aborted)return;Ie.signal.removeEventListener("abort",yo),q.delete(M),Q.delete(M),Vr.forEach(gt=>Q.delete(gt.key));let Le=hh(_o);if(Le)return Ue(mt,Le.result,!1);if(Le=hh(vo),Le)return J.add(Le.key),Ue(mt,Le.result,!1);let{loaderData:ht,errors:_n}=eS(g,or,ls,_o,void 0,Vr,vo,U);if(g.fetchers.has(M)){let gt=ps(We.data);g.fetchers.set(M,gt)}wa(Ir),g.navigation.state==="loading"&&Ir>xe?(Be(C,"Expected pending action"),k&&k.abort(),Mt(g.navigation.location,{matches:or,loaderData:ht,errors:_n,fetchers:new Map(g.fetchers)})):(Oe({errors:_n,loaderData:tS(g.loaderData,ht,or,_n),fetchers:new Map(g.fetchers)}),Ce=!1)}async function Ke(M,V,B,X,de,be,ke,ae){let Re=g.fetchers.get(M);Ln(M,Cu(ae,Re?Re.data:void 0),{flushSync:ke});let Ee=new AbortController,Ie=xa(t.history,B,Ee.signal);if(be){let We=await mo(de,B,Ie.signal);if(We.type==="aborted")return;if(We.type==="error"){let{error:$t}=Sr(B,We);Mn(M,V,$t,{flushSync:ke});return}else if(We.matches)de=We.matches,X=Uu(de,B);else{Mn(M,V,Un(404,{pathname:B}),{flushSync:ke});return}}Q.set(M,Ee);let Ge=ie,at=(await $e("loader",g,Ie,[X],de,M))[X.route.id];if(Rs(at)&&(at=await s0(at,Ie.signal,!0)||at),Q.get(M)===Ee&&Q.delete(M),!Ie.signal.aborted){if(me.has(M)){Ln(M,ps(void 0));return}if(xo(at))if(xe>Ge){Ln(M,ps(void 0));return}else{J.add(M),await Ue(Ie,at,!1);return}if(ur(at)){Mn(M,V,at.error);return}Be(!Rs(at),"Unhandled fetcher deferred data"),Ln(M,ps(at.data))}}async function Ue(M,V,B,X){let{submission:de,fetcherSubmission:be,replace:ke}=X===void 0?{}:X;V.response.headers.has("X-Remix-Revalidate")&&(Ce=!0);let ae=V.response.headers.get("Location");Be(ae,"Expected a Location header on the redirect Response"),ae=JT(ae,new URL(M.url),l);let Re=kc(g.location,ae,{_isRedirect:!0});if(n){let We=!1;if(V.response.headers.has("X-Remix-Reload-Document"))We=!0;else if(i0.test(ae)){const $t=t.history.createURL(ae);We=$t.origin!==e.location.origin||Yi($t.pathname,l)==null}if(We){ke?e.location.replace(ae):e.location.assign(ae);return}}k=null;let Ee=ke===!0||V.response.headers.has("X-Remix-Replace")?zt.Replace:zt.Push,{formMethod:Ie,formAction:Ge,formEncType:Ze}=g.navigation;!de&&!be&&Ie&&Ge&&Ze&&(de=sS(g.navigation));let at=de||be;if(GL.has(V.response.status)&&at&&Wr(at.formMethod))await L(Ee,Re,{submission:bt({},at,{formAction:ae}),preventScrollReset:b,enableViewTransition:B?N:void 0});else{let We=yg(Re,de);await L(Ee,Re,{overrideNavigation:We,fetcherSubmission:be,preventScrollReset:b,enableViewTransition:B?N:void 0})}}async function $e(M,V,B,X,de,be){let ke,ae={};try{ke=await iM(u,M,V,B,X,de,be,s,i)}catch(Re){return X.forEach(Ee=>{ae[Ee.route.id]={type:lt.error,error:Re}}),ae}for(let[Re,Ee]of Object.entries(ke))if(dM(Ee)){let Ie=Ee.result;ae[Re]={type:lt.redirect,response:aM(Ie,B,Re,de,l,h.v7_relativeSplatPath)}}else ae[Re]=await oM(Ee);return ae}async function Dn(M,V,B,X,de){let be=M.matches,ke=$e("loader",M,de,B,V,null),ae=Promise.all(X.map(async Ie=>{if(Ie.matches&&Ie.match&&Ie.controller){let Ze=(await $e("loader",M,xa(t.history,Ie.path,Ie.controller.signal),[Ie.match],Ie.matches,Ie.key))[Ie.match.route.id];return{[Ie.key]:Ze}}else return Promise.resolve({[Ie.key]:{type:lt.error,error:Un(404,{pathname:Ie.path})}})})),Re=await ke,Ee=(await ae).reduce((Ie,Ge)=>Object.assign(Ie,Ge),{});return await Promise.all([pM(V,Re,de.signal,be,M.loaderData),mM(V,Ee,X)]),{loaderResults:Re,fetcherResults:Ee}}function ss(){Ce=!0,te.push(...Sa()),_e.forEach((M,V)=>{Q.has(V)&&(H.add(V),Fn(V))})}function Ln(M,V,B){B===void 0&&(B={}),g.fetchers.set(M,V),Oe({fetchers:new Map(g.fetchers)},{flushSync:(B&&B.flushSync)===!0})}function Mn(M,V,B,X){X===void 0&&(X={});let de=Za(g.matches,V);oi(M),Oe({errors:{[de.route.id]:B},fetchers:new Map(g.fetchers)},{flushSync:(X&&X.flushSync)===!0})}function si(M){return h.v7_fetcherPersist&&(Te.set(M,(Te.get(M)||0)+1),me.has(M)&&me.delete(M)),g.fetchers.get(M)||QL}function oi(M){let V=g.fetchers.get(M);Q.has(M)&&!(V&&V.state==="loading"&&q.has(M))&&Fn(M),_e.delete(M),q.delete(M),J.delete(M),me.delete(M),H.delete(M),g.fetchers.delete(M)}function Ea(M){if(h.v7_fetcherPersist){let V=(Te.get(M)||0)-1;V<=0?(Te.delete(M),me.add(M)):Te.set(M,V)}else oi(M);Oe({fetchers:new Map(g.fetchers)})}function Fn(M){let V=Q.get(M);Be(V,"Expected fetch controller: "+M),V.abort(),Q.delete(M)}function Nd(M){for(let V of M){let B=si(V),X=ps(B.data);g.fetchers.set(V,X)}}function Od(){let M=[],V=!1;for(let B of J){let X=g.fetchers.get(B);Be(X,"Expected fetcher: "+B),X.state==="loading"&&(J.delete(B),M.push(B),V=!0)}return Nd(M),V}function wa(M){let V=[];for(let[B,X]of q)if(X<M){let de=g.fetchers.get(B);Be(de,"Expected fetcher: "+B),de.state==="loading"&&(Fn(B),q.delete(B),V.push(B))}return Nd(V),V.length>0}function Dd(M,V){let B=g.blockers.get(M)||Iu;return G.get(M)!==V&&G.set(M,V),B}function su(M){g.blockers.delete(M),G.delete(M)}function ai(M,V){let B=g.blockers.get(M)||Iu;Be(B.state==="unblocked"&&V.state==="blocked"||B.state==="blocked"&&V.state==="blocked"||B.state==="blocked"&&V.state==="proceeding"||B.state==="blocked"&&V.state==="unblocked"||B.state==="proceeding"&&V.state==="unblocked","Invalid blocker state transition: "+B.state+" -> "+V.state);let X=new Map(g.blockers);X.set(M,V),Oe({blockers:X})}function Ta(M){let{currentLocation:V,nextLocation:B,historyAction:X}=M;if(G.size===0)return;G.size>1&&Tl(!1,"A router only supports one blocker at a time");let de=Array.from(G.entries()),[be,ke]=de[de.length-1],ae=g.blockers.get(be);if(!(ae&&ae.state==="proceeding")&&ke({currentLocation:V,nextLocation:B,historyAction:X}))return be}function fo(M){let V=Un(404,{pathname:M}),B=a||o,{matches:X,route:de}=rS(B);return Sa(),{notFoundMatches:X,route:de,error:V}}function Sr(M,V){return{boundaryId:Za(V.partialMatches).route.id,error:Un(400,{type:"route-discovery",pathname:M,message:V.error!=null&&"message"in V.error?V.error:String(V.error)})}}function Sa(M){let V=[];return U.forEach((B,X)=>{(!M||M(X))&&(B.cancel(),V.push(X),U.delete(X))}),V}function Ia(M,V,B){if(S=M,_=V,T=B||null,!w&&g.navigation===gg){w=!0;let X=au(g.location,g.matches);X!=null&&Oe({restoreScrollPosition:X})}return()=>{S=null,_=null,T=null}}function ou(M,V){return T&&T(M,V.map(X=>RL(X,g.loaderData)))||M.key}function po(M,V){if(S&&_){let B=ou(M,V);S[B]=_()}}function au(M,V){if(S){let B=ou(M,V),X=S[B];if(typeof X=="number")return X}return null}function jt(M,V,B){if(d){if(E.has(B))return{active:!1,matches:M};if(M){if(Object.keys(M[0].params).length>0)return{active:!0,matches:zh(V,B,l,!0)}}else return{active:!0,matches:zh(V,B,l,!0)||[]}}return{active:!1,matches:null}}async function mo(M,V,B){let X=M;for(;;){let de=a==null,be=a||o;try{await tM(d,V,X,be,s,i,he,B)}catch(Re){return{type:"error",error:Re,partialMatches:X}}finally{de&&(o=[...o])}if(B.aborted)return{type:"aborted"};let ke=Ro(be,V,l);if(ke)return os(V,E),{type:"success",matches:ke};let ae=zh(be,V,l,!0);if(!ae||X.length===ae.length&&X.every((Re,Ee)=>Re.route.id===ae[Ee].route.id))return os(V,E),{type:"success",matches:null};X=ae}}function os(M,V){if(V.size>=y){let B=V.values().next().value;V.delete(B)}V.add(M)}function go(M){s={},a=Nc(M,i,void 0,s)}function Dm(M,V){let B=a==null;xA(M,V,a||o,s,i),B&&(o=[...o],Oe({}))}return R={get basename(){return l},get future(){return h},get state(){return g},get routes(){return o},get window(){return e},initialize:fe,subscribe:ct,enableScrollRestoration:Ia,navigate:gn,fetch:ne,revalidate:kd,createHref:M=>t.history.createHref(M),encodeLocation:M=>t.history.encodeLocation(M),getFetcher:si,deleteFetcher:Ea,dispose:Ve,getBlocker:Dd,deleteBlocker:su,patchRoutes:Dm,_internalFetchControllers:Q,_internalActiveDeferreds:U,_internalSetRoutes:go},R}function JL(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function Ky(t,e,n,r,i,s,o,a){let l,u;if(o){l=[];for(let h of e)if(l.push(h),h.route.id===o){u=h;break}}else l=e,u=e[e.length-1];let d=r0(i||".",n0(l,s),Yi(t.pathname,n)||t.pathname,a==="path");return i==null&&(d.search=t.search,d.hash=t.hash),(i==null||i===""||i===".")&&u&&u.route.index&&!o0(d.search)&&(d.search=d.search?d.search.replace(/^\?/,"?index&"):"?index"),r&&n!=="/"&&(d.pathname=d.pathname==="/"?n:Bi([n,d.pathname])),Qo(d)}function QT(t,e,n,r){if(!r||!JL(r))return{path:n};if(r.formMethod&&!fM(r.formMethod))return{path:n,error:Un(405,{method:r.formMethod})};let i=()=>({path:n,error:Un(400,{type:"invalid-body"})}),s=r.formMethod||"get",o=t?s.toUpperCase():s.toLowerCase(),a=kA(n);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!Wr(o))return i();let f=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((m,y)=>{let[E,S]=y;return""+m+E+"="+S+`
`},""):String(r.body);return{path:n,submission:{formMethod:o,formAction:a,formEncType:r.formEncType,formData:void 0,json:void 0,text:f}}}else if(r.formEncType==="application/json"){if(!Wr(o))return i();try{let f=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:n,submission:{formMethod:o,formAction:a,formEncType:r.formEncType,formData:void 0,json:f,text:void 0}}}catch{return i()}}}Be(typeof FormData=="function","FormData is not available in this environment");let l,u;if(r.formData)l=Gy(r.formData),u=r.formData;else if(r.body instanceof FormData)l=Gy(r.body),u=r.body;else if(r.body instanceof URLSearchParams)l=r.body,u=ZT(l);else if(r.body==null)l=new URLSearchParams,u=new FormData;else try{l=new URLSearchParams(r.body),u=ZT(l)}catch{return i()}let d={formMethod:o,formAction:a,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:u,json:void 0,text:void 0};if(Wr(d.formMethod))return{path:n,submission:d};let h=no(n);return e&&h.search&&o0(h.search)&&l.append("index",""),h.search="?"+l,{path:Qo(h),submission:d}}function ZL(t,e){let n=t;if(e){let r=t.findIndex(i=>i.route.id===e);r>=0&&(n=t.slice(0,r))}return n}function YT(t,e,n,r,i,s,o,a,l,u,d,h,f,m,y,E){let S=E?ur(E[1])?E[1].error:E[1].data:void 0,T=t.createURL(e.location),_=t.createURL(i),w=E&&ur(E[1])?E[0]:void 0,A=w?ZL(n,w):n,O=E?E[1].statusCode:void 0,F=o&&O&&O>=400,R=A.filter((C,b)=>{let{route:k}=C;if(k.lazy)return!0;if(k.loader==null)return!1;if(s)return typeof k.loader!="function"||k.loader.hydrate?!0:e.loaderData[k.id]===void 0&&(!e.errors||e.errors[k.id]===void 0);if(eM(e.loaderData,e.matches[b],C)||l.some(re=>re===C.route.id))return!0;let N=e.matches[b],x=C;return XT(C,bt({currentUrl:T,currentParams:N.params,nextUrl:_,nextParams:x.params},r,{actionResult:S,actionStatus:O,defaultShouldRevalidate:F?!1:a||T.pathname+T.search===_.pathname+_.search||T.search!==_.search||PA(N,x)}))}),g=[];return h.forEach((C,b)=>{if(s||!n.some(Ae=>Ae.route.id===C.routeId)||d.has(b))return;let k=Ro(m,C.path,y);if(!k){g.push({key:b,routeId:C.routeId,path:C.path,matches:null,match:null,controller:null});return}let N=e.fetchers.get(b),x=Uu(k,C.path),re=!1;f.has(b)?re=!1:u.has(b)?(u.delete(b),re=!0):N&&N.state!=="idle"&&N.data===void 0?re=a:re=XT(x,bt({currentUrl:T,currentParams:e.matches[e.matches.length-1].params,nextUrl:_,nextParams:n[n.length-1].params},r,{actionResult:S,actionStatus:O,defaultShouldRevalidate:F?!1:a})),re&&g.push({key:b,routeId:C.routeId,path:C.path,matches:k,match:x,controller:new AbortController})}),[R,g]}function eM(t,e,n){let r=!e||n.route.id!==e.route.id,i=t[n.route.id]===void 0;return r||i}function PA(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function XT(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}async function tM(t,e,n,r,i,s,o,a){let l=[e,...n.map(u=>u.route.id)].join("-");try{let u=o.get(l);u||(u=t({path:e,matches:n,patch:(d,h)=>{a.aborted||xA(d,h,r,i,s)}}),o.set(l,u)),u&&cM(u)&&await u}finally{o.delete(l)}}function xA(t,e,n,r,i){if(t){var s;let o=r[t];Be(o,"No route found to patch children into: routeId = "+t);let a=Nc(e,i,[t,"patch",String(((s=o.children)==null?void 0:s.length)||"0")],r);o.children?o.children.push(...a):o.children=a}else{let o=Nc(e,i,["patch",String(n.length||"0")],r);n.push(...o)}}async function nM(t,e,n){if(!t.lazy)return;let r=await t.lazy();if(!t.lazy)return;let i=n[t.id];Be(i,"No route found in manifest");let s={};for(let o in r){let l=i[o]!==void 0&&o!=="hasErrorBoundary";Tl(!l,'Route "'+i.id+'" has a static property "'+o+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+o+'" will be ignored.')),!l&&!IL.has(o)&&(s[o]=r[o])}Object.assign(i,s),Object.assign(i,bt({},e(i),{lazy:void 0}))}async function rM(t){let{matches:e}=t,n=e.filter(i=>i.shouldLoad);return(await Promise.all(n.map(i=>i.resolve()))).reduce((i,s,o)=>Object.assign(i,{[n[o].route.id]:s}),{})}async function iM(t,e,n,r,i,s,o,a,l,u){let d=s.map(m=>m.route.lazy?nM(m.route,l,a):void 0),h=s.map((m,y)=>{let E=d[y],S=i.some(_=>_.route.id===m.route.id);return bt({},m,{shouldLoad:S,resolve:async _=>(_&&r.method==="GET"&&(m.route.lazy||m.route.loader)&&(S=!0),S?sM(e,r,m,E,_,u):Promise.resolve({type:lt.data,result:void 0}))})}),f=await t({matches:h,request:r,params:s[0].params,fetcherKey:o,context:u});try{await Promise.all(d)}catch{}return f}async function sM(t,e,n,r,i,s){let o,a,l=u=>{let d,h=new Promise((y,E)=>d=E);a=()=>d(),e.signal.addEventListener("abort",a);let f=y=>typeof u!="function"?Promise.reject(new Error("You cannot call the handler for a route which defines a boolean "+('"'+t+'" [routeId: '+n.route.id+"]"))):u({request:e,params:n.params,context:s},...y!==void 0?[y]:[]),m=(async()=>{try{return{type:"data",result:await(i?i(E=>f(E)):f())}}catch(y){return{type:"error",result:y}}})();return Promise.race([m,h])};try{let u=n.route[t];if(r)if(u){let d,[h]=await Promise.all([l(u).catch(f=>{d=f}),r]);if(d!==void 0)throw d;o=h}else if(await r,u=n.route[t],u)o=await l(u);else if(t==="action"){let d=new URL(e.url),h=d.pathname+d.search;throw Un(405,{method:e.method,pathname:h,routeId:n.route.id})}else return{type:lt.data,result:void 0};else if(u)o=await l(u);else{let d=new URL(e.url),h=d.pathname+d.search;throw Un(404,{pathname:h})}Be(o.result!==void 0,"You defined "+(t==="action"?"an action":"a loader")+" for route "+('"'+n.route.id+"\" but didn't return anything from your `"+t+"` ")+"function. Please return a value or `null`.")}catch(u){return{type:lt.error,result:u}}finally{a&&e.signal.removeEventListener("abort",a)}return o}async function oM(t){let{result:e,type:n}=t;if(NA(e)){let u;try{let d=e.headers.get("Content-Type");d&&/\bapplication\/json\b/.test(d)?e.body==null?u=null:u=await e.json():u=await e.text()}catch(d){return{type:lt.error,error:d}}return n===lt.error?{type:lt.error,error:new Df(e.status,e.statusText,u),statusCode:e.status,headers:e.headers}:{type:lt.data,data:u,statusCode:e.status,headers:e.headers}}if(n===lt.error){if(iS(e)){var r;if(e.data instanceof Error){var i;return{type:lt.error,error:e.data,statusCode:(i=e.init)==null?void 0:i.status}}e=new Df(((r=e.init)==null?void 0:r.status)||500,void 0,e.data)}return{type:lt.error,error:e,statusCode:Vp(e)?e.status:void 0}}if(hM(e)){var s,o;return{type:lt.deferred,deferredData:e,statusCode:(s=e.init)==null?void 0:s.status,headers:((o=e.init)==null?void 0:o.headers)&&new Headers(e.init.headers)}}if(iS(e)){var a,l;return{type:lt.data,data:e.data,statusCode:(a=e.init)==null?void 0:a.status,headers:(l=e.init)!=null&&l.headers?new Headers(e.init.headers):void 0}}return{type:lt.data,data:e}}function aM(t,e,n,r,i,s){let o=t.headers.get("Location");if(Be(o,"Redirects returned/thrown from loaders/actions must have a Location header"),!i0.test(o)){let a=r.slice(0,r.findIndex(l=>l.route.id===n)+1);o=Ky(new URL(e.url),a,i,!0,o,s),t.headers.set("Location",o)}return t}function JT(t,e,n){if(i0.test(t)){let r=t,i=r.startsWith("//")?new URL(e.protocol+r):new URL(r),s=Yi(i.pathname,n)!=null;if(i.origin===e.origin&&s)return i.pathname+i.search+i.hash}return t}function xa(t,e,n,r){let i=t.createURL(kA(e)).toString(),s={signal:n};if(r&&Wr(r.formMethod)){let{formMethod:o,formEncType:a}=r;s.method=o.toUpperCase(),a==="application/json"?(s.headers=new Headers({"Content-Type":a}),s.body=JSON.stringify(r.json)):a==="text/plain"?s.body=r.text:a==="application/x-www-form-urlencoded"&&r.formData?s.body=Gy(r.formData):s.body=r.formData}return new Request(i,s)}function Gy(t){let e=new URLSearchParams;for(let[n,r]of t.entries())e.append(n,typeof r=="string"?r:r.name);return e}function ZT(t){let e=new FormData;for(let[n,r]of t.entries())e.append(n,r);return e}function lM(t,e,n,r,i){let s={},o=null,a,l=!1,u={},d=n&&ur(n[1])?n[1].error:void 0;return t.forEach(h=>{if(!(h.route.id in e))return;let f=h.route.id,m=e[f];if(Be(!xo(m),"Cannot handle redirect results in processLoaderData"),ur(m)){let y=m.error;d!==void 0&&(y=d,d=void 0),o=o||{};{let E=Za(t,f);o[E.route.id]==null&&(o[E.route.id]=y)}s[f]=void 0,l||(l=!0,a=Vp(m.error)?m.error.status:500),m.headers&&(u[f]=m.headers)}else Rs(m)?(r.set(f,m.deferredData),s[f]=m.deferredData.data,m.statusCode!=null&&m.statusCode!==200&&!l&&(a=m.statusCode),m.headers&&(u[f]=m.headers)):(s[f]=m.data,m.statusCode&&m.statusCode!==200&&!l&&(a=m.statusCode),m.headers&&(u[f]=m.headers))}),d!==void 0&&n&&(o={[n[0]]:d},s[n[0]]=void 0),{loaderData:s,errors:o,statusCode:a||200,loaderHeaders:u}}function eS(t,e,n,r,i,s,o,a){let{loaderData:l,errors:u}=lM(e,r,i,a);return s.forEach(d=>{let{key:h,match:f,controller:m}=d,y=o[h];if(Be(y,"Did not find corresponding fetcher result"),!(m&&m.signal.aborted))if(ur(y)){let E=Za(t.matches,f==null?void 0:f.route.id);u&&u[E.route.id]||(u=bt({},u,{[E.route.id]:y.error})),t.fetchers.delete(h)}else if(xo(y))Be(!1,"Unhandled fetcher revalidation redirect");else if(Rs(y))Be(!1,"Unhandled fetcher deferred data");else{let E=ps(y.data);t.fetchers.set(h,E)}}),{loaderData:l,errors:u}}function tS(t,e,n,r){let i=bt({},e);for(let s of n){let o=s.route.id;if(e.hasOwnProperty(o)?e[o]!==void 0&&(i[o]=e[o]):t[o]!==void 0&&s.route.loader&&(i[o]=t[o]),r&&r.hasOwnProperty(o))break}return i}function nS(t){return t?ur(t[1])?{actionData:{}}:{actionData:{[t[0]]:t[1].data}}:{}}function Za(t,e){return(e?t.slice(0,t.findIndex(r=>r.route.id===e)+1):[...t]).reverse().find(r=>r.route.hasErrorBoundary===!0)||t[0]}function rS(t){let e=t.length===1?t[0]:t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function Un(t,e){let{pathname:n,routeId:r,method:i,type:s,message:o}=e===void 0?{}:e,a="Unknown Server Error",l="Unknown @remix-run/router error";return t===400?(a="Bad Request",s==="route-discovery"?l='Unable to match URL "'+n+'" - the `unstable_patchRoutesOnNavigation()` '+(`function threw the following error:
`+o):i&&n&&r?l="You made a "+i+' request to "'+n+'" but '+('did not provide a `loader` for route "'+r+'", ')+"so there is no way to handle the request.":s==="defer-action"?l="defer() is not supported in actions":s==="invalid-body"&&(l="Unable to encode submission body")):t===403?(a="Forbidden",l='Route "'+r+'" does not match URL "'+n+'"'):t===404?(a="Not Found",l='No route matches URL "'+n+'"'):t===405&&(a="Method Not Allowed",i&&n&&r?l="You made a "+i.toUpperCase()+' request to "'+n+'" but '+('did not provide an `action` for route "'+r+'", ')+"so there is no way to handle the request.":i&&(l='Invalid request method "'+i.toUpperCase()+'"')),new Df(t||500,a,new Error(l),!0)}function hh(t){let e=Object.entries(t);for(let n=e.length-1;n>=0;n--){let[r,i]=e[n];if(xo(i))return{key:r,result:i}}}function kA(t){let e=typeof t=="string"?no(t):t;return Qo(bt({},e,{hash:""}))}function uM(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function cM(t){return typeof t=="object"&&t!=null&&"then"in t}function dM(t){return NA(t.result)&&KL.has(t.result.status)}function Rs(t){return t.type===lt.deferred}function ur(t){return t.type===lt.error}function xo(t){return(t&&t.type)===lt.redirect}function iS(t){return typeof t=="object"&&t!=null&&"type"in t&&"data"in t&&"init"in t&&t.type==="DataWithResponseInit"}function hM(t){let e=t;return e&&typeof e=="object"&&typeof e.data=="object"&&typeof e.subscribe=="function"&&typeof e.cancel=="function"&&typeof e.resolveData=="function"}function NA(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function fM(t){return qL.has(t.toLowerCase())}function Wr(t){return WL.has(t.toLowerCase())}async function pM(t,e,n,r,i){let s=Object.entries(e);for(let o=0;o<s.length;o++){let[a,l]=s[o],u=t.find(f=>(f==null?void 0:f.route.id)===a);if(!u)continue;let d=r.find(f=>f.route.id===u.route.id),h=d!=null&&!PA(d,u)&&(i&&i[u.route.id])!==void 0;Rs(l)&&h&&await s0(l,n,!1).then(f=>{f&&(e[a]=f)})}}async function mM(t,e,n){for(let r=0;r<n.length;r++){let{key:i,routeId:s,controller:o}=n[r],a=e[i];t.find(u=>(u==null?void 0:u.route.id)===s)&&Rs(a)&&(Be(o,"Expected an AbortController for revalidating fetcher deferred result"),await s0(a,o.signal,!0).then(u=>{u&&(e[i]=u)}))}}async function s0(t,e,n){if(n===void 0&&(n=!1),!await t.deferredData.resolveData(e)){if(n)try{return{type:lt.data,data:t.deferredData.unwrappedData}}catch(i){return{type:lt.error,error:i}}return{type:lt.data,data:t.deferredData.data}}}function o0(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function Uu(t,e){let n=typeof e=="string"?no(e).search:e.search;if(t[t.length-1].route.index&&o0(n||""))return t[t.length-1];let r=RA(t);return r[r.length-1]}function sS(t){let{formMethod:e,formAction:n,formEncType:r,text:i,formData:s,json:o}=t;if(!(!e||!n||!r)){if(i!=null)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:void 0,text:i};if(s!=null)return{formMethod:e,formAction:n,formEncType:r,formData:s,json:void 0,text:void 0};if(o!==void 0)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:o,text:void 0}}}function yg(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function gM(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function Cu(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function yM(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function ps(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function _M(t,e){try{let n=t.sessionStorage.getItem(bA);if(n){let r=JSON.parse(n);for(let[i,s]of Object.entries(r||{}))s&&Array.isArray(s)&&e.set(i,new Set(s||[]))}}catch{}}function vM(t,e){if(e.size>0){let n={};for(let[r,i]of e)n[r]=[...i];try{t.sessionStorage.setItem(bA,JSON.stringify(n))}catch(r){Tl(!1,"Failed to save applied view transitions in sessionStorage ("+r+").")}}}/**
 * React Router v6.26.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Lf(){return Lf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Lf.apply(this,arguments)}const id=I.createContext(null),a0=I.createContext(null),ro=I.createContext(null),l0=I.createContext(null),io=I.createContext({outlet:null,matches:[],isDataRoute:!1}),OA=I.createContext(null);function EM(t,e){let{relative:n}=e===void 0?{}:e;sd()||Be(!1);let{basename:r,navigator:i}=I.useContext(ro),{hash:s,pathname:o,search:a}=Up(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:Bi([r,o])),i.createHref({pathname:l,search:a,hash:s})}function sd(){return I.useContext(l0)!=null}function $l(){return sd()||Be(!1),I.useContext(l0).location}function DA(t){I.useContext(ro).static||I.useLayoutEffect(t)}function fa(){let{isDataRoute:t}=I.useContext(io);return t?OM():wM()}function wM(){sd()||Be(!1);let t=I.useContext(id),{basename:e,future:n,navigator:r}=I.useContext(ro),{matches:i}=I.useContext(io),{pathname:s}=$l(),o=JSON.stringify(n0(i,n.v7_relativeSplatPath)),a=I.useRef(!1);return DA(()=>{a.current=!0}),I.useCallback(function(u,d){if(d===void 0&&(d={}),!a.current)return;if(typeof u=="number"){r.go(u);return}let h=r0(u,JSON.parse(o),s,d.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:Bi([e,h.pathname])),(d.replace?r.replace:r.push)(h,d.state,d)},[e,r,o,s,t])}function TM(){let{matches:t}=I.useContext(io),e=t[t.length-1];return e?e.params:{}}function Up(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=I.useContext(ro),{matches:i}=I.useContext(io),{pathname:s}=$l(),o=JSON.stringify(n0(i,r.v7_relativeSplatPath));return I.useMemo(()=>r0(t,JSON.parse(o),s,n==="path"),[t,o,s,n])}function SM(t,e,n,r){sd()||Be(!1);let{navigator:i}=I.useContext(ro),{matches:s}=I.useContext(io),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let u=$l(),d;d=u;let h=d.pathname||"/",f=h;if(l!=="/"){let E=l.replace(/^\//,"").split("/");f="/"+h.replace(/^\//,"").split("/").slice(E.length).join("/")}let m=Ro(t,{pathname:f});return bM(m&&m.map(E=>Object.assign({},E,{params:Object.assign({},a,E.params),pathname:Bi([l,i.encodeLocation?i.encodeLocation(E.pathname).pathname:E.pathname]),pathnameBase:E.pathnameBase==="/"?l:Bi([l,i.encodeLocation?i.encodeLocation(E.pathnameBase).pathname:E.pathnameBase])})),s,n,r)}function IM(){let t=NM(),e=Vp(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return I.createElement(I.Fragment,null,I.createElement("h2",null,"Unexpected Application Error!"),I.createElement("h3",{style:{fontStyle:"italic"}},e),n?I.createElement("pre",{style:i},n):null,null)}const CM=I.createElement(IM,null);class RM extends I.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?I.createElement(io.Provider,{value:this.props.routeContext},I.createElement(OA.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function AM(t){let{routeContext:e,match:n,children:r}=t,i=I.useContext(id);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),I.createElement(io.Provider,{value:e},r)}function bM(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let d=o.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id])!==void 0);d>=0||Be(!1),o=o.slice(0,Math.min(o.length,d+1))}let l=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<o.length;d++){let h=o[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=d),h.route.id){let{loaderData:f,errors:m}=n,y=h.route.loader&&f[h.route.id]===void 0&&(!m||m[h.route.id]===void 0);if(h.route.lazy||y){l=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,h,f)=>{let m,y=!1,E=null,S=null;n&&(m=a&&h.route.id?a[h.route.id]:void 0,E=h.route.errorElement||CM,l&&(u<0&&f===0?(DM("route-fallback"),y=!0,S=null):u===f&&(y=!0,S=h.route.hydrateFallbackElement||null)));let T=e.concat(o.slice(0,f+1)),_=()=>{let w;return m?w=E:y?w=S:h.route.Component?w=I.createElement(h.route.Component,null):h.route.element?w=h.route.element:w=d,I.createElement(AM,{match:h,routeContext:{outlet:d,matches:T,isDataRoute:n!=null},children:w})};return n&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?I.createElement(RM,{location:n.location,revalidation:n.revalidation,component:E,error:m,children:_(),routeContext:{outlet:null,matches:T,isDataRoute:!0}}):_()},null)}var LA=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(LA||{}),Mf=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Mf||{});function PM(t){let e=I.useContext(id);return e||Be(!1),e}function xM(t){let e=I.useContext(a0);return e||Be(!1),e}function kM(t){let e=I.useContext(io);return e||Be(!1),e}function MA(t){let e=kM(),n=e.matches[e.matches.length-1];return n.route.id||Be(!1),n.route.id}function NM(){var t;let e=I.useContext(OA),n=xM(Mf.UseRouteError),r=MA(Mf.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function OM(){let{router:t}=PM(LA.UseNavigateStable),e=MA(Mf.UseNavigateStable),n=I.useRef(!1);return DA(()=>{n.current=!0}),I.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Lf({fromRouteId:e},s)))},[t,e])}const oS={};function DM(t,e,n){oS[t]||(oS[t]=!0)}function LM(t){let{basename:e="/",children:n=null,location:r,navigationType:i=zt.Pop,navigator:s,static:o=!1,future:a}=t;sd()&&Be(!1);let l=e.replace(/^\/*/,"/"),u=I.useMemo(()=>({basename:l,navigator:s,static:o,future:Lf({v7_relativeSplatPath:!1},a)}),[l,a,s,o]);typeof r=="string"&&(r=no(r));let{pathname:d="/",search:h="",hash:f="",state:m=null,key:y="default"}=r,E=I.useMemo(()=>{let S=Yi(d,l);return S==null?null:{location:{pathname:S,search:h,hash:f,state:m,key:y},navigationType:i}},[l,d,h,f,m,y,i]);return E==null?null:I.createElement(ro.Provider,{value:u},I.createElement(l0.Provider,{children:n,value:E}))}new Promise(()=>{});function MM(t){let e={hasErrorBoundary:t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&Object.assign(e,{element:I.createElement(t.Component),Component:void 0}),t.HydrateFallback&&Object.assign(e,{hydrateFallbackElement:I.createElement(t.HydrateFallback),HydrateFallback:void 0}),t.ErrorBoundary&&Object.assign(e,{errorElement:I.createElement(t.ErrorBoundary),ErrorBoundary:void 0}),e}/**
 * React Router DOM v6.26.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Sl(){return Sl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Sl.apply(this,arguments)}function FA(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function FM(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function VM(t,e){return t.button===0&&(!e||e==="_self")&&!FM(t)}const UM=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],jM=["aria-current","caseSensitive","className","end","style","to","unstable_viewTransition","children"],$M="6";try{window.__reactRouterVersion=$M}catch{}function BM(t,e){return XL({basename:void 0,future:Sl({},void 0,{v7_prependBasename:!0}),history:wL({window:void 0}),hydrationData:zM(),routes:t,mapRouteProperties:MM,unstable_dataStrategy:void 0,unstable_patchRoutesOnNavigation:void 0,window:void 0}).initialize()}function zM(){var t;let e=(t=window)==null?void 0:t.__staticRouterHydrationData;return e&&e.errors&&(e=Sl({},e,{errors:WM(e.errors)})),e}function WM(t){if(!t)return null;let e=Object.entries(t),n={};for(let[r,i]of e)if(i&&i.__type==="RouteErrorResponse")n[r]=new Df(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let s=window[i.__subType];if(typeof s=="function")try{let o=new s(i.message);o.stack="",n[r]=o}catch{}}if(n[r]==null){let s=new Error(i.message);s.stack="",n[r]=s}}else n[r]=i;return n}const VA=I.createContext({isTransitioning:!1}),HM=I.createContext(new Map),qM="startTransition",aS=rf[qM],KM="flushSync",lS=eL[KM];function GM(t){aS?aS(t):t()}function Ru(t){lS?lS(t):t()}let QM=class{constructor(){this.status="pending",this.promise=new Promise((e,n)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",e(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",n(r))}})}};function YM(t){let{fallbackElement:e,router:n,future:r}=t,[i,s]=I.useState(n.state),[o,a]=I.useState(),[l,u]=I.useState({isTransitioning:!1}),[d,h]=I.useState(),[f,m]=I.useState(),[y,E]=I.useState(),S=I.useRef(new Map),{v7_startTransition:T}=r||{},_=I.useCallback(g=>{T?GM(g):g()},[T]),w=I.useCallback((g,C)=>{let{deletedFetchers:b,unstable_flushSync:k,unstable_viewTransitionOpts:N}=C;b.forEach(re=>S.current.delete(re)),g.fetchers.forEach((re,Ae)=>{re.data!==void 0&&S.current.set(Ae,re.data)});let x=n.window==null||n.window.document==null||typeof n.window.document.startViewTransition!="function";if(!N||x){k?Ru(()=>s(g)):_(()=>s(g));return}if(k){Ru(()=>{f&&(d&&d.resolve(),f.skipTransition()),u({isTransitioning:!0,flushSync:!0,currentLocation:N.currentLocation,nextLocation:N.nextLocation})});let re=n.window.document.startViewTransition(()=>{Ru(()=>s(g))});re.finished.finally(()=>{Ru(()=>{h(void 0),m(void 0),a(void 0),u({isTransitioning:!1})})}),Ru(()=>m(re));return}f?(d&&d.resolve(),f.skipTransition(),E({state:g,currentLocation:N.currentLocation,nextLocation:N.nextLocation})):(a(g),u({isTransitioning:!0,flushSync:!1,currentLocation:N.currentLocation,nextLocation:N.nextLocation}))},[n.window,f,d,S,_]);I.useLayoutEffect(()=>n.subscribe(w),[n,w]),I.useEffect(()=>{l.isTransitioning&&!l.flushSync&&h(new QM)},[l]),I.useEffect(()=>{if(d&&o&&n.window){let g=o,C=d.promise,b=n.window.document.startViewTransition(async()=>{_(()=>s(g)),await C});b.finished.finally(()=>{h(void 0),m(void 0),a(void 0),u({isTransitioning:!1})}),m(b)}},[_,o,d,n.window]),I.useEffect(()=>{d&&o&&i.location.key===o.location.key&&d.resolve()},[d,f,i.location,o]),I.useEffect(()=>{!l.isTransitioning&&y&&(a(y.state),u({isTransitioning:!0,flushSync:!1,currentLocation:y.currentLocation,nextLocation:y.nextLocation}),E(void 0))},[l.isTransitioning,y]),I.useEffect(()=>{},[]);let A=I.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:g=>n.navigate(g),push:(g,C,b)=>n.navigate(g,{state:C,preventScrollReset:b==null?void 0:b.preventScrollReset}),replace:(g,C,b)=>n.navigate(g,{replace:!0,state:C,preventScrollReset:b==null?void 0:b.preventScrollReset})}),[n]),O=n.basename||"/",F=I.useMemo(()=>({router:n,navigator:A,static:!1,basename:O}),[n,A,O]),R=I.useMemo(()=>({v7_relativeSplatPath:n.future.v7_relativeSplatPath}),[n.future.v7_relativeSplatPath]);return I.createElement(I.Fragment,null,I.createElement(id.Provider,{value:F},I.createElement(a0.Provider,{value:i},I.createElement(HM.Provider,{value:S.current},I.createElement(VA.Provider,{value:l},I.createElement(LM,{basename:O,location:i.location,navigationType:i.historyAction,navigator:A,future:R},i.initialized||n.future.v7_partialHydration?I.createElement(XM,{routes:n.routes,future:n.future,state:i}):e))))),null)}const XM=I.memo(JM);function JM(t){let{routes:e,future:n,state:r}=t;return SM(e,void 0,r,n)}const ZM=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",eF=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,tF=I.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:l,to:u,preventScrollReset:d,unstable_viewTransition:h}=e,f=FA(e,UM),{basename:m}=I.useContext(ro),y,E=!1;if(typeof u=="string"&&eF.test(u)&&(y=u,ZM))try{let w=new URL(window.location.href),A=u.startsWith("//")?new URL(w.protocol+u):new URL(u),O=Yi(A.pathname,m);A.origin===w.origin&&O!=null?u=O+A.search+A.hash:E=!0}catch{}let S=EM(u,{relative:i}),T=rF(u,{replace:o,state:a,target:l,preventScrollReset:d,relative:i,unstable_viewTransition:h});function _(w){r&&r(w),w.defaultPrevented||T(w)}return I.createElement("a",Sl({},f,{href:y||S,onClick:E||s?r:_,ref:n,target:l}))}),Mi=I.forwardRef(function(e,n){let{"aria-current":r="page",caseSensitive:i=!1,className:s="",end:o=!1,style:a,to:l,unstable_viewTransition:u,children:d}=e,h=FA(e,jM),f=Up(l,{relative:h.relative}),m=$l(),y=I.useContext(a0),{navigator:E,basename:S}=I.useContext(ro),T=y!=null&&iF(f)&&u===!0,_=E.encodeLocation?E.encodeLocation(f).pathname:f.pathname,w=m.pathname,A=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;i||(w=w.toLowerCase(),A=A?A.toLowerCase():null,_=_.toLowerCase()),A&&S&&(A=Yi(A,S)||A);const O=_!=="/"&&_.endsWith("/")?_.length-1:_.length;let F=w===_||!o&&w.startsWith(_)&&w.charAt(O)==="/",R=A!=null&&(A===_||!o&&A.startsWith(_)&&A.charAt(_.length)==="/"),g={isActive:F,isPending:R,isTransitioning:T},C=F?r:void 0,b;typeof s=="function"?b=s(g):b=[s,F?"active":null,R?"pending":null,T?"transitioning":null].filter(Boolean).join(" ");let k=typeof a=="function"?a(g):a;return I.createElement(tF,Sl({},h,{"aria-current":C,className:b,ref:n,style:k,to:l,unstable_viewTransition:u}),typeof d=="function"?d(g):d)});var Qy;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Qy||(Qy={}));var uS;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(uS||(uS={}));function nF(t){let e=I.useContext(id);return e||Be(!1),e}function rF(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:a}=e===void 0?{}:e,l=fa(),u=$l(),d=Up(t,{relative:o});return I.useCallback(h=>{if(VM(h,n)){h.preventDefault();let f=r!==void 0?r:Qo(u)===Qo(d);l(t,{replace:f,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:a})}},[u,l,d,r,i,n,t,s,o,a])}function iF(t,e){e===void 0&&(e={});let n=I.useContext(VA);n==null&&Be(!1);let{basename:r}=nF(Qy.useViewTransitionState),i=Up(t,{relative:e.relative});if(!n.isTransitioning)return!1;let s=Yi(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=Yi(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Of(i.pathname,o)!=null||Of(i.pathname,s)!=null}var cS={ACSetupSvcPort:"23210",ACSvcPort:"17532",ALLUSERSPROFILE:"C:\\ProgramData",APPDATA:"C:\\Users\\rohit\\AppData\\Roaming",ChocolateyInstall:"C:\\ProgramData\\chocolatey",ChocolateyLastPathUpdate:"133680928985731693",CHROME_CRASHPAD_PIPE_NAME:"\\\\.\\pipe\\crashpad_15764_XLUKQMRNJWJZGKBQ",COLOR:"1",COLORTERM:"truecolor",CommonProgramFiles:"C:\\Program Files\\Common Files","CommonProgramFiles(x86)":"C:\\Program Files (x86)\\Common Files",CommonProgramW6432:"C:\\Program Files\\Common Files",COMPUTERNAME:"TUFROHITSK",ComSpec:"C:\\WINDOWS\\system32\\cmd.exe",DriverData:"C:\\Windows\\System32\\Drivers\\DriverData",EDITOR:"C:\\WINDOWS\\notepad.exe",EFC_2332:"1",EnableLog:"INFO",FPS_BROWSER_APP_PROFILE_STRING:"Internet Explorer",FPS_BROWSER_USER_PROFILE_STRING:"Default",GIT_ASKPASS:"c:\\Users\\rohit\\AppData\\Local\\Programs\\Microsoft VS Code\\resources\\app\\extensions\\git\\dist\\askpass.sh",HOME:"C:\\Users\\rohit",HOMEDRIVE:"C:",HOMEPATH:"\\Users\\rohit",IGCCSVC_DB:"AQAAANCMnd8BFdERjHoAwE/Cl+sBAAAA8wJOQfAG70WeC5dZTQk+jwQAAAACAAAAAAAQZgAAAAEAACAAAAD+pZU1HxwMgfw40BK8MODsq+yVvf54PowKY1rCIhr01AAAAAAOgAAAAAIAACAAAAA44UbQ0yo6z9Ee39dbWBIz/YwZH+CKAKOjMB/jDRacAWAAAADXIksOvOhJMZ9uP1J+uBb5ArDXW47RFJlxAjgx58K+q7IO/X5XIaIzDvpRJyTiR2ipEFDKHU18WFtAFtq1GLpwuVxzsZ1fG4YVe09qQaLgXNmyO0k3wnBUx41luY1jEMFAAAAA6bU91r8RA438g+c3NMbgtV9LaOZtm4KxRsJFDGS5++JoMDUc1rcFe0p+CKi/uTYKqBVqRV/2vuaDcrAcakSLgA==",INIT_CWD:"R:\\Proj-Sell\\frontend",LANG:"en_US.UTF-8",LOCALAPPDATA:"C:\\Users\\rohit\\AppData\\Local",LOGONSERVER:"\\\\TUFROHITSK",NODE:"C:\\Program Files\\nodejs\\node.exe",NODE_ENV:"production",NODE_EXE:"C:\\Program Files\\nodejs\\\\node.exe",NPM_CLI_JS:"C:\\Program Files\\nodejs\\\\node_modules\\npm\\bin\\npm-cli.js",npm_command:"run-script",npm_config_cache:"C:\\Users\\rohit\\AppData\\Local\\npm-cache",npm_config_globalconfig:"C:\\Users\\rohit\\AppData\\Roaming\\npm\\etc\\npmrc",npm_config_global_prefix:"C:\\Users\\rohit\\AppData\\Roaming\\npm",npm_config_init_module:"C:\\Users\\rohit\\.npm-init.js",npm_config_local_prefix:"R:\\Proj-Sell\\frontend",npm_config_node_gyp:"C:\\Program Files\\nodejs\\node_modules\\npm\\node_modules\\node-gyp\\bin\\node-gyp.js",npm_config_noproxy:"",npm_config_npm_version:"10.8.1",npm_config_prefix:"C:\\Users\\rohit\\AppData\\Roaming\\npm",npm_config_userconfig:"C:\\Users\\rohit\\.npmrc",npm_config_user_agent:"npm/10.8.1 node/v20.16.0 win32 x64 workspaces/false",npm_execpath:"C:\\Program Files\\nodejs\\node_modules\\npm\\bin\\npm-cli.js",npm_lifecycle_event:"build",npm_lifecycle_script:"vite build",npm_node_execpath:"C:\\Program Files\\nodejs\\node.exe",npm_package_json:"R:\\Proj-Sell\\frontend\\package.json",npm_package_name:"frontend",npm_package_version:"0.0.0",NPM_PREFIX_JS:"C:\\Program Files\\nodejs\\\\node_modules\\npm\\bin\\npm-prefix.js",NPM_PREFIX_NPM_CLI_JS:"C:\\Users\\rohit\\AppData\\Roaming\\npm\\node_modules\\npm\\bin\\npm-cli.js",NUMBER_OF_PROCESSORS:"16",OneDrive:"C:\\Users\\rohit\\OneDrive",ORIGINAL_XDG_CURRENT_DESKTOP:"undefined",OS:"Windows_NT",Path:"R:\\Proj-Sell\\frontend\\node_modules\\.bin;R:\\Proj-Sell\\node_modules\\.bin;R:\\node_modules\\.bin;C:\\Program Files\\nodejs\\node_modules\\npm\\node_modules\\@npmcli\\run-script\\lib\\node-gyp-bin;R:\\Proj-Sell\\frontend\\node_modules\\.bin;R:\\Proj-Sell\\node_modules\\.bin;R:\\node_modules\\.bin;C:\\Program Files\\nodejs\\node_modules\\npm\\node_modules\\@npmcli\\run-script\\lib\\node-gyp-bin;C:\\Program Files\\Common Files\\Oracle\\Java\\javapath;C:\\Python312\\Scripts\\;C:\\Python312\\;C:\\Windows\\system32;C:\\Windows;C:\\Windows\\System32\\Wbem;C:\\Windows\\System32\\WindowsPowerShell\\v1.0\\;C:\\Windows\\System32\\OpenSSH\\;C:\\Program Files (x86)\\NVIDIA Corporation\\PhysX\\Common;C:\\Program Files\\NVIDIA Corporation\\NVIDIA NvDLISR;C:\\WINDOWS\\system32;C:\\WINDOWS;C:\\WINDOWS\\System32\\Wbem;C:\\WINDOWS\\System32\\WindowsPowerShell\\v1.0\\;C:\\WINDOWS\\System32\\OpenSSH\\;C:\\Program Files\\Git\\cmd;C:\\Program Files\\nodejs\\;C:\\ProgramData\\chocolatey\\bin;C:\\Program Files\\dotnet\\;C:\\Users\\rohit\\AppData\\Local\\Microsoft\\WindowsApps;C:\\Users\\rohit\\AppData\\Local\\Programs\\Microsoft VS Code\\bin;C:\\Users\\rohit\\AppData\\Local\\Microsoft\\WinGet\\Packages\\Schniz.fnm_Microsoft.Winget.Source_8wekyb3d8bbwe;C:\\Users\\rohit\\AppData\\Roaming\\npm;C:\\Users\\rohit\\AppData\\Local\\Programs\\mongosh\\;C:\\Users\\rohit\\AppData\\Local\\GitHubDesktop\\bin",PATHEXT:".COM;.EXE;.BAT;.CMD;.VBS;.VBE;.JS;.JSE;.WSF;.WSH;.MSC;.PY;.PYW;.CPL",PROCESSOR_ARCHITECTURE:"AMD64",PROCESSOR_IDENTIFIER:"Intel64 Family 6 Model 154 Stepping 3, GenuineIntel",PROCESSOR_LEVEL:"6",PROCESSOR_REVISION:"9a03",ProgramData:"C:\\ProgramData",ProgramFiles:"C:\\Program Files","ProgramFiles(x86)":"C:\\Program Files (x86)",ProgramW6432:"C:\\Program Files",PROMPT:"$P$G",PSModulePath:"C:\\Users\\rohit\\Documents\\WindowsPowerShell\\Modules;C:\\Program Files\\WindowsPowerShell\\Modules;C:\\WINDOWS\\system32\\WindowsPowerShell\\v1.0\\Modules",PUBLIC:"C:\\Users\\Public",RlsSvcPort:"22112",SESSIONNAME:"Console",SystemDrive:"C:",SystemRoot:"C:\\WINDOWS",TEMP:"C:\\Users\\rohit\\AppData\\Local\\Temp",TERM_PROGRAM:"vscode",TERM_PROGRAM_VERSION:"1.94.0",TMP:"C:\\Users\\rohit\\AppData\\Local\\Temp",USERDOMAIN:"TUFROHITSK",USERDOMAIN_ROAMINGPROFILE:"TUFROHITSK",USERNAME:"rohit",USERPROFILE:"C:\\Users\\rohit",VSCODE_GIT_ASKPASS_EXTRA_ARGS:"",VSCODE_GIT_ASKPASS_MAIN:"c:\\Users\\rohit\\AppData\\Local\\Programs\\Microsoft VS Code\\resources\\app\\extensions\\git\\dist\\askpass-main.js",VSCODE_GIT_ASKPASS_NODE:"C:\\Users\\rohit\\AppData\\Local\\Programs\\Microsoft VS Code\\Code.exe",VSCODE_GIT_IPC_HANDLE:"\\\\.\\pipe\\vscode-git-b179010c8b-sock",VSCODE_INJECTION:"1",VSCODE_NONCE:"7a3f350c-0ba9-4cc5-b4f1-3ebf9f75ba16",VSCODE_STABLE:"1",windir:"C:\\WINDOWS",ZES_ENABLE_SYSMAN:"1"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UA={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ce=function(t,e){if(!t)throw Bl(e)},Bl=function(t){return new Error("Firebase Database ("+UA.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jA=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},sF=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},u0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,d=s>>2,h=(s&3)<<4|a>>4;let f=(a&15)<<2|u>>6,m=u&63;l||(m=64,o||(f=64)),r.push(n[d],n[h],n[f],n[m])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(jA(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):sF(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const h=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||u==null||h==null)throw new oF;const f=s<<2|a>>4;if(r.push(f),u!==64){const m=a<<4&240|u>>2;if(r.push(m),h!==64){const y=u<<6&192|h;r.push(y)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class oF extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const $A=function(t){const e=jA(t);return u0.encodeByteArray(e,!0)},Ff=function(t){return $A(t).replace(/\./g,"")},Vf=function(t){try{return u0.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aF(t){return BA(void 0,t)}function BA(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!lF(n)||(t[n]=BA(t[n],e[n]));return t}function lF(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uF(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cF=()=>uF().__FIREBASE_DEFAULTS__,dF=()=>{if(typeof process>"u"||typeof cS>"u")return;const t=cS.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},hF=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Vf(t[1]);return e&&JSON.parse(e)},jp=()=>{try{return cF()||dF()||hF()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},zA=t=>{var e,n;return(n=(e=jp())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},WA=t=>{const e=zA(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},HA=()=>{var t;return(t=jp())===null||t===void 0?void 0:t.config},qA=t=>{var e;return(e=jp())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c0{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KA(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Ff(JSON.stringify(n)),Ff(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function On(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function d0(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(On())}function fF(){var t;const e=(t=jp())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function pF(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function mF(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function GA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function gF(){const t=On();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function QA(){return UA.NODE_ADMIN===!0}function yF(){return!fF()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function _F(){try{return typeof indexedDB=="object"}catch{return!1}}function vF(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EF="FirebaseError";class Si extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=EF,Object.setPrototypeOf(this,Si.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,od.prototype.create)}}class od{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?wF(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Si(i,a,r)}}function wF(t,e){return t.replace(TF,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const TF=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oc(t){return JSON.parse(t)}function cn(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YA=function(t){let e={},n={},r={},i="";try{const s=t.split(".");e=Oc(Vf(s[0])||""),n=Oc(Vf(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:i}},SF=function(t){const e=YA(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},IF=function(t){const e=YA(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function is(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Il(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function Yy(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Uf(t,e,n){const r={};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function Dc(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(dS(s)&&dS(o)){if(!Dc(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function dS(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zl(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function ju(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function $u(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CF{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const r=this.W_;if(typeof e=="string")for(let h=0;h<16;h++)r[h]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let h=0;h<16;h++)r[h]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let h=16;h<80;h++){const f=r[h-3]^r[h-8]^r[h-14]^r[h-16];r[h]=(f<<1|f>>>31)&4294967295}let i=this.chain_[0],s=this.chain_[1],o=this.chain_[2],a=this.chain_[3],l=this.chain_[4],u,d;for(let h=0;h<80;h++){h<40?h<20?(u=a^s&(o^a),d=1518500249):(u=s^o^a,d=1859775393):h<60?(u=s&o|a&(s|o),d=2400959708):(u=s^o^a,d=3395469782);const f=(i<<5|i>>>27)+u+l+d+r[h]&4294967295;l=a,a=o,o=(s<<30|s>>>2)&4294967295,s=i,i=f}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const r=n-this.blockSize;let i=0;const s=this.buf_;let o=this.inbuf_;for(;i<n;){if(o===0)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<n;)if(s[o]=e.charCodeAt(i),++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}else for(;i<n;)if(s[o]=e[i],++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let s=24;s>=0;s-=8)e[r]=this.chain_[i]>>s&255,++r;return e}}function RF(t,e){const n=new AF(t,e);return n.subscribe.bind(n)}class AF{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");bF(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=_g),i.error===void 0&&(i.error=_g),i.complete===void 0&&(i.complete=_g);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function bF(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function _g(){}function PF(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xF=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);if(i>=55296&&i<=56319){const s=i-55296;r++,ce(r<t.length,"Surrogate pair missing trail surrogate.");const o=t.charCodeAt(r)-56320;i=65536+(s<<10)+o}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},$p=function(t){let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function At(t){return t&&t._delegate?t._delegate:t}class Xi{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Io="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kF{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new c0;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(OF(e))try{this.getOrInitializeService({instanceIdentifier:Io})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Io){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Io){return this.instances.has(e)}getOptions(e=Io){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:NF(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Io){return this.component?this.component.multipleInstances?e:Io:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function NF(t){return t===Io?void 0:t}function OF(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DF{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new kF(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var He;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(He||(He={}));const LF={debug:He.DEBUG,verbose:He.VERBOSE,info:He.INFO,warn:He.WARN,error:He.ERROR,silent:He.SILENT},MF=He.INFO,FF={[He.DEBUG]:"log",[He.VERBOSE]:"log",[He.INFO]:"info",[He.WARN]:"warn",[He.ERROR]:"error"},VF=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=FF[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Bp{constructor(e){this.name=e,this._logLevel=MF,this._logHandler=VF,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in He))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?LF[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,He.DEBUG,...e),this._logHandler(this,He.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,He.VERBOSE,...e),this._logHandler(this,He.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,He.INFO,...e),this._logHandler(this,He.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,He.WARN,...e),this._logHandler(this,He.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,He.ERROR,...e),this._logHandler(this,He.ERROR,...e)}}const UF=(t,e)=>e.some(n=>t instanceof n);let hS,fS;function jF(){return hS||(hS=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function $F(){return fS||(fS=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const XA=new WeakMap,Xy=new WeakMap,JA=new WeakMap,vg=new WeakMap,h0=new WeakMap;function BF(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Fs(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&XA.set(n,t)}).catch(()=>{}),h0.set(e,t),e}function zF(t){if(Xy.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Xy.set(t,e)}let Jy={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Xy.get(t);if(e==="objectStoreNames")return t.objectStoreNames||JA.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Fs(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function WF(t){Jy=t(Jy)}function HF(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Eg(this),e,...n);return JA.set(r,e.sort?e.sort():[e]),Fs(r)}:$F().includes(t)?function(...e){return t.apply(Eg(this),e),Fs(XA.get(this))}:function(...e){return Fs(t.apply(Eg(this),e))}}function qF(t){return typeof t=="function"?HF(t):(t instanceof IDBTransaction&&zF(t),UF(t,jF())?new Proxy(t,Jy):t)}function Fs(t){if(t instanceof IDBRequest)return BF(t);if(vg.has(t))return vg.get(t);const e=qF(t);return e!==t&&(vg.set(t,e),h0.set(e,t)),e}const Eg=t=>h0.get(t);function KF(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Fs(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Fs(o.result),l.oldVersion,l.newVersion,Fs(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const GF=["get","getKey","getAll","getAllKeys","count"],QF=["put","add","delete","clear"],wg=new Map;function pS(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(wg.get(e))return wg.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=QF.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||GF.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return wg.set(e,s),s}WF(t=>({...t,get:(e,n,r)=>pS(e,n)||t.get(e,n,r),has:(e,n)=>!!pS(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YF{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(XF(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function XF(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Zy="@firebase/app",mS="0.10.12";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ji=new Bp("@firebase/app"),JF="@firebase/app-compat",ZF="@firebase/analytics-compat",eV="@firebase/analytics",tV="@firebase/app-check-compat",nV="@firebase/app-check",rV="@firebase/auth",iV="@firebase/auth-compat",sV="@firebase/database",oV="@firebase/data-connect",aV="@firebase/database-compat",lV="@firebase/functions",uV="@firebase/functions-compat",cV="@firebase/installations",dV="@firebase/installations-compat",hV="@firebase/messaging",fV="@firebase/messaging-compat",pV="@firebase/performance",mV="@firebase/performance-compat",gV="@firebase/remote-config",yV="@firebase/remote-config-compat",_V="@firebase/storage",vV="@firebase/storage-compat",EV="@firebase/firestore",wV="@firebase/vertexai-preview",TV="@firebase/firestore-compat",SV="firebase",IV="10.14.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e_="[DEFAULT]",CV={[Zy]:"fire-core",[JF]:"fire-core-compat",[eV]:"fire-analytics",[ZF]:"fire-analytics-compat",[nV]:"fire-app-check",[tV]:"fire-app-check-compat",[rV]:"fire-auth",[iV]:"fire-auth-compat",[sV]:"fire-rtdb",[oV]:"fire-data-connect",[aV]:"fire-rtdb-compat",[lV]:"fire-fn",[uV]:"fire-fn-compat",[cV]:"fire-iid",[dV]:"fire-iid-compat",[hV]:"fire-fcm",[fV]:"fire-fcm-compat",[pV]:"fire-perf",[mV]:"fire-perf-compat",[gV]:"fire-rc",[yV]:"fire-rc-compat",[_V]:"fire-gcs",[vV]:"fire-gcs-compat",[EV]:"fire-fst",[TV]:"fire-fst-compat",[wV]:"fire-vertex","fire-js":"fire-js",[SV]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jf=new Map,RV=new Map,t_=new Map;function gS(t,e){try{t.container.addComponent(e)}catch(n){Ji.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Hs(t){const e=t.name;if(t_.has(e))return Ji.debug(`There were multiple attempts to register component ${e}.`),!1;t_.set(e,t);for(const n of jf.values())gS(n,t);for(const n of RV.values())gS(n,t);return!0}function zp(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Qr(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AV={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Vs=new od("app","Firebase",AV);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bV{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Xi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Vs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const so=IV;function ZA(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:e_,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Vs.create("bad-app-name",{appName:String(i)});if(n||(n=HA()),!n)throw Vs.create("no-options");const s=jf.get(i);if(s){if(Dc(n,s.options)&&Dc(r,s.config))return s;throw Vs.create("duplicate-app",{appName:i})}const o=new DF(i);for(const l of t_.values())o.addComponent(l);const a=new bV(n,r,o);return jf.set(i,a),a}function f0(t=e_){const e=jf.get(t);if(!e&&t===e_&&HA())return ZA();if(!e)throw Vs.create("no-app",{appName:t});return e}function Nr(t,e,n){var r;let i=(r=CV[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ji.warn(a.join(" "));return}Hs(new Xi(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PV="firebase-heartbeat-database",xV=1,Lc="firebase-heartbeat-store";let Tg=null;function eb(){return Tg||(Tg=KF(PV,xV,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Lc)}catch(n){console.warn(n)}}}}).catch(t=>{throw Vs.create("idb-open",{originalErrorMessage:t.message})})),Tg}async function kV(t){try{const n=(await eb()).transaction(Lc),r=await n.objectStore(Lc).get(tb(t));return await n.done,r}catch(e){if(e instanceof Si)Ji.warn(e.message);else{const n=Vs.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ji.warn(n.message)}}}async function yS(t,e){try{const r=(await eb()).transaction(Lc,"readwrite");await r.objectStore(Lc).put(e,tb(t)),await r.done}catch(n){if(n instanceof Si)Ji.warn(n.message);else{const r=Vs.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Ji.warn(r.message)}}}function tb(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NV=1024,OV=30*24*60*60*1e3;class DV{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new MV(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=_S();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=OV}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Ji.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=_S(),{heartbeatsToSend:r,unsentEntries:i}=LV(this._heartbeatsCache.heartbeats),s=Ff(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return Ji.warn(n),""}}}function _S(){return new Date().toISOString().substring(0,10)}function LV(t,e=NV){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),vS(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),vS(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class MV{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return _F()?vF().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await kV(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return yS(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return yS(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function vS(t){return Ff(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FV(t){Hs(new Xi("platform-logger",e=>new YF(e),"PRIVATE")),Hs(new Xi("heartbeat",e=>new DV(e),"PRIVATE")),Nr(Zy,mS,t),Nr(Zy,mS,"esm2017"),Nr("fire-js","")}FV("");function p0(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function nb(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const VV=nb,rb=new od("auth","Firebase",nb());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $f=new Bp("@firebase/auth");function UV(t,...e){$f.logLevel<=He.WARN&&$f.warn(`Auth (${so}): ${t}`,...e)}function Wh(t,...e){$f.logLevel<=He.ERROR&&$f.error(`Auth (${so}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lr(t,...e){throw g0(t,...e)}function Zr(t,...e){return g0(t,...e)}function m0(t,e,n){const r=Object.assign(Object.assign({},VV()),{[e]:n});return new od("auth","Firebase",r).create(e,{appName:t.name})}function zi(t){return m0(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function jV(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Lr(t,"argument-error"),m0(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function g0(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return rb.create(t,...e)}function Ne(t,e,...n){if(!t)throw g0(e,...n)}function Fi(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Wh(e),new Error(e)}function Zi(t,e){t||Fi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n_(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function $V(){return ES()==="http:"||ES()==="https:"}function ES(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BV(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&($V()||mF()||"connection"in navigator)?navigator.onLine:!0}function zV(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ad{constructor(e,n){this.shortDelay=e,this.longDelay=n,Zi(n>e,"Short delay should be less than long delay!"),this.isMobile=d0()||GA()}get(){return BV()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y0(t,e){Zi(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ib{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Fi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Fi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Fi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WV={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HV=new ad(3e4,6e4);function oo(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function ao(t,e,n,r,i={}){return sb(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=zl(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const u=Object.assign({method:e,headers:l},s);return pF()||(u.referrerPolicy="no-referrer"),ib.fetch()(ob(t,t.config.apiHost,n,a),u)})}async function sb(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},WV),e);try{const i=new KV(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw fh(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw fh(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw fh(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw fh(t,"user-disabled",o);const d=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw m0(t,d,u);Lr(t,d)}}catch(i){if(i instanceof Si)throw i;Lr(t,"network-request-failed",{message:String(i)})}}async function ld(t,e,n,r,i={}){const s=await ao(t,e,n,r,i);return"mfaPendingCredential"in s&&Lr(t,"multi-factor-auth-required",{_serverResponse:s}),s}function ob(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?y0(t.config,i):`${t.config.apiScheme}://${i}`}function qV(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class KV{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Zr(this.auth,"network-request-failed")),HV.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function fh(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Zr(t,e,r);return i.customData._tokenResponse=n,i}function wS(t){return t!==void 0&&t.enterprise!==void 0}class GV{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return qV(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function QV(t,e){return ao(t,"GET","/v2/recaptchaConfig",oo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YV(t,e){return ao(t,"POST","/v1/accounts:delete",e)}async function ab(t,e){return ao(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function XV(t,e=!1){const n=At(t),r=await n.getIdToken(e),i=_0(r);Ne(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:tc(Sg(i.auth_time)),issuedAtTime:tc(Sg(i.iat)),expirationTime:tc(Sg(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function Sg(t){return Number(t)*1e3}function _0(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Wh("JWT malformed, contained fewer than 3 sections"),null;try{const i=Vf(n);return i?JSON.parse(i):(Wh("Failed to decode base64 JWT payload"),null)}catch(i){return Wh("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function TS(t){const e=_0(t);return Ne(e,"internal-error"),Ne(typeof e.exp<"u","internal-error"),Ne(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mc(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Si&&JV(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function JV({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZV{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r_{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=tc(this.lastLoginAt),this.creationTime=tc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bf(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Mc(t,ab(n,{idToken:r}));Ne(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?lb(s.providerUserInfo):[],a=tU(t.providerData,o),l=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),d=l?u:!1,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new r_(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(t,h)}async function eU(t){const e=At(t);await Bf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function tU(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function lb(t){return t.map(e=>{var{providerId:n}=e,r=p0(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nU(t,e){const n=await sb(t,{},async()=>{const r=zl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=ob(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",ib.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function rU(t,e){return ao(t,"POST","/v2/accounts:revokeToken",oo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ll{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ne(e.idToken,"internal-error"),Ne(typeof e.idToken<"u","internal-error"),Ne(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):TS(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ne(e.length!==0,"internal-error");const n=TS(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ne(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await nU(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new ll;return r&&(Ne(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(Ne(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(Ne(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ll,this.toJSON())}_performRefresh(){return Fi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hs(t,e){Ne(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Vi{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=p0(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ZV(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new r_(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Mc(this,this.stsTokenManager.getToken(this.auth,e));return Ne(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return XV(this,e)}reload(){return eU(this)}_assign(e){this!==e&&(Ne(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Vi(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Ne(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Bf(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Qr(this.auth.app))return Promise.reject(zi(this.auth));const e=await this.getIdToken();return await Mc(this,YV(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,u,d;const h=(r=n.displayName)!==null&&r!==void 0?r:void 0,f=(i=n.email)!==null&&i!==void 0?i:void 0,m=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,y=(o=n.photoURL)!==null&&o!==void 0?o:void 0,E=(a=n.tenantId)!==null&&a!==void 0?a:void 0,S=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,T=(u=n.createdAt)!==null&&u!==void 0?u:void 0,_=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:w,emailVerified:A,isAnonymous:O,providerData:F,stsTokenManager:R}=n;Ne(w&&R,e,"internal-error");const g=ll.fromJSON(this.name,R);Ne(typeof w=="string",e,"internal-error"),hs(h,e.name),hs(f,e.name),Ne(typeof A=="boolean",e,"internal-error"),Ne(typeof O=="boolean",e,"internal-error"),hs(m,e.name),hs(y,e.name),hs(E,e.name),hs(S,e.name),hs(T,e.name),hs(_,e.name);const C=new Vi({uid:w,auth:e,email:f,emailVerified:A,displayName:h,isAnonymous:O,photoURL:y,phoneNumber:m,tenantId:E,stsTokenManager:g,createdAt:T,lastLoginAt:_});return F&&Array.isArray(F)&&(C.providerData=F.map(b=>Object.assign({},b))),S&&(C._redirectEventId=S),C}static async _fromIdTokenResponse(e,n,r=!1){const i=new ll;i.updateFromServerResponse(n);const s=new Vi({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Bf(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];Ne(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?lb(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),a=new ll;a.updateFromIdToken(r);const l=new Vi({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new r_(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SS=new Map;function Ui(t){Zi(t instanceof Function,"Expected a class definition");let e=SS.get(t);return e?(Zi(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,SS.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ub{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}ub.type="NONE";const IS=ub;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hh(t,e,n){return`firebase:${t}:${e}:${n}`}class ul{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Hh(this.userKey,i.apiKey,s),this.fullPersistenceKey=Hh("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Vi._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new ul(Ui(IS),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=i[0]||Ui(IS);const o=Hh(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const d=await u._get(o);if(d){const h=Vi._fromJSON(e,d);u!==s&&(a=h),s=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new ul(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==s)try{await u._remove(o)}catch{}})),new ul(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CS(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(fb(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(cb(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(mb(e))return"Blackberry";if(gb(e))return"Webos";if(db(e))return"Safari";if((e.includes("chrome/")||hb(e))&&!e.includes("edge/"))return"Chrome";if(pb(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function cb(t=On()){return/firefox\//i.test(t)}function db(t=On()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function hb(t=On()){return/crios\//i.test(t)}function fb(t=On()){return/iemobile/i.test(t)}function pb(t=On()){return/android/i.test(t)}function mb(t=On()){return/blackberry/i.test(t)}function gb(t=On()){return/webos/i.test(t)}function v0(t=On()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function iU(t=On()){var e;return v0(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function sU(){return gF()&&document.documentMode===10}function yb(t=On()){return v0(t)||pb(t)||gb(t)||mb(t)||/windows phone/i.test(t)||fb(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _b(t,e=[]){let n;switch(t){case"Browser":n=CS(On());break;case"Worker":n=`${CS(On())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${so}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oU{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aU(t,e={}){return ao(t,"GET","/v2/passwordPolicy",oo(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lU=6;class uU{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:lU,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cU{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new RS(this),this.idTokenSubscription=new RS(this),this.beforeStateQueue=new oU(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=rb,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ui(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await ul.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await ab(this,{idToken:e}),r=await Vi._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Qr(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Ne(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Bf(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=zV()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Qr(this.app))return Promise.reject(zi(this));const n=e?At(e):null;return n&&Ne(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ne(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Qr(this.app)?Promise.reject(zi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Qr(this.app)?Promise.reject(zi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ui(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await aU(this),n=new uU(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new od("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await rU(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Ui(e)||this._popupRedirectResolver;Ne(n,this,"argument-error"),this.redirectPersistenceManager=await ul.create(this,[Ui(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ne(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ne(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=_b(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&UV(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function lo(t){return At(t)}class RS{constructor(e){this.auth=e,this.observer=null,this.addObserver=RF(n=>this.observer=n)}get next(){return Ne(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function dU(t){Wp=t}function vb(t){return Wp.loadJS(t)}function hU(){return Wp.recaptchaEnterpriseScript}function fU(){return Wp.gapiScript}function pU(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const mU="recaptcha-enterprise",gU="NO_RECAPTCHA";class yU{constructor(e){this.type=mU,this.auth=lo(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{QV(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new GV(l);return s.tenantId==null?s._agentRecaptchaConfig=u:s._tenantRecaptchaConfigs[s.tenantId]=u,o(u.siteKey)}}).catch(l=>{a(l)})})}function i(s,o,a){const l=window.grecaptcha;wS(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(u=>{o(u)}).catch(()=>{o(gU)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&wS(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=hU();l.length!==0&&(l+=a),vb(l).then(()=>{i(a,s,o)}).catch(u=>{o(u)})}}).catch(a=>{o(a)})})}}async function AS(t,e,n,r=!1){const i=new yU(t);let s;try{s=await i.verify(n)}catch{s=await i.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function i_(t,e,n,r){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await AS(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await AS(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _U(t,e){const n=zp(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(Dc(s,e??{}))return i;Lr(i,"already-initialized")}return n.initialize({options:e})}function vU(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Ui);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function EU(t,e,n){const r=lo(t);Ne(r._canInitEmulator,r,"emulator-config-failed"),Ne(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=Eb(e),{host:o,port:a}=wU(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),TU()}function Eb(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function wU(t){const e=Eb(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:bS(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:bS(o)}}}function bS(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function TU(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E0{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Fi("not implemented")}_getIdTokenResponse(e){return Fi("not implemented")}_linkToIdToken(e,n){return Fi("not implemented")}_getReauthenticationResolver(e){return Fi("not implemented")}}async function SU(t,e){return ao(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IU(t,e){return ld(t,"POST","/v1/accounts:signInWithPassword",oo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CU(t,e){return ld(t,"POST","/v1/accounts:signInWithEmailLink",oo(t,e))}async function RU(t,e){return ld(t,"POST","/v1/accounts:signInWithEmailLink",oo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fc extends E0{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Fc(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Fc(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return i_(e,n,"signInWithPassword",IU);case"emailLink":return CU(e,{email:this._email,oobCode:this._password});default:Lr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return i_(e,r,"signUpPassword",SU);case"emailLink":return RU(e,{idToken:n,email:this._email,oobCode:this._password});default:Lr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cl(t,e){return ld(t,"POST","/v1/accounts:signInWithIdp",oo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AU="http://localhost";class Yo extends E0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Yo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Lr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=p0(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new Yo(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return cl(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,cl(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,cl(e,n)}buildRequest(){const e={requestUri:AU,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=zl(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bU(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function PU(t){const e=ju($u(t)).link,n=e?ju($u(e)).deep_link_id:null,r=ju($u(t)).deep_link_id;return(r?ju($u(r)).link:null)||r||n||e||t}class w0{constructor(e){var n,r,i,s,o,a;const l=ju($u(e)),u=(n=l.apiKey)!==null&&n!==void 0?n:null,d=(r=l.oobCode)!==null&&r!==void 0?r:null,h=bU((i=l.mode)!==null&&i!==void 0?i:null);Ne(u&&d&&h,"argument-error"),this.apiKey=u,this.operation=h,this.code=d,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=PU(e);try{return new w0(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wl{constructor(){this.providerId=Wl.PROVIDER_ID}static credential(e,n){return Fc._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=w0.parseLink(n);return Ne(r,"argument-error"),Fc._fromEmailAndCode(e,r.code,r.tenantId)}}Wl.PROVIDER_ID="password";Wl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Wl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T0{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ud extends T0{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Es extends ud{constructor(){super("facebook.com")}static credential(e){return Yo._fromParams({providerId:Es.PROVIDER_ID,signInMethod:Es.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Es.credentialFromTaggedObject(e)}static credentialFromError(e){return Es.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Es.credential(e.oauthAccessToken)}catch{return null}}}Es.FACEBOOK_SIGN_IN_METHOD="facebook.com";Es.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kr extends ud{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Yo._fromParams({providerId:Kr.PROVIDER_ID,signInMethod:Kr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Kr.credentialFromTaggedObject(e)}static credentialFromError(e){return Kr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Kr.credential(n,r)}catch{return null}}}Kr.GOOGLE_SIGN_IN_METHOD="google.com";Kr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ws extends ud{constructor(){super("github.com")}static credential(e){return Yo._fromParams({providerId:ws.PROVIDER_ID,signInMethod:ws.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ws.credentialFromTaggedObject(e)}static credentialFromError(e){return ws.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ws.credential(e.oauthAccessToken)}catch{return null}}}ws.GITHUB_SIGN_IN_METHOD="github.com";ws.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ts extends ud{constructor(){super("twitter.com")}static credential(e,n){return Yo._fromParams({providerId:Ts.PROVIDER_ID,signInMethod:Ts.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ts.credentialFromTaggedObject(e)}static credentialFromError(e){return Ts.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Ts.credential(n,r)}catch{return null}}}Ts.TWITTER_SIGN_IN_METHOD="twitter.com";Ts.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xU(t,e){return ld(t,"POST","/v1/accounts:signUp",oo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await Vi._fromIdTokenResponse(e,r,i),o=PS(r);return new Xo({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=PS(r);return new Xo({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function PS(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zf extends Si{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,zf.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new zf(e,n,r,i)}}function wb(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?zf._fromErrorAndOperation(t,s,e,r):s})}async function kU(t,e,n=!1){const r=await Mc(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Xo._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NU(t,e,n=!1){const{auth:r}=t;if(Qr(r.app))return Promise.reject(zi(r));const i="reauthenticate";try{const s=await Mc(t,wb(r,i,e,t),n);Ne(s.idToken,r,"internal-error");const o=_0(s.idToken);Ne(o,r,"internal-error");const{sub:a}=o;return Ne(t.uid===a,r,"user-mismatch"),Xo._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Lr(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tb(t,e,n=!1){if(Qr(t.app))return Promise.reject(zi(t));const r="signIn",i=await wb(t,r,e),s=await Xo._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function OU(t,e){return Tb(lo(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sb(t){const e=lo(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function DU(t,e,n){if(Qr(t.app))return Promise.reject(zi(t));const r=lo(t),o=await i_(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",xU).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&Sb(t),l}),a=await Xo._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function LU(t,e,n){return Qr(t.app)?Promise.reject(zi(t)):OU(At(t),Wl.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&Sb(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MU(t,e){return At(t).setPersistence(e)}function FU(t,e,n,r){return At(t).onIdTokenChanged(e,n,r)}function VU(t,e,n){return At(t).beforeAuthStateChanged(e,n)}function UU(t,e,n,r){return At(t).onAuthStateChanged(e,n,r)}function jU(t){return At(t).signOut()}const Wf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ib{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Wf,"1"),this.storage.removeItem(Wf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $U=1e3,BU=10;class Cb extends Ib{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=yb(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);sU()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,BU):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},$U)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}Cb.type="LOCAL";const Rb=Cb;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ab extends Ib{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}Ab.type="SESSION";const bb=Ab;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zU(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hp{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Hp(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async u=>u(n.origin,s)),l=await zU(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Hp.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S0(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WU{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const u=S0("",20);i.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(h){const f=h;if(f.data.eventId===u)switch(f.data.status){case"ack":clearTimeout(d),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(f.data.response);break;default:clearTimeout(d),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yi(){return window}function HU(t){yi().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pb(){return typeof yi().WorkerGlobalScope<"u"&&typeof yi().importScripts=="function"}async function qU(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function KU(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function GU(){return Pb()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xb="firebaseLocalStorageDb",QU=1,Hf="firebaseLocalStorage",kb="fbase_key";class cd{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function qp(t,e){return t.transaction([Hf],e?"readwrite":"readonly").objectStore(Hf)}function YU(){const t=indexedDB.deleteDatabase(xb);return new cd(t).toPromise()}function s_(){const t=indexedDB.open(xb,QU);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Hf,{keyPath:kb})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Hf)?e(r):(r.close(),await YU(),e(await s_()))})})}async function xS(t,e,n){const r=qp(t,!0).put({[kb]:e,value:n});return new cd(r).toPromise()}async function XU(t,e){const n=qp(t,!1).get(e),r=await new cd(n).toPromise();return r===void 0?null:r.value}function kS(t,e){const n=qp(t,!0).delete(e);return new cd(n).toPromise()}const JU=800,ZU=3;class Nb{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await s_(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>ZU)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Pb()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Hp._getInstance(GU()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await qU(),!this.activeServiceWorker)return;this.sender=new WU(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||KU()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await s_();return await xS(e,Wf,"1"),await kS(e,Wf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>xS(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>XU(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>kS(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=qp(i,!1).getAll();return new cd(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),JU)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Nb.type="LOCAL";const e4=Nb;new ad(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ob(t,e){return e?Ui(e):(Ne(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I0 extends E0{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return cl(e,this._buildIdpRequest())}_linkToIdToken(e,n){return cl(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return cl(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function t4(t){return Tb(t.auth,new I0(t),t.bypassAuthState)}function n4(t){const{auth:e,user:n}=t;return Ne(n,e,"internal-error"),NU(n,new I0(t),t.bypassAuthState)}async function r4(t){const{auth:e,user:n}=t;return Ne(n,e,"internal-error"),kU(n,new I0(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Db{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return t4;case"linkViaPopup":case"linkViaRedirect":return r4;case"reauthViaPopup":case"reauthViaRedirect":return n4;default:Lr(this.auth,"internal-error")}}resolve(e){Zi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Zi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i4=new ad(2e3,1e4);async function s4(t,e,n){if(Qr(t.app))return Promise.reject(Zr(t,"operation-not-supported-in-this-environment"));const r=lo(t);jV(t,e,T0);const i=Ob(r,n);return new ko(r,"signInViaPopup",e,i).executeNotNull()}class ko extends Db{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,ko.currentPopupAction&&ko.currentPopupAction.cancel(),ko.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ne(e,this.auth,"internal-error"),e}async onExecution(){Zi(this.filter.length===1,"Popup operations only handle one event");const e=S0();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Zr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Zr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ko.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Zr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,i4.get())};e()}}ko.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o4="pendingRedirect",qh=new Map;class a4 extends Db{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=qh.get(this.auth._key());if(!e){try{const r=await l4(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}qh.set(this.auth._key(),e)}return this.bypassAuthState||qh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function l4(t,e){const n=d4(e),r=c4(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function u4(t,e){qh.set(t._key(),e)}function c4(t){return Ui(t._redirectPersistence)}function d4(t){return Hh(o4,t.config.apiKey,t.name)}async function h4(t,e,n=!1){if(Qr(t.app))return Promise.reject(zi(t));const r=lo(t),i=Ob(r,e),o=await new a4(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f4=10*60*1e3;class p4{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!m4(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!Lb(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Zr(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=f4&&this.cachedEventUids.clear(),this.cachedEventUids.has(NS(e))}saveEventToCache(e){this.cachedEventUids.add(NS(e)),this.lastProcessedEventTime=Date.now()}}function NS(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function Lb({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function m4(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Lb(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function g4(t,e={}){return ao(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y4=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,_4=/^https?/;async function v4(t){if(t.config.emulator)return;const{authorizedDomains:e}=await g4(t);for(const n of e)try{if(E4(n))return}catch{}Lr(t,"unauthorized-domain")}function E4(t){const e=n_(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!_4.test(n))return!1;if(y4.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w4=new ad(3e4,6e4);function OS(){const t=yi().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function T4(t){return new Promise((e,n)=>{var r,i,s;function o(){OS(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{OS(),n(Zr(t,"network-request-failed"))},timeout:w4.get()})}if(!((i=(r=yi().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=yi().gapi)===null||s===void 0)&&s.load)o();else{const a=pU("iframefcb");return yi()[a]=()=>{gapi.load?o():n(Zr(t,"network-request-failed"))},vb(`${fU()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Kh=null,e})}let Kh=null;function S4(t){return Kh=Kh||T4(t),Kh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I4=new ad(5e3,15e3),C4="__/auth/iframe",R4="emulator/auth/iframe",A4={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},b4=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function P4(t){const e=t.config;Ne(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?y0(e,R4):`https://${t.config.authDomain}/${C4}`,r={apiKey:e.apiKey,appName:t.name,v:so},i=b4.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${zl(r).slice(1)}`}async function x4(t){const e=await S4(t),n=yi().gapi;return Ne(n,t,"internal-error"),e.open({where:document.body,url:P4(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:A4,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=Zr(t,"network-request-failed"),a=yi().setTimeout(()=>{s(o)},I4.get());function l(){yi().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k4={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},N4=500,O4=600,D4="_blank",L4="http://localhost";class DS{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function M4(t,e,n,r=N4,i=O4){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},k4),{width:r.toString(),height:i.toString(),top:s,left:o}),u=On().toLowerCase();n&&(a=hb(u)?D4:n),cb(u)&&(e=e||L4,l.scrollbars="yes");const d=Object.entries(l).reduce((f,[m,y])=>`${f}${m}=${y},`,"");if(iU(u)&&a!=="_self")return F4(e||"",a),new DS(null);const h=window.open(e||"",a,d);Ne(h,t,"popup-blocked");try{h.focus()}catch{}return new DS(h)}function F4(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V4="__/auth/handler",U4="emulator/auth/handler",j4=encodeURIComponent("fac");async function LS(t,e,n,r,i,s){Ne(t.config.authDomain,t,"auth-domain-config-required"),Ne(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:so,eventId:i};if(e instanceof T0){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",Yy(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,h]of Object.entries({}))o[d]=h}if(e instanceof ud){const d=e.getScopes().filter(h=>h!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const d of Object.keys(a))a[d]===void 0&&delete a[d];const l=await t._getAppCheckToken(),u=l?`#${j4}=${encodeURIComponent(l)}`:"";return`${$4(t)}?${zl(a).slice(1)}${u}`}function $4({config:t}){return t.emulator?y0(t,U4):`https://${t.authDomain}/${V4}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ig="webStorageSupport";class B4{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=bb,this._completeRedirectFn=h4,this._overrideRedirectResult=u4}async _openPopup(e,n,r,i){var s;Zi((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await LS(e,n,r,n_(),i);return M4(e,o,S0())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await LS(e,n,r,n_(),i);return HU(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Zi(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await x4(e),r=new p4(e);return n.register("authEvent",i=>(Ne(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Ig,{type:Ig},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[Ig];o!==void 0&&n(!!o),Lr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=v4(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return yb()||db()||v0()}}const z4=B4;var MS="@firebase/auth",FS="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W4{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ne(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H4(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function q4(t){Hs(new Xi("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;Ne(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:_b(t)},u=new cU(r,i,s,l);return vU(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Hs(new Xi("auth-internal",e=>{const n=lo(e.getProvider("auth").getImmediate());return(r=>new W4(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Nr(MS,FS,H4(t)),Nr(MS,FS,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K4=5*60,G4=qA("authIdTokenMaxAge")||K4;let VS=null;const Q4=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>G4)return;const i=n==null?void 0:n.token;VS!==i&&(VS=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function Y4(t=f0()){const e=zp(t,"auth");if(e.isInitialized())return e.getImmediate();const n=_U(t,{popupRedirectResolver:z4,persistence:[e4,Rb,bb]}),r=qA("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=Q4(s.toString());VU(n,o,()=>o(n.currentUser)),FU(n,a=>o(a))}}const i=zA("auth");return i&&EU(n,`http://${i}`),n}function X4(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}dU({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Zr("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",X4().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});q4("Browser");function Mb(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=Mb(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function As(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=Mb(t))&&(r&&(r+=" "),r+=e);return r}const Vc=t=>typeof t=="number"&&!isNaN(t),Uo=t=>typeof t=="string",dr=t=>typeof t=="function",Gh=t=>Uo(t)||dr(t)?t:null,o_=t=>I.isValidElement(t)||Uo(t)||dr(t)||Vc(t);function J4(t,e,n){n===void 0&&(n=300);const{scrollHeight:r,style:i}=t;requestAnimationFrame(()=>{i.minHeight="initial",i.height=r+"px",i.transition=`all ${n}ms`,requestAnimationFrame(()=>{i.height="0",i.padding="0",i.margin="0",setTimeout(e,n)})})}function Kp(t){let{enter:e,exit:n,appendPosition:r=!1,collapse:i=!0,collapseDuration:s=300}=t;return function(o){let{children:a,position:l,preventExitTransition:u,done:d,nodeRef:h,isIn:f,playToast:m}=o;const y=r?`${e}--${l}`:e,E=r?`${n}--${l}`:n,S=I.useRef(0);return I.useLayoutEffect(()=>{const T=h.current,_=y.split(" "),w=A=>{A.target===h.current&&(m(),T.removeEventListener("animationend",w),T.removeEventListener("animationcancel",w),S.current===0&&A.type!=="animationcancel"&&T.classList.remove(..._))};T.classList.add(..._),T.addEventListener("animationend",w),T.addEventListener("animationcancel",w)},[]),I.useEffect(()=>{const T=h.current,_=()=>{T.removeEventListener("animationend",_),i?J4(T,d,s):d()};f||(u?_():(S.current=1,T.className+=` ${E}`,T.addEventListener("animationend",_)))},[f]),pe.createElement(pe.Fragment,null,a)}}function US(t,e){return t!=null?{content:t.content,containerId:t.props.containerId,id:t.props.toastId,theme:t.props.theme,type:t.props.type,data:t.props.data||{},isLoading:t.props.isLoading,icon:t.props.icon,status:e}:{}}const Bn=new Map;let Uc=[];const a_=new Set,Z4=t=>a_.forEach(e=>e(t)),Fb=()=>Bn.size>0;function Vb(t,e){var n;if(e)return!((n=Bn.get(e))==null||!n.isToastActive(t));let r=!1;return Bn.forEach(i=>{i.isToastActive(t)&&(r=!0)}),r}function Ub(t,e){o_(t)&&(Fb()||Uc.push({content:t,options:e}),Bn.forEach(n=>{n.buildToast(t,e)}))}function jS(t,e){Bn.forEach(n=>{e!=null&&e!=null&&e.containerId?(e==null?void 0:e.containerId)===n.id&&n.toggle(t,e==null?void 0:e.id):n.toggle(t,e==null?void 0:e.id)})}function ej(t){const{subscribe:e,getSnapshot:n,setProps:r}=I.useRef(function(s){const o=s.containerId||1;return{subscribe(a){const l=function(d,h,f){let m=1,y=0,E=[],S=[],T=[],_=h;const w=new Map,A=new Set,O=()=>{T=Array.from(w.values()),A.forEach(g=>g())},F=g=>{S=g==null?[]:S.filter(C=>C!==g),O()},R=g=>{const{toastId:C,onOpen:b,updateId:k,children:N}=g.props,x=k==null;g.staleId&&w.delete(g.staleId),w.set(C,g),S=[...S,g.props.toastId].filter(re=>re!==g.staleId),O(),f(US(g,x?"added":"updated")),x&&dr(b)&&b(I.isValidElement(N)&&N.props)};return{id:d,props:_,observe:g=>(A.add(g),()=>A.delete(g)),toggle:(g,C)=>{w.forEach(b=>{C!=null&&C!==b.props.toastId||dr(b.toggle)&&b.toggle(g)})},removeToast:F,toasts:w,clearQueue:()=>{y-=E.length,E=[]},buildToast:(g,C)=>{if((q=>{let{containerId:J,toastId:_e,updateId:Te}=q;const me=J?J!==d:d!==1,U=w.has(_e)&&Te==null;return me||U})(C))return;const{toastId:b,updateId:k,data:N,staleId:x,delay:re}=C,Ae=()=>{F(b)},Ce=k==null;Ce&&y++;const te={..._,style:_.toastStyle,key:m++,...Object.fromEntries(Object.entries(C).filter(q=>{let[J,_e]=q;return _e!=null})),toastId:b,updateId:k,data:N,closeToast:Ae,isIn:!1,className:Gh(C.className||_.toastClassName),bodyClassName:Gh(C.bodyClassName||_.bodyClassName),progressClassName:Gh(C.progressClassName||_.progressClassName),autoClose:!C.isLoading&&(H=C.autoClose,Q=_.autoClose,H===!1||Vc(H)&&H>0?H:Q),deleteToast(){const q=w.get(b),{onClose:J,children:_e}=q.props;dr(J)&&J(I.isValidElement(_e)&&_e.props),f(US(q,"removed")),w.delete(b),y--,y<0&&(y=0),E.length>0?R(E.shift()):O()}};var H,Q;te.closeButton=_.closeButton,C.closeButton===!1||o_(C.closeButton)?te.closeButton=C.closeButton:C.closeButton===!0&&(te.closeButton=!o_(_.closeButton)||_.closeButton);let ie=g;I.isValidElement(g)&&!Uo(g.type)?ie=I.cloneElement(g,{closeToast:Ae,toastProps:te,data:N}):dr(g)&&(ie=g({closeToast:Ae,toastProps:te,data:N}));const xe={content:ie,props:te,staleId:x};_.limit&&_.limit>0&&y>_.limit&&Ce?E.push(xe):Vc(re)?setTimeout(()=>{R(xe)},re):R(xe)},setProps(g){_=g},setToggle:(g,C)=>{w.get(g).toggle=C},isToastActive:g=>S.some(C=>C===g),getSnapshot:()=>_.newestOnTop?T.reverse():T}}(o,s,Z4);Bn.set(o,l);const u=l.observe(a);return Uc.forEach(d=>Ub(d.content,d.options)),Uc=[],()=>{u(),Bn.delete(o)}},setProps(a){var l;(l=Bn.get(o))==null||l.setProps(a)},getSnapshot(){var a;return(a=Bn.get(o))==null?void 0:a.getSnapshot()}}}(t)).current;r(t);const i=I.useSyncExternalStore(e,n,n);return{getToastToRender:function(s){if(!i)return[];const o=new Map;return i.forEach(a=>{const{position:l}=a.props;o.has(l)||o.set(l,[]),o.get(l).push(a)}),Array.from(o,a=>s(a[0],a[1]))},isToastActive:Vb,count:i==null?void 0:i.length}}function tj(t){const[e,n]=I.useState(!1),[r,i]=I.useState(!1),s=I.useRef(null),o=I.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:a,pauseOnHover:l,closeToast:u,onClick:d,closeOnClick:h}=t;var f,m;function y(){n(!0)}function E(){n(!1)}function S(w){const A=s.current;o.canDrag&&A&&(o.didMove=!0,e&&E(),o.delta=t.draggableDirection==="x"?w.clientX-o.start:w.clientY-o.start,o.start!==w.clientX&&(o.canCloseOnClick=!1),A.style.transform=`translate3d(${t.draggableDirection==="x"?`${o.delta}px, var(--y)`:`0, calc(${o.delta}px + var(--y))`},0)`,A.style.opacity=""+(1-Math.abs(o.delta/o.removalDistance)))}function T(){document.removeEventListener("pointermove",S),document.removeEventListener("pointerup",T);const w=s.current;if(o.canDrag&&o.didMove&&w){if(o.canDrag=!1,Math.abs(o.delta)>o.removalDistance)return i(!0),t.closeToast(),void t.collapseAll();w.style.transition="transform 0.2s, opacity 0.2s",w.style.removeProperty("transform"),w.style.removeProperty("opacity")}}(m=Bn.get((f={id:t.toastId,containerId:t.containerId,fn:n}).containerId||1))==null||m.setToggle(f.id,f.fn),I.useEffect(()=>{if(t.pauseOnFocusLoss)return document.hasFocus()||E(),window.addEventListener("focus",y),window.addEventListener("blur",E),()=>{window.removeEventListener("focus",y),window.removeEventListener("blur",E)}},[t.pauseOnFocusLoss]);const _={onPointerDown:function(w){if(t.draggable===!0||t.draggable===w.pointerType){o.didMove=!1,document.addEventListener("pointermove",S),document.addEventListener("pointerup",T);const A=s.current;o.canCloseOnClick=!0,o.canDrag=!0,A.style.transition="none",t.draggableDirection==="x"?(o.start=w.clientX,o.removalDistance=A.offsetWidth*(t.draggablePercent/100)):(o.start=w.clientY,o.removalDistance=A.offsetHeight*(t.draggablePercent===80?1.5*t.draggablePercent:t.draggablePercent)/100)}},onPointerUp:function(w){const{top:A,bottom:O,left:F,right:R}=s.current.getBoundingClientRect();w.nativeEvent.type!=="touchend"&&t.pauseOnHover&&w.clientX>=F&&w.clientX<=R&&w.clientY>=A&&w.clientY<=O?E():y()}};return a&&l&&(_.onMouseEnter=E,t.stacked||(_.onMouseLeave=y)),h&&(_.onClick=w=>{d&&d(w),o.canCloseOnClick&&u()}),{playToast:y,pauseToast:E,isRunning:e,preventExitTransition:r,toastRef:s,eventHandlers:_}}function nj(t){let{delay:e,isRunning:n,closeToast:r,type:i="default",hide:s,className:o,style:a,controlledProgress:l,progress:u,rtl:d,isIn:h,theme:f}=t;const m=s||l&&u===0,y={...a,animationDuration:`${e}ms`,animationPlayState:n?"running":"paused"};l&&(y.transform=`scaleX(${u})`);const E=As("Toastify__progress-bar",l?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${f}`,`Toastify__progress-bar--${i}`,{"Toastify__progress-bar--rtl":d}),S=dr(o)?o({rtl:d,type:i,defaultClassName:E}):As(E,o),T={[l&&u>=1?"onTransitionEnd":"onAnimationEnd"]:l&&u<1?null:()=>{h&&r()}};return pe.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":m},pe.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${f} Toastify__progress-bar--${i}`}),pe.createElement("div",{role:"progressbar","aria-hidden":m?"true":"false","aria-label":"notification timer",className:S,style:y,...T}))}let rj=1;const jb=()=>""+rj++;function ij(t){return t&&(Uo(t.toastId)||Vc(t.toastId))?t.toastId:jb()}function nc(t,e){return Ub(t,e),e.toastId}function qf(t,e){return{...e,type:e&&e.type||t,toastId:ij(e)}}function ph(t){return(e,n)=>nc(e,qf(t,n))}function ft(t,e){return nc(t,qf("default",e))}ft.loading=(t,e)=>nc(t,qf("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e})),ft.promise=function(t,e,n){let r,{pending:i,error:s,success:o}=e;i&&(r=Uo(i)?ft.loading(i,n):ft.loading(i.render,{...n,...i}));const a={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},l=(d,h,f)=>{if(h==null)return void ft.dismiss(r);const m={type:d,...a,...n,data:f},y=Uo(h)?{render:h}:h;return r?ft.update(r,{...m,...y}):ft(y.render,{...m,...y}),f},u=dr(t)?t():t;return u.then(d=>l("success",o,d)).catch(d=>l("error",s,d)),u},ft.success=ph("success"),ft.info=ph("info"),ft.error=ph("error"),ft.warning=ph("warning"),ft.warn=ft.warning,ft.dark=(t,e)=>nc(t,qf("default",{theme:"dark",...e})),ft.dismiss=function(t){(function(e){var n;if(Fb()){if(e==null||Uo(n=e)||Vc(n))Bn.forEach(r=>{r.removeToast(e)});else if(e&&("containerId"in e||"id"in e)){const r=Bn.get(e.containerId);r?r.removeToast(e.id):Bn.forEach(i=>{i.removeToast(e.id)})}}else Uc=Uc.filter(r=>e!=null&&r.options.toastId!==e)})(t)},ft.clearWaitingQueue=function(t){t===void 0&&(t={}),Bn.forEach(e=>{!e.props.limit||t.containerId&&e.id!==t.containerId||e.clearQueue()})},ft.isActive=Vb,ft.update=function(t,e){e===void 0&&(e={});const n=((r,i)=>{var s;let{containerId:o}=i;return(s=Bn.get(o||1))==null?void 0:s.toasts.get(r)})(t,e);if(n){const{props:r,content:i}=n,s={delay:100,...r,...e,toastId:e.toastId||t,updateId:jb()};s.toastId!==t&&(s.staleId=t);const o=s.render||i;delete s.render,nc(o,s)}},ft.done=t=>{ft.update(t,{progress:1})},ft.onChange=function(t){return a_.add(t),()=>{a_.delete(t)}},ft.play=t=>jS(!0,t),ft.pause=t=>jS(!1,t);const sj=typeof window<"u"?I.useLayoutEffect:I.useEffect,mh=t=>{let{theme:e,type:n,isLoading:r,...i}=t;return pe.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:e==="colored"?"currentColor":`var(--toastify-icon-color-${n})`,...i})},Cg={info:function(t){return pe.createElement(mh,{...t},pe.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))},warning:function(t){return pe.createElement(mh,{...t},pe.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))},success:function(t){return pe.createElement(mh,{...t},pe.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))},error:function(t){return pe.createElement(mh,{...t},pe.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))},spinner:function(){return pe.createElement("div",{className:"Toastify__spinner"})}},oj=t=>{const{isRunning:e,preventExitTransition:n,toastRef:r,eventHandlers:i,playToast:s}=tj(t),{closeButton:o,children:a,autoClose:l,onClick:u,type:d,hideProgressBar:h,closeToast:f,transition:m,position:y,className:E,style:S,bodyClassName:T,bodyStyle:_,progressClassName:w,progressStyle:A,updateId:O,role:F,progress:R,rtl:g,toastId:C,deleteToast:b,isIn:k,isLoading:N,closeOnClick:x,theme:re}=t,Ae=As("Toastify__toast",`Toastify__toast-theme--${re}`,`Toastify__toast--${d}`,{"Toastify__toast--rtl":g},{"Toastify__toast--close-on-click":x}),Ce=dr(E)?E({rtl:g,position:y,type:d,defaultClassName:Ae}):As(Ae,E),te=function(xe){let{theme:q,type:J,isLoading:_e,icon:Te}=xe,me=null;const U={theme:q,type:J};return Te===!1||(dr(Te)?me=Te({...U,isLoading:_e}):I.isValidElement(Te)?me=I.cloneElement(Te,U):_e?me=Cg.spinner():(G=>G in Cg)(J)&&(me=Cg[J](U))),me}(t),H=!!R||!l,Q={closeToast:f,type:d,theme:re};let ie=null;return o===!1||(ie=dr(o)?o(Q):I.isValidElement(o)?I.cloneElement(o,Q):function(xe){let{closeToast:q,theme:J,ariaLabel:_e="close"}=xe;return pe.createElement("button",{className:`Toastify__close-button Toastify__close-button--${J}`,type:"button",onClick:Te=>{Te.stopPropagation(),q(Te)},"aria-label":_e},pe.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},pe.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}(Q)),pe.createElement(m,{isIn:k,done:b,position:y,preventExitTransition:n,nodeRef:r,playToast:s},pe.createElement("div",{id:C,onClick:u,"data-in":k,className:Ce,...i,style:S,ref:r},pe.createElement("div",{...k&&{role:F},className:dr(T)?T({type:d}):As("Toastify__toast-body",T),style:_},te!=null&&pe.createElement("div",{className:As("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!N})},te),pe.createElement("div",null,a)),ie,pe.createElement(nj,{...O&&!H?{key:`pb-${O}`}:{},rtl:g,theme:re,delay:l,isRunning:e,isIn:k,closeToast:f,hide:h,type:d,style:A,className:w,controlledProgress:H,progress:R||0})))},Gp=function(t,e){return e===void 0&&(e=!1),{enter:`Toastify--animate Toastify__${t}-enter`,exit:`Toastify--animate Toastify__${t}-exit`,appendPosition:e}},aj=Kp(Gp("bounce",!0)),lj=Kp(Gp("slide",!0));Kp(Gp("zoom"));Kp(Gp("flip"));const uj={position:"top-right",transition:aj,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light"};function cj(t){let e={...uj,...t};const n=t.stacked,[r,i]=I.useState(!0),s=I.useRef(null),{getToastToRender:o,isToastActive:a,count:l}=ej(e),{className:u,style:d,rtl:h,containerId:f}=e;function m(E){const S=As("Toastify__toast-container",`Toastify__toast-container--${E}`,{"Toastify__toast-container--rtl":h});return dr(u)?u({position:E,rtl:h,defaultClassName:S}):As(S,Gh(u))}function y(){n&&(i(!0),ft.play())}return sj(()=>{if(n){var E;const S=s.current.querySelectorAll('[data-in="true"]'),T=12,_=(E=e.position)==null?void 0:E.includes("top");let w=0,A=0;Array.from(S).reverse().forEach((O,F)=>{const R=O;R.classList.add("Toastify__toast--stacked"),F>0&&(R.dataset.collapsed=`${r}`),R.dataset.pos||(R.dataset.pos=_?"top":"bot");const g=w*(r?.2:1)+(r?0:T*F);R.style.setProperty("--y",`${_?g:-1*g}px`),R.style.setProperty("--g",`${T}`),R.style.setProperty("--s",""+(1-(r?A:0))),w+=R.offsetHeight,A+=.025})}},[r,l,n]),pe.createElement("div",{ref:s,className:"Toastify",id:f,onMouseEnter:()=>{n&&(i(!1),ft.pause())},onMouseLeave:y},o((E,S)=>{const T=S.length?{...d}:{...d,pointerEvents:"none"};return pe.createElement("div",{className:m(E),style:T,key:`container-${E}`},S.map(_=>{let{content:w,props:A}=_;return pe.createElement(oj,{...A,stacked:n,collapseAll:y,isIn:a(A.toastId,A.containerId),style:A.style,key:`toast-${A.key}`},w)}))}))}var dj="firebase",hj="10.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Nr(dj,hj,"app");var $S=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var jo,$b;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(R,g){function C(){}C.prototype=g.prototype,R.D=g.prototype,R.prototype=new C,R.prototype.constructor=R,R.C=function(b,k,N){for(var x=Array(arguments.length-2),re=2;re<arguments.length;re++)x[re-2]=arguments[re];return g.prototype[k].apply(b,x)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(R,g,C){C||(C=0);var b=Array(16);if(typeof g=="string")for(var k=0;16>k;++k)b[k]=g.charCodeAt(C++)|g.charCodeAt(C++)<<8|g.charCodeAt(C++)<<16|g.charCodeAt(C++)<<24;else for(k=0;16>k;++k)b[k]=g[C++]|g[C++]<<8|g[C++]<<16|g[C++]<<24;g=R.g[0],C=R.g[1],k=R.g[2];var N=R.g[3],x=g+(N^C&(k^N))+b[0]+3614090360&4294967295;g=C+(x<<7&4294967295|x>>>25),x=N+(k^g&(C^k))+b[1]+3905402710&4294967295,N=g+(x<<12&4294967295|x>>>20),x=k+(C^N&(g^C))+b[2]+606105819&4294967295,k=N+(x<<17&4294967295|x>>>15),x=C+(g^k&(N^g))+b[3]+3250441966&4294967295,C=k+(x<<22&4294967295|x>>>10),x=g+(N^C&(k^N))+b[4]+4118548399&4294967295,g=C+(x<<7&4294967295|x>>>25),x=N+(k^g&(C^k))+b[5]+1200080426&4294967295,N=g+(x<<12&4294967295|x>>>20),x=k+(C^N&(g^C))+b[6]+2821735955&4294967295,k=N+(x<<17&4294967295|x>>>15),x=C+(g^k&(N^g))+b[7]+4249261313&4294967295,C=k+(x<<22&4294967295|x>>>10),x=g+(N^C&(k^N))+b[8]+1770035416&4294967295,g=C+(x<<7&4294967295|x>>>25),x=N+(k^g&(C^k))+b[9]+2336552879&4294967295,N=g+(x<<12&4294967295|x>>>20),x=k+(C^N&(g^C))+b[10]+4294925233&4294967295,k=N+(x<<17&4294967295|x>>>15),x=C+(g^k&(N^g))+b[11]+2304563134&4294967295,C=k+(x<<22&4294967295|x>>>10),x=g+(N^C&(k^N))+b[12]+1804603682&4294967295,g=C+(x<<7&4294967295|x>>>25),x=N+(k^g&(C^k))+b[13]+4254626195&4294967295,N=g+(x<<12&4294967295|x>>>20),x=k+(C^N&(g^C))+b[14]+2792965006&4294967295,k=N+(x<<17&4294967295|x>>>15),x=C+(g^k&(N^g))+b[15]+1236535329&4294967295,C=k+(x<<22&4294967295|x>>>10),x=g+(k^N&(C^k))+b[1]+4129170786&4294967295,g=C+(x<<5&4294967295|x>>>27),x=N+(C^k&(g^C))+b[6]+3225465664&4294967295,N=g+(x<<9&4294967295|x>>>23),x=k+(g^C&(N^g))+b[11]+643717713&4294967295,k=N+(x<<14&4294967295|x>>>18),x=C+(N^g&(k^N))+b[0]+3921069994&4294967295,C=k+(x<<20&4294967295|x>>>12),x=g+(k^N&(C^k))+b[5]+3593408605&4294967295,g=C+(x<<5&4294967295|x>>>27),x=N+(C^k&(g^C))+b[10]+38016083&4294967295,N=g+(x<<9&4294967295|x>>>23),x=k+(g^C&(N^g))+b[15]+3634488961&4294967295,k=N+(x<<14&4294967295|x>>>18),x=C+(N^g&(k^N))+b[4]+3889429448&4294967295,C=k+(x<<20&4294967295|x>>>12),x=g+(k^N&(C^k))+b[9]+568446438&4294967295,g=C+(x<<5&4294967295|x>>>27),x=N+(C^k&(g^C))+b[14]+3275163606&4294967295,N=g+(x<<9&4294967295|x>>>23),x=k+(g^C&(N^g))+b[3]+4107603335&4294967295,k=N+(x<<14&4294967295|x>>>18),x=C+(N^g&(k^N))+b[8]+1163531501&4294967295,C=k+(x<<20&4294967295|x>>>12),x=g+(k^N&(C^k))+b[13]+2850285829&4294967295,g=C+(x<<5&4294967295|x>>>27),x=N+(C^k&(g^C))+b[2]+4243563512&4294967295,N=g+(x<<9&4294967295|x>>>23),x=k+(g^C&(N^g))+b[7]+1735328473&4294967295,k=N+(x<<14&4294967295|x>>>18),x=C+(N^g&(k^N))+b[12]+2368359562&4294967295,C=k+(x<<20&4294967295|x>>>12),x=g+(C^k^N)+b[5]+4294588738&4294967295,g=C+(x<<4&4294967295|x>>>28),x=N+(g^C^k)+b[8]+2272392833&4294967295,N=g+(x<<11&4294967295|x>>>21),x=k+(N^g^C)+b[11]+1839030562&4294967295,k=N+(x<<16&4294967295|x>>>16),x=C+(k^N^g)+b[14]+4259657740&4294967295,C=k+(x<<23&4294967295|x>>>9),x=g+(C^k^N)+b[1]+2763975236&4294967295,g=C+(x<<4&4294967295|x>>>28),x=N+(g^C^k)+b[4]+1272893353&4294967295,N=g+(x<<11&4294967295|x>>>21),x=k+(N^g^C)+b[7]+4139469664&4294967295,k=N+(x<<16&4294967295|x>>>16),x=C+(k^N^g)+b[10]+3200236656&4294967295,C=k+(x<<23&4294967295|x>>>9),x=g+(C^k^N)+b[13]+681279174&4294967295,g=C+(x<<4&4294967295|x>>>28),x=N+(g^C^k)+b[0]+3936430074&4294967295,N=g+(x<<11&4294967295|x>>>21),x=k+(N^g^C)+b[3]+3572445317&4294967295,k=N+(x<<16&4294967295|x>>>16),x=C+(k^N^g)+b[6]+76029189&4294967295,C=k+(x<<23&4294967295|x>>>9),x=g+(C^k^N)+b[9]+3654602809&4294967295,g=C+(x<<4&4294967295|x>>>28),x=N+(g^C^k)+b[12]+3873151461&4294967295,N=g+(x<<11&4294967295|x>>>21),x=k+(N^g^C)+b[15]+530742520&4294967295,k=N+(x<<16&4294967295|x>>>16),x=C+(k^N^g)+b[2]+3299628645&4294967295,C=k+(x<<23&4294967295|x>>>9),x=g+(k^(C|~N))+b[0]+4096336452&4294967295,g=C+(x<<6&4294967295|x>>>26),x=N+(C^(g|~k))+b[7]+1126891415&4294967295,N=g+(x<<10&4294967295|x>>>22),x=k+(g^(N|~C))+b[14]+2878612391&4294967295,k=N+(x<<15&4294967295|x>>>17),x=C+(N^(k|~g))+b[5]+4237533241&4294967295,C=k+(x<<21&4294967295|x>>>11),x=g+(k^(C|~N))+b[12]+1700485571&4294967295,g=C+(x<<6&4294967295|x>>>26),x=N+(C^(g|~k))+b[3]+2399980690&4294967295,N=g+(x<<10&4294967295|x>>>22),x=k+(g^(N|~C))+b[10]+4293915773&4294967295,k=N+(x<<15&4294967295|x>>>17),x=C+(N^(k|~g))+b[1]+2240044497&4294967295,C=k+(x<<21&4294967295|x>>>11),x=g+(k^(C|~N))+b[8]+1873313359&4294967295,g=C+(x<<6&4294967295|x>>>26),x=N+(C^(g|~k))+b[15]+4264355552&4294967295,N=g+(x<<10&4294967295|x>>>22),x=k+(g^(N|~C))+b[6]+2734768916&4294967295,k=N+(x<<15&4294967295|x>>>17),x=C+(N^(k|~g))+b[13]+1309151649&4294967295,C=k+(x<<21&4294967295|x>>>11),x=g+(k^(C|~N))+b[4]+4149444226&4294967295,g=C+(x<<6&4294967295|x>>>26),x=N+(C^(g|~k))+b[11]+3174756917&4294967295,N=g+(x<<10&4294967295|x>>>22),x=k+(g^(N|~C))+b[2]+718787259&4294967295,k=N+(x<<15&4294967295|x>>>17),x=C+(N^(k|~g))+b[9]+3951481745&4294967295,R.g[0]=R.g[0]+g&4294967295,R.g[1]=R.g[1]+(k+(x<<21&4294967295|x>>>11))&4294967295,R.g[2]=R.g[2]+k&4294967295,R.g[3]=R.g[3]+N&4294967295}r.prototype.u=function(R,g){g===void 0&&(g=R.length);for(var C=g-this.blockSize,b=this.B,k=this.h,N=0;N<g;){if(k==0)for(;N<=C;)i(this,R,N),N+=this.blockSize;if(typeof R=="string"){for(;N<g;)if(b[k++]=R.charCodeAt(N++),k==this.blockSize){i(this,b),k=0;break}}else for(;N<g;)if(b[k++]=R[N++],k==this.blockSize){i(this,b),k=0;break}}this.h=k,this.o+=g},r.prototype.v=function(){var R=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);R[0]=128;for(var g=1;g<R.length-8;++g)R[g]=0;var C=8*this.o;for(g=R.length-8;g<R.length;++g)R[g]=C&255,C/=256;for(this.u(R),R=Array(16),g=C=0;4>g;++g)for(var b=0;32>b;b+=8)R[C++]=this.g[g]>>>b&255;return R};function s(R,g){var C=a;return Object.prototype.hasOwnProperty.call(C,R)?C[R]:C[R]=g(R)}function o(R,g){this.h=g;for(var C=[],b=!0,k=R.length-1;0<=k;k--){var N=R[k]|0;b&&N==g||(C[k]=N,b=!1)}this.g=C}var a={};function l(R){return-128<=R&&128>R?s(R,function(g){return new o([g|0],0>g?-1:0)}):new o([R|0],0>R?-1:0)}function u(R){if(isNaN(R)||!isFinite(R))return h;if(0>R)return S(u(-R));for(var g=[],C=1,b=0;R>=C;b++)g[b]=R/C|0,C*=4294967296;return new o(g,0)}function d(R,g){if(R.length==0)throw Error("number format error: empty string");if(g=g||10,2>g||36<g)throw Error("radix out of range: "+g);if(R.charAt(0)=="-")return S(d(R.substring(1),g));if(0<=R.indexOf("-"))throw Error('number format error: interior "-" character');for(var C=u(Math.pow(g,8)),b=h,k=0;k<R.length;k+=8){var N=Math.min(8,R.length-k),x=parseInt(R.substring(k,k+N),g);8>N?(N=u(Math.pow(g,N)),b=b.j(N).add(u(x))):(b=b.j(C),b=b.add(u(x)))}return b}var h=l(0),f=l(1),m=l(16777216);t=o.prototype,t.m=function(){if(E(this))return-S(this).m();for(var R=0,g=1,C=0;C<this.g.length;C++){var b=this.i(C);R+=(0<=b?b:4294967296+b)*g,g*=4294967296}return R},t.toString=function(R){if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(y(this))return"0";if(E(this))return"-"+S(this).toString(R);for(var g=u(Math.pow(R,6)),C=this,b="";;){var k=A(C,g).g;C=T(C,k.j(g));var N=((0<C.g.length?C.g[0]:C.h)>>>0).toString(R);if(C=k,y(C))return N+b;for(;6>N.length;)N="0"+N;b=N+b}},t.i=function(R){return 0>R?0:R<this.g.length?this.g[R]:this.h};function y(R){if(R.h!=0)return!1;for(var g=0;g<R.g.length;g++)if(R.g[g]!=0)return!1;return!0}function E(R){return R.h==-1}t.l=function(R){return R=T(this,R),E(R)?-1:y(R)?0:1};function S(R){for(var g=R.g.length,C=[],b=0;b<g;b++)C[b]=~R.g[b];return new o(C,~R.h).add(f)}t.abs=function(){return E(this)?S(this):this},t.add=function(R){for(var g=Math.max(this.g.length,R.g.length),C=[],b=0,k=0;k<=g;k++){var N=b+(this.i(k)&65535)+(R.i(k)&65535),x=(N>>>16)+(this.i(k)>>>16)+(R.i(k)>>>16);b=x>>>16,N&=65535,x&=65535,C[k]=x<<16|N}return new o(C,C[C.length-1]&-2147483648?-1:0)};function T(R,g){return R.add(S(g))}t.j=function(R){if(y(this)||y(R))return h;if(E(this))return E(R)?S(this).j(S(R)):S(S(this).j(R));if(E(R))return S(this.j(S(R)));if(0>this.l(m)&&0>R.l(m))return u(this.m()*R.m());for(var g=this.g.length+R.g.length,C=[],b=0;b<2*g;b++)C[b]=0;for(b=0;b<this.g.length;b++)for(var k=0;k<R.g.length;k++){var N=this.i(b)>>>16,x=this.i(b)&65535,re=R.i(k)>>>16,Ae=R.i(k)&65535;C[2*b+2*k]+=x*Ae,_(C,2*b+2*k),C[2*b+2*k+1]+=N*Ae,_(C,2*b+2*k+1),C[2*b+2*k+1]+=x*re,_(C,2*b+2*k+1),C[2*b+2*k+2]+=N*re,_(C,2*b+2*k+2)}for(b=0;b<g;b++)C[b]=C[2*b+1]<<16|C[2*b];for(b=g;b<2*g;b++)C[b]=0;return new o(C,0)};function _(R,g){for(;(R[g]&65535)!=R[g];)R[g+1]+=R[g]>>>16,R[g]&=65535,g++}function w(R,g){this.g=R,this.h=g}function A(R,g){if(y(g))throw Error("division by zero");if(y(R))return new w(h,h);if(E(R))return g=A(S(R),g),new w(S(g.g),S(g.h));if(E(g))return g=A(R,S(g)),new w(S(g.g),g.h);if(30<R.g.length){if(E(R)||E(g))throw Error("slowDivide_ only works with positive integers.");for(var C=f,b=g;0>=b.l(R);)C=O(C),b=O(b);var k=F(C,1),N=F(b,1);for(b=F(b,2),C=F(C,2);!y(b);){var x=N.add(b);0>=x.l(R)&&(k=k.add(C),N=x),b=F(b,1),C=F(C,1)}return g=T(R,k.j(g)),new w(k,g)}for(k=h;0<=R.l(g);){for(C=Math.max(1,Math.floor(R.m()/g.m())),b=Math.ceil(Math.log(C)/Math.LN2),b=48>=b?1:Math.pow(2,b-48),N=u(C),x=N.j(g);E(x)||0<x.l(R);)C-=b,N=u(C),x=N.j(g);y(N)&&(N=f),k=k.add(N),R=T(R,x)}return new w(k,R)}t.A=function(R){return A(this,R).h},t.and=function(R){for(var g=Math.max(this.g.length,R.g.length),C=[],b=0;b<g;b++)C[b]=this.i(b)&R.i(b);return new o(C,this.h&R.h)},t.or=function(R){for(var g=Math.max(this.g.length,R.g.length),C=[],b=0;b<g;b++)C[b]=this.i(b)|R.i(b);return new o(C,this.h|R.h)},t.xor=function(R){for(var g=Math.max(this.g.length,R.g.length),C=[],b=0;b<g;b++)C[b]=this.i(b)^R.i(b);return new o(C,this.h^R.h)};function O(R){for(var g=R.g.length+1,C=[],b=0;b<g;b++)C[b]=R.i(b)<<1|R.i(b-1)>>>31;return new o(C,R.h)}function F(R,g){var C=g>>5;g%=32;for(var b=R.g.length-C,k=[],N=0;N<b;N++)k[N]=0<g?R.i(N+C)>>>g|R.i(N+C+1)<<32-g:R.i(N+C);return new o(k,R.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,$b=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=d,jo=o}).apply(typeof $S<"u"?$S:typeof self<"u"?self:typeof window<"u"?window:{});var gh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Bb,Bu,zb,Qh,l_,Wb,Hb,qb;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,p,v){return c==Array.prototype||c==Object.prototype||(c[p]=v.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof gh=="object"&&gh];for(var p=0;p<c.length;++p){var v=c[p];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var r=n(this);function i(c,p){if(p)e:{var v=r;c=c.split(".");for(var P=0;P<c.length-1;P++){var j=c[P];if(!(j in v))break e;v=v[j]}c=c[c.length-1],P=v[c],p=p(P),p!=P&&p!=null&&e(v,c,{configurable:!0,writable:!0,value:p})}}function s(c,p){c instanceof String&&(c+="");var v=0,P=!1,j={next:function(){if(!P&&v<c.length){var z=v++;return{value:p(z,c[z]),done:!1}}return P=!0,{done:!0,value:void 0}}};return j[Symbol.iterator]=function(){return j},j}i("Array.prototype.values",function(c){return c||function(){return s(this,function(p,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(c){var p=typeof c;return p=p!="object"?p:c?Array.isArray(c)?"array":p:"null",p=="array"||p=="object"&&typeof c.length=="number"}function u(c){var p=typeof c;return p=="object"&&c!=null||p=="function"}function d(c,p,v){return c.call.apply(c.bind,arguments)}function h(c,p,v){if(!c)throw Error();if(2<arguments.length){var P=Array.prototype.slice.call(arguments,2);return function(){var j=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(j,P),c.apply(p,j)}}return function(){return c.apply(p,arguments)}}function f(c,p,v){return f=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:h,f.apply(null,arguments)}function m(c,p){var v=Array.prototype.slice.call(arguments,1);return function(){var P=v.slice();return P.push.apply(P,arguments),c.apply(this,P)}}function y(c,p){function v(){}v.prototype=p.prototype,c.aa=p.prototype,c.prototype=new v,c.prototype.constructor=c,c.Qb=function(P,j,z){for(var le=Array(arguments.length-2),dt=2;dt<arguments.length;dt++)le[dt-2]=arguments[dt];return p.prototype[j].apply(P,le)}}function E(c){const p=c.length;if(0<p){const v=Array(p);for(let P=0;P<p;P++)v[P]=c[P];return v}return[]}function S(c,p){for(let v=1;v<arguments.length;v++){const P=arguments[v];if(l(P)){const j=c.length||0,z=P.length||0;c.length=j+z;for(let le=0;le<z;le++)c[j+le]=P[le]}else c.push(P)}}class T{constructor(p,v){this.i=p,this.j=v,this.h=0,this.g=null}get(){let p;return 0<this.h?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function _(c){return/^[\s\xa0]*$/.test(c)}function w(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function A(c){return A[" "](c),c}A[" "]=function(){};var O=w().indexOf("Gecko")!=-1&&!(w().toLowerCase().indexOf("webkit")!=-1&&w().indexOf("Edge")==-1)&&!(w().indexOf("Trident")!=-1||w().indexOf("MSIE")!=-1)&&w().indexOf("Edge")==-1;function F(c,p,v){for(const P in c)p.call(v,c[P],P,c)}function R(c,p){for(const v in c)p.call(void 0,c[v],v,c)}function g(c){const p={};for(const v in c)p[v]=c[v];return p}const C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function b(c,p){let v,P;for(let j=1;j<arguments.length;j++){P=arguments[j];for(v in P)c[v]=P[v];for(let z=0;z<C.length;z++)v=C[z],Object.prototype.hasOwnProperty.call(P,v)&&(c[v]=P[v])}}function k(c){var p=1;c=c.split(":");const v=[];for(;0<p&&c.length;)v.push(c.shift()),p--;return c.length&&v.push(c.join(":")),v}function N(c){a.setTimeout(()=>{throw c},0)}function x(){var c=Q;let p=null;return c.g&&(p=c.g,c.g=c.g.next,c.g||(c.h=null),p.next=null),p}class re{constructor(){this.h=this.g=null}add(p,v){const P=Ae.get();P.set(p,v),this.h?this.h.next=P:this.g=P,this.h=P}}var Ae=new T(()=>new Ce,c=>c.reset());class Ce{constructor(){this.next=this.g=this.h=null}set(p,v){this.h=p,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let te,H=!1,Q=new re,ie=()=>{const c=a.Promise.resolve(void 0);te=()=>{c.then(xe)}};var xe=()=>{for(var c;c=x();){try{c.h.call(c.g)}catch(v){N(v)}var p=Ae;p.j(c),100>p.h&&(p.h++,c.next=p.g,p.g=c)}H=!1};function q(){this.s=this.s,this.C=this.C}q.prototype.s=!1,q.prototype.ma=function(){this.s||(this.s=!0,this.N())},q.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function J(c,p){this.type=c,this.g=this.target=p,this.defaultPrevented=!1}J.prototype.h=function(){this.defaultPrevented=!0};var _e=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,p=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};a.addEventListener("test",v,p),a.removeEventListener("test",v,p)}catch{}return c}();function Te(c,p){if(J.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var v=this.type=c.type,P=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=p,p=c.relatedTarget){if(O){e:{try{A(p.nodeName);var j=!0;break e}catch{}j=!1}j||(p=null)}}else v=="mouseover"?p=c.fromElement:v=="mouseout"&&(p=c.toElement);this.relatedTarget=p,P?(this.clientX=P.clientX!==void 0?P.clientX:P.pageX,this.clientY=P.clientY!==void 0?P.clientY:P.pageY,this.screenX=P.screenX||0,this.screenY=P.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:me[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Te.aa.h.call(this)}}y(Te,J);var me={2:"touch",3:"pen",4:"mouse"};Te.prototype.h=function(){Te.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var U="closure_listenable_"+(1e6*Math.random()|0),G=0;function he(c,p,v,P,j){this.listener=c,this.proxy=null,this.src=p,this.type=v,this.capture=!!P,this.ha=j,this.key=++G,this.da=this.fa=!1}function se(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function fe(c){this.src=c,this.g={},this.h=0}fe.prototype.add=function(c,p,v,P,j){var z=c.toString();c=this.g[z],c||(c=this.g[z]=[],this.h++);var le=ct(c,p,P,j);return-1<le?(p=c[le],v||(p.fa=!1)):(p=new he(p,this.src,z,!!P,j),p.fa=v,c.push(p)),p};function Ve(c,p){var v=p.type;if(v in c.g){var P=c.g[v],j=Array.prototype.indexOf.call(P,p,void 0),z;(z=0<=j)&&Array.prototype.splice.call(P,j,1),z&&(se(p),c.g[v].length==0&&(delete c.g[v],c.h--))}}function ct(c,p,v,P){for(var j=0;j<c.length;++j){var z=c[j];if(!z.da&&z.listener==p&&z.capture==!!v&&z.ha==P)return j}return-1}var Oe="closure_lm_"+(1e6*Math.random()|0),Mt={};function gn(c,p,v,P,j){if(Array.isArray(p)){for(var z=0;z<p.length;z++)gn(c,p[z],v,P,j);return null}return v=Ke(v),c&&c[U]?c.K(p,v,u(P)?!!P.capture:!!P,j):kd(c,p,v,!1,P,j)}function kd(c,p,v,P,j,z){if(!p)throw Error("Invalid event type");var le=u(j)?!!j.capture:!!j,dt=ne(c);if(dt||(c[Oe]=dt=new fe(c)),v=dt.add(p,v,P,le,z),v.proxy)return v;if(P=L(),v.proxy=P,P.src=c,P.listener=v,c.addEventListener)_e||(j=le),j===void 0&&(j=!1),c.addEventListener(p.toString(),P,j);else if(c.attachEvent)c.attachEvent(ue(p.toString()),P);else if(c.addListener&&c.removeListener)c.addListener(P);else throw Error("addEventListener and attachEvent are unavailable.");return v}function L(){function c(v){return p.call(c.src,c.listener,v)}const p=oe;return c}function $(c,p,v,P,j){if(Array.isArray(p))for(var z=0;z<p.length;z++)$(c,p[z],v,P,j);else P=u(P)?!!P.capture:!!P,v=Ke(v),c&&c[U]?(c=c.i,p=String(p).toString(),p in c.g&&(z=c.g[p],v=ct(z,v,P,j),-1<v&&(se(z[v]),Array.prototype.splice.call(z,v,1),z.length==0&&(delete c.g[p],c.h--)))):c&&(c=ne(c))&&(p=c.g[p.toString()],c=-1,p&&(c=ct(p,v,P,j)),(v=-1<c?p[c]:null)&&K(v))}function K(c){if(typeof c!="number"&&c&&!c.da){var p=c.src;if(p&&p[U])Ve(p.i,c);else{var v=c.type,P=c.proxy;p.removeEventListener?p.removeEventListener(v,P,c.capture):p.detachEvent?p.detachEvent(ue(v),P):p.addListener&&p.removeListener&&p.removeListener(P),(v=ne(p))?(Ve(v,c),v.h==0&&(v.src=null,p[Oe]=null)):se(c)}}}function ue(c){return c in Mt?Mt[c]:Mt[c]="on"+c}function oe(c,p){if(c.da)c=!0;else{p=new Te(p,this);var v=c.listener,P=c.ha||c.src;c.fa&&K(c),c=v.call(P,p)}return c}function ne(c){return c=c[Oe],c instanceof fe?c:null}var Se="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ke(c){return typeof c=="function"?c:(c[Se]||(c[Se]=function(p){return c.handleEvent(p)}),c[Se])}function Ue(){q.call(this),this.i=new fe(this),this.M=this,this.F=null}y(Ue,q),Ue.prototype[U]=!0,Ue.prototype.removeEventListener=function(c,p,v,P){$(this,c,p,v,P)};function $e(c,p){var v,P=c.F;if(P)for(v=[];P;P=P.F)v.push(P);if(c=c.M,P=p.type||p,typeof p=="string")p=new J(p,c);else if(p instanceof J)p.target=p.target||c;else{var j=p;p=new J(P,c),b(p,j)}if(j=!0,v)for(var z=v.length-1;0<=z;z--){var le=p.g=v[z];j=Dn(le,P,!0,p)&&j}if(le=p.g=c,j=Dn(le,P,!0,p)&&j,j=Dn(le,P,!1,p)&&j,v)for(z=0;z<v.length;z++)le=p.g=v[z],j=Dn(le,P,!1,p)&&j}Ue.prototype.N=function(){if(Ue.aa.N.call(this),this.i){var c=this.i,p;for(p in c.g){for(var v=c.g[p],P=0;P<v.length;P++)se(v[P]);delete c.g[p],c.h--}}this.F=null},Ue.prototype.K=function(c,p,v,P){return this.i.add(String(c),p,!1,v,P)},Ue.prototype.L=function(c,p,v,P){return this.i.add(String(c),p,!0,v,P)};function Dn(c,p,v,P){if(p=c.i.g[String(p)],!p)return!0;p=p.concat();for(var j=!0,z=0;z<p.length;++z){var le=p[z];if(le&&!le.da&&le.capture==v){var dt=le.listener,an=le.ha||le.src;le.fa&&Ve(c.i,le),j=dt.call(an,P)!==!1&&j}}return j&&!P.defaultPrevented}function ss(c,p,v){if(typeof c=="function")v&&(c=f(c,v));else if(c&&typeof c.handleEvent=="function")c=f(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(p)?-1:a.setTimeout(c,p||0)}function Ln(c){c.g=ss(()=>{c.g=null,c.i&&(c.i=!1,Ln(c))},c.l);const p=c.h;c.h=null,c.m.apply(null,p)}class Mn extends q{constructor(p,v){super(),this.m=p,this.l=v,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:Ln(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function si(c){q.call(this),this.h=c,this.g={}}y(si,q);var oi=[];function Ea(c){F(c.g,function(p,v){this.g.hasOwnProperty(v)&&K(p)},c),c.g={}}si.prototype.N=function(){si.aa.N.call(this),Ea(this)},si.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Fn=a.JSON.stringify,Nd=a.JSON.parse,Od=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function wa(){}wa.prototype.h=null;function Dd(c){return c.h||(c.h=c.i())}function su(){}var ai={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ta(){J.call(this,"d")}y(Ta,J);function fo(){J.call(this,"c")}y(fo,J);var Sr={},Sa=null;function Ia(){return Sa=Sa||new Ue}Sr.La="serverreachability";function ou(c){J.call(this,Sr.La,c)}y(ou,J);function po(c){const p=Ia();$e(p,new ou(p))}Sr.STAT_EVENT="statevent";function au(c,p){J.call(this,Sr.STAT_EVENT,c),this.stat=p}y(au,J);function jt(c){const p=Ia();$e(p,new au(p,c))}Sr.Ma="timingevent";function mo(c,p){J.call(this,Sr.Ma,c),this.size=p}y(mo,J);function os(c,p){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},p)}function go(){this.g=!0}go.prototype.xa=function(){this.g=!1};function Dm(c,p,v,P,j,z){c.info(function(){if(c.g)if(z)for(var le="",dt=z.split("&"),an=0;an<dt.length;an++){var tt=dt[an].split("=");if(1<tt.length){var vn=tt[0];tt=tt[1];var En=vn.split("_");le=2<=En.length&&En[1]=="type"?le+(vn+"="+tt+"&"):le+(vn+"=redacted&")}}else le=null;else le=z;return"XMLHTTP REQ ("+P+") [attempt "+j+"]: "+p+`
`+v+`
`+le})}function M(c,p,v,P,j,z,le){c.info(function(){return"XMLHTTP RESP ("+P+") [ attempt "+j+"]: "+p+`
`+v+`
`+z+" "+le})}function V(c,p,v,P){c.info(function(){return"XMLHTTP TEXT ("+p+"): "+X(c,v)+(P?" "+P:"")})}function B(c,p){c.info(function(){return"TIMEOUT: "+p})}go.prototype.info=function(){};function X(c,p){if(!c.g)return p;if(!p)return null;try{var v=JSON.parse(p);if(v){for(c=0;c<v.length;c++)if(Array.isArray(v[c])){var P=v[c];if(!(2>P.length)){var j=P[1];if(Array.isArray(j)&&!(1>j.length)){var z=j[0];if(z!="noop"&&z!="stop"&&z!="close")for(var le=1;le<j.length;le++)j[le]=""}}}}return Fn(v)}catch{return p}}var de={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},be={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ke;function ae(){}y(ae,wa),ae.prototype.g=function(){return new XMLHttpRequest},ae.prototype.i=function(){return{}},ke=new ae;function Re(c,p,v,P){this.j=c,this.i=p,this.l=v,this.R=P||1,this.U=new si(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ee}function Ee(){this.i=null,this.g="",this.h=!1}var Ie={},Ge={};function Ze(c,p,v){c.L=1,c.v=Ud(Ri(p)),c.m=v,c.P=!0,at(c,null)}function at(c,p){c.F=Date.now(),mt(c),c.A=Ri(c.v);var v=c.A,P=c.R;Array.isArray(P)||(P=[String(P)]),sw(v.i,"t",P),c.C=0,v=c.j.J,c.h=new Ee,c.g=Sw(c.j,v?p:null,!c.m),0<c.O&&(c.M=new Mn(f(c.Y,c,c.g),c.O)),p=c.U,v=c.g,P=c.ca;var j="readystatechange";Array.isArray(j)||(j&&(oi[0]=j.toString()),j=oi);for(var z=0;z<j.length;z++){var le=gn(v,j[z],P||p.handleEvent,!1,p.h||p);if(!le)break;p.g[le.key]=le}p=c.H?g(c.H):{},c.m?(c.u||(c.u="POST"),p["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,p)):(c.u="GET",c.g.ea(c.A,c.u,null,p)),po(),Dm(c.i,c.u,c.A,c.l,c.R,c.m)}Re.prototype.ca=function(c){c=c.target;const p=this.M;p&&Ai(c)==3?p.j():this.Y(c)},Re.prototype.Y=function(c){try{if(c==this.g)e:{const En=Ai(this.g);var p=this.g.Ba();const Aa=this.g.Z();if(!(3>En)&&(En!=3||this.g&&(this.h.h||this.g.oa()||hw(this.g)))){this.J||En!=4||p==7||(p==8||0>=Aa?po(3):po(2)),or(this);var v=this.g.Z();this.X=v;t:if(We(this)){var P=hw(this.g);c="";var j=P.length,z=Ai(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){yn(this),Ir(this);var le="";break t}this.h.i=new a.TextDecoder}for(p=0;p<j;p++)this.h.h=!0,c+=this.h.i.decode(P[p],{stream:!(z&&p==j-1)});P.length=0,this.h.g+=c,this.C=0,le=this.h.g}else le=this.g.oa();if(this.o=v==200,M(this.i,this.u,this.A,this.l,this.R,En,v),this.o){if(this.T&&!this.K){t:{if(this.g){var dt,an=this.g;if((dt=an.g?an.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!_(dt)){var tt=dt;break t}}tt=null}if(v=tt)V(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ls(this,v);else{this.o=!1,this.s=3,jt(12),yn(this),Ir(this);break e}}if(this.P){v=!0;let jr;for(;!this.J&&this.C<le.length;)if(jr=$t(this,le),jr==Ge){En==4&&(this.s=4,jt(14),v=!1),V(this.i,this.l,null,"[Incomplete Response]");break}else if(jr==Ie){this.s=4,jt(15),V(this.i,this.l,le,"[Invalid Chunk]"),v=!1;break}else V(this.i,this.l,jr,null),ls(this,jr);if(We(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),En!=4||le.length!=0||this.h.h||(this.s=1,jt(16),v=!1),this.o=this.o&&v,!v)V(this.i,this.l,le,"[Invalid Chunked Response]"),yn(this),Ir(this);else if(0<le.length&&!this.W){this.W=!0;var vn=this.j;vn.g==this&&vn.ba&&!vn.M&&(vn.j.info("Great, no buffering proxy detected. Bytes received: "+le.length),Vm(vn),vn.M=!0,jt(11))}}else V(this.i,this.l,le,null),ls(this,le);En==4&&yn(this),this.o&&!this.J&&(En==4?vw(this.j,this):(this.o=!1,mt(this)))}else CO(this.g),v==400&&0<le.indexOf("Unknown SID")?(this.s=3,jt(12)):(this.s=0,jt(13)),yn(this),Ir(this)}}}catch{}finally{}};function We(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function $t(c,p){var v=c.C,P=p.indexOf(`
`,v);return P==-1?Ge:(v=Number(p.substring(v,P)),isNaN(v)?Ie:(P+=1,P+v>p.length?Ge:(p=p.slice(P,P+v),c.C=P+v,p)))}Re.prototype.cancel=function(){this.J=!0,yn(this)};function mt(c){c.S=Date.now()+c.I,as(c,c.I)}function as(c,p){if(c.B!=null)throw Error("WatchDog timer not null");c.B=os(f(c.ba,c),p)}function or(c){c.B&&(a.clearTimeout(c.B),c.B=null)}Re.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(B(this.i,this.A),this.L!=2&&(po(),jt(17)),yn(this),this.s=2,Ir(this)):as(this,this.S-c)};function Ir(c){c.j.G==0||c.J||vw(c.j,c)}function yn(c){or(c);var p=c.M;p&&typeof p.ma=="function"&&p.ma(),c.M=null,Ea(c.U),c.g&&(p=c.g,c.g=null,p.abort(),p.ma())}function ls(c,p){try{var v=c.j;if(v.G!=0&&(v.g==c||Le(v.h,c))){if(!c.K&&Le(v.h,c)&&v.G==3){try{var P=v.Da.g.parse(p)}catch{P=null}if(Array.isArray(P)&&P.length==3){var j=P;if(j[0]==0){e:if(!v.u){if(v.g)if(v.g.F+3e3<c.F)Hd(v),zd(v);else break e;Fm(v),jt(18)}}else v.za=j[1],0<v.za-v.T&&37500>j[2]&&v.F&&v.v==0&&!v.C&&(v.C=os(f(v.Za,v),6e3));if(1>=vo(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else wo(v,11)}else if((c.K||v.g==c)&&Hd(v),!_(p))for(j=v.Da.g.parse(p),p=0;p<j.length;p++){let tt=j[p];if(v.T=tt[0],tt=tt[1],v.G==2)if(tt[0]=="c"){v.K=tt[1],v.ia=tt[2];const vn=tt[3];vn!=null&&(v.la=vn,v.j.info("VER="+v.la));const En=tt[4];En!=null&&(v.Aa=En,v.j.info("SVER="+v.Aa));const Aa=tt[5];Aa!=null&&typeof Aa=="number"&&0<Aa&&(P=1.5*Aa,v.L=P,v.j.info("backChannelRequestTimeoutMs_="+P)),P=v;const jr=c.g;if(jr){const Kd=jr.g?jr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Kd){var z=P.h;z.g||Kd.indexOf("spdy")==-1&&Kd.indexOf("quic")==-1&&Kd.indexOf("h2")==-1||(z.j=z.l,z.g=new Set,z.h&&(ht(z,z.h),z.h=null))}if(P.D){const Um=jr.g?jr.g.getResponseHeader("X-HTTP-Session-Id"):null;Um&&(P.ya=Um,yt(P.I,P.D,Um))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-c.F,v.j.info("Handshake RTT: "+v.R+"ms")),P=v;var le=c;if(P.qa=Tw(P,P.J?P.ia:null,P.W),le.K){_n(P.h,le);var dt=le,an=P.L;an&&(dt.I=an),dt.B&&(or(dt),mt(dt)),P.g=le}else yw(P);0<v.i.length&&Wd(v)}else tt[0]!="stop"&&tt[0]!="close"||wo(v,7);else v.G==3&&(tt[0]=="stop"||tt[0]=="close"?tt[0]=="stop"?wo(v,7):Mm(v):tt[0]!="noop"&&v.l&&v.l.ta(tt),v.v=0)}}po(4)}catch{}}var Vr=class{constructor(c,p){this.g=c,this.map=p}};function yo(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function _o(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function vo(c){return c.h?1:c.g?c.g.size:0}function Le(c,p){return c.h?c.h==p:c.g?c.g.has(p):!1}function ht(c,p){c.g?c.g.add(p):c.h=p}function _n(c,p){c.h&&c.h==p?c.h=null:c.g&&c.g.has(p)&&c.g.delete(p)}yo.prototype.cancel=function(){if(this.i=gt(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function gt(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let p=c.i;for(const v of c.g.values())p=p.concat(v.D);return p}return E(c.i)}function Ur(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(l(c)){for(var p=[],v=c.length,P=0;P<v;P++)p.push(c[P]);return p}p=[],v=0;for(P in c)p[v++]=c[P];return p}function Ld(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(l(c)||typeof c=="string"){var p=[];c=c.length;for(var v=0;v<c;v++)p.push(v);return p}p=[],v=0;for(const P in c)p[v++]=P;return p}}}function Md(c,p){if(c.forEach&&typeof c.forEach=="function")c.forEach(p,void 0);else if(l(c)||typeof c=="string")Array.prototype.forEach.call(c,p,void 0);else for(var v=Ld(c),P=Ur(c),j=P.length,z=0;z<j;z++)p.call(void 0,P[z],v&&v[z],c)}var ew=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function hO(c,p){if(c){c=c.split("&");for(var v=0;v<c.length;v++){var P=c[v].indexOf("="),j=null;if(0<=P){var z=c[v].substring(0,P);j=c[v].substring(P+1)}else z=c[v];p(z,j?decodeURIComponent(j.replace(/\+/g," ")):"")}}}function Eo(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Eo){this.h=c.h,Fd(this,c.j),this.o=c.o,this.g=c.g,Vd(this,c.s),this.l=c.l;var p=c.i,v=new cu;v.i=p.i,p.g&&(v.g=new Map(p.g),v.h=p.h),tw(this,v),this.m=c.m}else c&&(p=String(c).match(ew))?(this.h=!1,Fd(this,p[1]||"",!0),this.o=lu(p[2]||""),this.g=lu(p[3]||"",!0),Vd(this,p[4]),this.l=lu(p[5]||"",!0),tw(this,p[6]||"",!0),this.m=lu(p[7]||"")):(this.h=!1,this.i=new cu(null,this.h))}Eo.prototype.toString=function(){var c=[],p=this.j;p&&c.push(uu(p,nw,!0),":");var v=this.g;return(v||p=="file")&&(c.push("//"),(p=this.o)&&c.push(uu(p,nw,!0),"@"),c.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&c.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(uu(v,v.charAt(0)=="/"?mO:pO,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",uu(v,yO)),c.join("")};function Ri(c){return new Eo(c)}function Fd(c,p,v){c.j=v?lu(p,!0):p,c.j&&(c.j=c.j.replace(/:$/,""))}function Vd(c,p){if(p){if(p=Number(p),isNaN(p)||0>p)throw Error("Bad port number "+p);c.s=p}else c.s=null}function tw(c,p,v){p instanceof cu?(c.i=p,_O(c.i,c.h)):(v||(p=uu(p,gO)),c.i=new cu(p,c.h))}function yt(c,p,v){c.i.set(p,v)}function Ud(c){return yt(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function lu(c,p){return c?p?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function uu(c,p,v){return typeof c=="string"?(c=encodeURI(c).replace(p,fO),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function fO(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var nw=/[#\/\?@]/g,pO=/[#\?:]/g,mO=/[#\?]/g,gO=/[#\?@]/g,yO=/#/g;function cu(c,p){this.h=this.g=null,this.i=c||null,this.j=!!p}function us(c){c.g||(c.g=new Map,c.h=0,c.i&&hO(c.i,function(p,v){c.add(decodeURIComponent(p.replace(/\+/g," ")),v)}))}t=cu.prototype,t.add=function(c,p){us(this),this.i=null,c=Ca(this,c);var v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(p),this.h+=1,this};function rw(c,p){us(c),p=Ca(c,p),c.g.has(p)&&(c.i=null,c.h-=c.g.get(p).length,c.g.delete(p))}function iw(c,p){return us(c),p=Ca(c,p),c.g.has(p)}t.forEach=function(c,p){us(this),this.g.forEach(function(v,P){v.forEach(function(j){c.call(p,j,P,this)},this)},this)},t.na=function(){us(this);const c=Array.from(this.g.values()),p=Array.from(this.g.keys()),v=[];for(let P=0;P<p.length;P++){const j=c[P];for(let z=0;z<j.length;z++)v.push(p[P])}return v},t.V=function(c){us(this);let p=[];if(typeof c=="string")iw(this,c)&&(p=p.concat(this.g.get(Ca(this,c))));else{c=Array.from(this.g.values());for(let v=0;v<c.length;v++)p=p.concat(c[v])}return p},t.set=function(c,p){return us(this),this.i=null,c=Ca(this,c),iw(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[p]),this.h+=1,this},t.get=function(c,p){return c?(c=this.V(c),0<c.length?String(c[0]):p):p};function sw(c,p,v){rw(c,p),0<v.length&&(c.i=null,c.g.set(Ca(c,p),E(v)),c.h+=v.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],p=Array.from(this.g.keys());for(var v=0;v<p.length;v++){var P=p[v];const z=encodeURIComponent(String(P)),le=this.V(P);for(P=0;P<le.length;P++){var j=z;le[P]!==""&&(j+="="+encodeURIComponent(String(le[P]))),c.push(j)}}return this.i=c.join("&")};function Ca(c,p){return p=String(p),c.j&&(p=p.toLowerCase()),p}function _O(c,p){p&&!c.j&&(us(c),c.i=null,c.g.forEach(function(v,P){var j=P.toLowerCase();P!=j&&(rw(this,P),sw(this,j,v))},c)),c.j=p}function vO(c,p){const v=new go;if(a.Image){const P=new Image;P.onload=m(cs,v,"TestLoadImage: loaded",!0,p,P),P.onerror=m(cs,v,"TestLoadImage: error",!1,p,P),P.onabort=m(cs,v,"TestLoadImage: abort",!1,p,P),P.ontimeout=m(cs,v,"TestLoadImage: timeout",!1,p,P),a.setTimeout(function(){P.ontimeout&&P.ontimeout()},1e4),P.src=c}else p(!1)}function EO(c,p){const v=new go,P=new AbortController,j=setTimeout(()=>{P.abort(),cs(v,"TestPingServer: timeout",!1,p)},1e4);fetch(c,{signal:P.signal}).then(z=>{clearTimeout(j),z.ok?cs(v,"TestPingServer: ok",!0,p):cs(v,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(j),cs(v,"TestPingServer: error",!1,p)})}function cs(c,p,v,P,j){try{j&&(j.onload=null,j.onerror=null,j.onabort=null,j.ontimeout=null),P(v)}catch{}}function wO(){this.g=new Od}function TO(c,p,v){const P=v||"";try{Md(c,function(j,z){let le=j;u(j)&&(le=Fn(j)),p.push(P+z+"="+encodeURIComponent(le))})}catch(j){throw p.push(P+"type="+encodeURIComponent("_badmap")),j}}function jd(c){this.l=c.Ub||null,this.j=c.eb||!1}y(jd,wa),jd.prototype.g=function(){return new $d(this.l,this.j)},jd.prototype.i=function(c){return function(){return c}}({});function $d(c,p){Ue.call(this),this.D=c,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}y($d,Ue),t=$d.prototype,t.open=function(c,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=p,this.readyState=1,hu(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const p={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(p.body=c),(this.D||a).fetch(new Request(this.A,p)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,du(this)),this.readyState=0},t.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,hu(this)),this.g&&(this.readyState=3,hu(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;ow(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function ow(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}t.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var p=c.value?c.value:new Uint8Array(0);(p=this.v.decode(p,{stream:!c.done}))&&(this.response=this.responseText+=p)}c.done?du(this):hu(this),this.readyState==3&&ow(this)}},t.Ra=function(c){this.g&&(this.response=this.responseText=c,du(this))},t.Qa=function(c){this.g&&(this.response=c,du(this))},t.ga=function(){this.g&&du(this)};function du(c){c.readyState=4,c.l=null,c.j=null,c.v=null,hu(c)}t.setRequestHeader=function(c,p){this.u.append(c,p)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],p=this.h.entries();for(var v=p.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=p.next();return c.join(`\r
`)};function hu(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty($d.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function aw(c){let p="";return F(c,function(v,P){p+=P,p+=":",p+=v,p+=`\r
`}),p}function Lm(c,p,v){e:{for(P in v){var P=!1;break e}P=!0}P||(v=aw(v),typeof c=="string"?v!=null&&encodeURIComponent(String(v)):yt(c,p,v))}function Ot(c){Ue.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}y(Ot,Ue);var SO=/^https?$/i,IO=["POST","PUT"];t=Ot.prototype,t.Ha=function(c){this.J=c},t.ea=function(c,p,v,P){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);p=p?p.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ke.g(),this.v=this.o?Dd(this.o):Dd(ke),this.g.onreadystatechange=f(this.Ea,this);try{this.B=!0,this.g.open(p,String(c),!0),this.B=!1}catch(z){lw(this,z);return}if(c=v||"",v=new Map(this.headers),P)if(Object.getPrototypeOf(P)===Object.prototype)for(var j in P)v.set(j,P[j]);else if(typeof P.keys=="function"&&typeof P.get=="function")for(const z of P.keys())v.set(z,P.get(z));else throw Error("Unknown input type for opt_headers: "+String(P));P=Array.from(v.keys()).find(z=>z.toLowerCase()=="content-type"),j=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call(IO,p,void 0))||P||j||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[z,le]of v)this.g.setRequestHeader(z,le);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{dw(this),this.u=!0,this.g.send(c),this.u=!1}catch(z){lw(this,z)}};function lw(c,p){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=p,c.m=5,uw(c),Bd(c)}function uw(c){c.A||(c.A=!0,$e(c,"complete"),$e(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,$e(this,"complete"),$e(this,"abort"),Bd(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Bd(this,!0)),Ot.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?cw(this):this.bb())},t.bb=function(){cw(this)};function cw(c){if(c.h&&typeof o<"u"&&(!c.v[1]||Ai(c)!=4||c.Z()!=2)){if(c.u&&Ai(c)==4)ss(c.Ea,0,c);else if($e(c,"readystatechange"),Ai(c)==4){c.h=!1;try{const le=c.Z();e:switch(le){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break e;default:p=!1}var v;if(!(v=p)){var P;if(P=le===0){var j=String(c.D).match(ew)[1]||null;!j&&a.self&&a.self.location&&(j=a.self.location.protocol.slice(0,-1)),P=!SO.test(j?j.toLowerCase():"")}v=P}if(v)$e(c,"complete"),$e(c,"success");else{c.m=6;try{var z=2<Ai(c)?c.g.statusText:""}catch{z=""}c.l=z+" ["+c.Z()+"]",uw(c)}}finally{Bd(c)}}}}function Bd(c,p){if(c.g){dw(c);const v=c.g,P=c.v[0]?()=>{}:null;c.g=null,c.v=null,p||$e(c,"ready");try{v.onreadystatechange=P}catch{}}}function dw(c){c.I&&(a.clearTimeout(c.I),c.I=null)}t.isActive=function(){return!!this.g};function Ai(c){return c.g?c.g.readyState:0}t.Z=function(){try{return 2<Ai(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(c){if(this.g){var p=this.g.responseText;return c&&p.indexOf(c)==0&&(p=p.substring(c.length)),Nd(p)}};function hw(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function CO(c){const p={};c=(c.g&&2<=Ai(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let P=0;P<c.length;P++){if(_(c[P]))continue;var v=k(c[P]);const j=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const z=p[j]||[];p[j]=z,z.push(v)}R(p,function(P){return P.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function fu(c,p,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||p}function fw(c){this.Aa=0,this.i=[],this.j=new go,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=fu("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=fu("baseRetryDelayMs",5e3,c),this.cb=fu("retryDelaySeedMs",1e4,c),this.Wa=fu("forwardChannelMaxRetries",2,c),this.wa=fu("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new yo(c&&c.concurrentRequestLimit),this.Da=new wO,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=fw.prototype,t.la=8,t.G=1,t.connect=function(c,p,v,P){jt(0),this.W=c,this.H=p||{},v&&P!==void 0&&(this.H.OSID=v,this.H.OAID=P),this.F=this.X,this.I=Tw(this,null,this.W),Wd(this)};function Mm(c){if(pw(c),c.G==3){var p=c.U++,v=Ri(c.I);if(yt(v,"SID",c.K),yt(v,"RID",p),yt(v,"TYPE","terminate"),pu(c,v),p=new Re(c,c.j,p),p.L=2,p.v=Ud(Ri(v)),v=!1,a.navigator&&a.navigator.sendBeacon)try{v=a.navigator.sendBeacon(p.v.toString(),"")}catch{}!v&&a.Image&&(new Image().src=p.v,v=!0),v||(p.g=Sw(p.j,null),p.g.ea(p.v)),p.F=Date.now(),mt(p)}ww(c)}function zd(c){c.g&&(Vm(c),c.g.cancel(),c.g=null)}function pw(c){zd(c),c.u&&(a.clearTimeout(c.u),c.u=null),Hd(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function Wd(c){if(!_o(c.h)&&!c.s){c.s=!0;var p=c.Ga;te||ie(),H||(te(),H=!0),Q.add(p,c),c.B=0}}function RO(c,p){return vo(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=p.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=os(f(c.Ga,c,p),Ew(c,c.B)),c.B++,!0)}t.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const j=new Re(this,this.j,c);let z=this.o;if(this.S&&(z?(z=g(z),b(z,this.S)):z=this.S),this.m!==null||this.O||(j.H=z,z=null),this.P)e:{for(var p=0,v=0;v<this.i.length;v++){t:{var P=this.i[v];if("__data__"in P.map&&(P=P.map.__data__,typeof P=="string")){P=P.length;break t}P=void 0}if(P===void 0)break;if(p+=P,4096<p){p=v;break e}if(p===4096||v===this.i.length-1){p=v+1;break e}}p=1e3}else p=1e3;p=gw(this,j,p),v=Ri(this.I),yt(v,"RID",c),yt(v,"CVER",22),this.D&&yt(v,"X-HTTP-Session-Id",this.D),pu(this,v),z&&(this.O?p="headers="+encodeURIComponent(String(aw(z)))+"&"+p:this.m&&Lm(v,this.m,z)),ht(this.h,j),this.Ua&&yt(v,"TYPE","init"),this.P?(yt(v,"$req",p),yt(v,"SID","null"),j.T=!0,Ze(j,v,null)):Ze(j,v,p),this.G=2}}else this.G==3&&(c?mw(this,c):this.i.length==0||_o(this.h)||mw(this))};function mw(c,p){var v;p?v=p.l:v=c.U++;const P=Ri(c.I);yt(P,"SID",c.K),yt(P,"RID",v),yt(P,"AID",c.T),pu(c,P),c.m&&c.o&&Lm(P,c.m,c.o),v=new Re(c,c.j,v,c.B+1),c.m===null&&(v.H=c.o),p&&(c.i=p.D.concat(c.i)),p=gw(c,v,1e3),v.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),ht(c.h,v),Ze(v,P,p)}function pu(c,p){c.H&&F(c.H,function(v,P){yt(p,P,v)}),c.l&&Md({},function(v,P){yt(p,P,v)})}function gw(c,p,v){v=Math.min(c.i.length,v);var P=c.l?f(c.l.Na,c.l,c):null;e:{var j=c.i;let z=-1;for(;;){const le=["count="+v];z==-1?0<v?(z=j[0].g,le.push("ofs="+z)):z=0:le.push("ofs="+z);let dt=!0;for(let an=0;an<v;an++){let tt=j[an].g;const vn=j[an].map;if(tt-=z,0>tt)z=Math.max(0,j[an].g-100),dt=!1;else try{TO(vn,le,"req"+tt+"_")}catch{P&&P(vn)}}if(dt){P=le.join("&");break e}}}return c=c.i.splice(0,v),p.D=c,P}function yw(c){if(!c.g&&!c.u){c.Y=1;var p=c.Fa;te||ie(),H||(te(),H=!0),Q.add(p,c),c.v=0}}function Fm(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=os(f(c.Fa,c),Ew(c,c.v)),c.v++,!0)}t.Fa=function(){if(this.u=null,_w(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=os(f(this.ab,this),c)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,jt(10),zd(this),_w(this))};function Vm(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function _w(c){c.g=new Re(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var p=Ri(c.qa);yt(p,"RID","rpc"),yt(p,"SID",c.K),yt(p,"AID",c.T),yt(p,"CI",c.F?"0":"1"),!c.F&&c.ja&&yt(p,"TO",c.ja),yt(p,"TYPE","xmlhttp"),pu(c,p),c.m&&c.o&&Lm(p,c.m,c.o),c.L&&(c.g.I=c.L);var v=c.g;c=c.ia,v.L=1,v.v=Ud(Ri(p)),v.m=null,v.P=!0,at(v,c)}t.Za=function(){this.C!=null&&(this.C=null,zd(this),Fm(this),jt(19))};function Hd(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function vw(c,p){var v=null;if(c.g==p){Hd(c),Vm(c),c.g=null;var P=2}else if(Le(c.h,p))v=p.D,_n(c.h,p),P=1;else return;if(c.G!=0){if(p.o)if(P==1){v=p.m?p.m.length:0,p=Date.now()-p.F;var j=c.B;P=Ia(),$e(P,new mo(P,v)),Wd(c)}else yw(c);else if(j=p.s,j==3||j==0&&0<p.X||!(P==1&&RO(c,p)||P==2&&Fm(c)))switch(v&&0<v.length&&(p=c.h,p.i=p.i.concat(v)),j){case 1:wo(c,5);break;case 4:wo(c,10);break;case 3:wo(c,6);break;default:wo(c,2)}}}function Ew(c,p){let v=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(v*=2),v*p}function wo(c,p){if(c.j.info("Error code "+p),p==2){var v=f(c.fb,c),P=c.Xa;const j=!P;P=new Eo(P||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Fd(P,"https"),Ud(P),j?vO(P.toString(),v):EO(P.toString(),v)}else jt(2);c.G=0,c.l&&c.l.sa(p),ww(c),pw(c)}t.fb=function(c){c?(this.j.info("Successfully pinged google.com"),jt(2)):(this.j.info("Failed to ping google.com"),jt(1))};function ww(c){if(c.G=0,c.ka=[],c.l){const p=gt(c.h);(p.length!=0||c.i.length!=0)&&(S(c.ka,p),S(c.ka,c.i),c.h.i.length=0,E(c.i),c.i.length=0),c.l.ra()}}function Tw(c,p,v){var P=v instanceof Eo?Ri(v):new Eo(v);if(P.g!="")p&&(P.g=p+"."+P.g),Vd(P,P.s);else{var j=a.location;P=j.protocol,p=p?p+"."+j.hostname:j.hostname,j=+j.port;var z=new Eo(null);P&&Fd(z,P),p&&(z.g=p),j&&Vd(z,j),v&&(z.l=v),P=z}return v=c.D,p=c.ya,v&&p&&yt(P,v,p),yt(P,"VER",c.la),pu(c,P),P}function Sw(c,p,v){if(p&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return p=c.Ca&&!c.pa?new Ot(new jd({eb:v})):new Ot(c.pa),p.Ha(c.J),p}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Iw(){}t=Iw.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function qd(){}qd.prototype.g=function(c,p){return new ar(c,p)};function ar(c,p){Ue.call(this),this.g=new fw(p),this.l=c,this.h=p&&p.messageUrlParams||null,c=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(c?c["X-WebChannel-Content-Type"]=p.messageContentType:c={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.va&&(c?c["X-WebChannel-Client-Profile"]=p.va:c={"X-WebChannel-Client-Profile":p.va}),this.g.S=c,(c=p&&p.Sb)&&!_(c)&&(this.g.m=c),this.v=p&&p.supportsCrossDomainXhr||!1,this.u=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!_(p)&&(this.g.D=p,c=this.h,c!==null&&p in c&&(c=this.h,p in c&&delete c[p])),this.j=new Ra(this)}y(ar,Ue),ar.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},ar.prototype.close=function(){Mm(this.g)},ar.prototype.o=function(c){var p=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.u&&(v={},v.__data__=Fn(c),c=v);p.i.push(new Vr(p.Ya++,c)),p.G==3&&Wd(p)},ar.prototype.N=function(){this.g.l=null,delete this.j,Mm(this.g),delete this.g,ar.aa.N.call(this)};function Cw(c){Ta.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var p=c.__sm__;if(p){e:{for(const v in p){c=v;break e}c=void 0}(this.i=c)&&(c=this.i,p=p!==null&&c in p?p[c]:void 0),this.data=p}else this.data=c}y(Cw,Ta);function Rw(){fo.call(this),this.status=1}y(Rw,fo);function Ra(c){this.g=c}y(Ra,Iw),Ra.prototype.ua=function(){$e(this.g,"a")},Ra.prototype.ta=function(c){$e(this.g,new Cw(c))},Ra.prototype.sa=function(c){$e(this.g,new Rw)},Ra.prototype.ra=function(){$e(this.g,"b")},qd.prototype.createWebChannel=qd.prototype.g,ar.prototype.send=ar.prototype.o,ar.prototype.open=ar.prototype.m,ar.prototype.close=ar.prototype.close,qb=function(){return new qd},Hb=function(){return Ia()},Wb=Sr,l_={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},de.NO_ERROR=0,de.TIMEOUT=8,de.HTTP_ERROR=6,Qh=de,be.COMPLETE="complete",zb=be,su.EventType=ai,ai.OPEN="a",ai.CLOSE="b",ai.ERROR="c",ai.MESSAGE="d",Ue.prototype.listen=Ue.prototype.K,Bu=su,Ot.prototype.listenOnce=Ot.prototype.L,Ot.prototype.getLastError=Ot.prototype.Ka,Ot.prototype.getLastErrorCode=Ot.prototype.Ba,Ot.prototype.getStatus=Ot.prototype.Z,Ot.prototype.getResponseJson=Ot.prototype.Oa,Ot.prototype.getResponseText=Ot.prototype.oa,Ot.prototype.send=Ot.prototype.ea,Ot.prototype.setWithCredentials=Ot.prototype.Ha,Bb=Ot}).apply(typeof gh<"u"?gh:typeof self<"u"?self:typeof window<"u"?window:{});const BS="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class In{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}In.UNAUTHENTICATED=new In(null),In.GOOGLE_CREDENTIALS=new In("google-credentials-uid"),In.FIRST_PARTY=new In("first-party-uid"),In.MOCK_USER=new In("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Hl="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jo=new Bp("@firebase/firestore");function Au(){return Jo.logLevel}function we(t,...e){if(Jo.logLevel<=He.DEBUG){const n=e.map(C0);Jo.debug(`Firestore (${Hl}): ${t}`,...n)}}function es(t,...e){if(Jo.logLevel<=He.ERROR){const n=e.map(C0);Jo.error(`Firestore (${Hl}): ${t}`,...n)}}function Cl(t,...e){if(Jo.logLevel<=He.WARN){const n=e.map(C0);Jo.warn(`Firestore (${Hl}): ${t}`,...n)}}function C0(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function De(t="Unexpected state"){const e=`FIRESTORE (${Hl}) INTERNAL ASSERTION FAILED: `+t;throw es(e),new Error(e)}function ot(t,e){t||De()}function Fe(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ye extends Si{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Us{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kb{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class fj{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(In.UNAUTHENTICATED))}shutdown(){}}class pj{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class mj{constructor(e){this.t=e,this.currentUser=In.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){ot(this.o===void 0);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new Us;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Us,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{we("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(we("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Us)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(we("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ot(typeof r.accessToken=="string"),new Kb(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ot(e===null||typeof e=="string"),new In(e)}}class gj{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=In.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class yj{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new gj(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(In.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class _j{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class vj{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){ot(this.o===void 0);const r=s=>{s.error!=null&&we("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,we("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{we("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):we("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ot(typeof n.token=="string"),this.R=n.token,new _j(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ej(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gb{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=Ej(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function nt(t,e){return t<e?-1:t>e?1:0}function Rl(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ye(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ye(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new ye(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ye(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Zt.fromMillis(Date.now())}static fromDate(e){return Zt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Zt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?nt(this.nanoseconds,e.nanoseconds):nt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Me{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Me(e)}static min(){return new Me(new Zt(0,0))}static max(){return new Me(new Zt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jc{constructor(e,n,r){n===void 0?n=0:n>e.length&&De(),r===void 0?r=e.length-n:r>e.length-n&&De(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return jc.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof jc?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Tt extends jc{construct(e,n,r){return new Tt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ye(Y.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Tt(n)}static emptyPath(){return new Tt([])}}const wj=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class dn extends jc{construct(e,n,r){return new dn(e,n,r)}static isValidIdentifier(e){return wj.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),dn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new dn(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new ye(Y.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new ye(Y.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new ye(Y.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new ye(Y.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new dn(n)}static emptyPath(){return new dn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pe{constructor(e){this.path=e}static fromPath(e){return new Pe(Tt.fromString(e))}static fromName(e){return new Pe(Tt.fromString(e).popFirst(5))}static empty(){return new Pe(Tt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Tt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Tt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Pe(new Tt(e.slice()))}}function Tj(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Me.fromTimestamp(r===1e9?new Zt(n+1,0):new Zt(n,r));return new qs(i,Pe.empty(),e)}function Sj(t){return new qs(t.readTime,t.key,-1)}class qs{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new qs(Me.min(),Pe.empty(),-1)}static max(){return new qs(Me.max(),Pe.empty(),-1)}}function Ij(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Pe.comparator(t.documentKey,e.documentKey),n!==0?n:nt(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cj="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Rj{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dd(t){if(t.code!==Y.FAILED_PRECONDITION||t.message!==Cj)throw t;we("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&De(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Z((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof Z?n:Z.resolve(n)}catch(n){return Z.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):Z.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):Z.reject(n)}static resolve(e){return new Z((n,r)=>{n(e)})}static reject(e){return new Z((n,r)=>{r(e)})}static waitFor(e){return new Z((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=Z.resolve(!1);for(const r of e)n=n.next(i=>i?Z.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new Z((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const u=l;n(e[u]).next(d=>{o[u]=d,++a,a===s&&r(o)},d=>i(d))}})}static doWhile(e,n){return new Z((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function Aj(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function hd(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R0{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}R0.oe=-1;function Qp(t){return t==null}function Kf(t){return t===0&&1/t==-1/0}function bj(t){return typeof t=="number"&&Number.isInteger(t)&&!Kf(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zS(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function pa(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Qb(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Gt=class u_{constructor(e,n){this.comparator=e,this.root=n||js.EMPTY}insert(e,n){return new u_(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,js.BLACK,null,null))}remove(e){return new u_(this.comparator,this.root.remove(e,this.comparator).copy(null,null,js.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new yh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new yh(this.root,e,this.comparator,!1)}getReverseIterator(){return new yh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new yh(this.root,e,this.comparator,!0)}},yh=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},js=class Pi{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Pi.RED,this.left=i??Pi.EMPTY,this.right=s??Pi.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Pi(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Pi.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Pi.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Pi.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Pi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw De();const e=this.left.check();if(e!==this.right.check())throw De();return e+(this.isRed()?0:1)}};js.EMPTY=null,js.RED=!0,js.BLACK=!1;js.EMPTY=new class{constructor(){this.size=0}get key(){throw De()}get value(){throw De()}get color(){throw De()}get left(){throw De()}get right(){throw De()}copy(e,n,r,i,s){return this}insert(e,n,r){return new js(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{constructor(e){this.comparator=e,this.data=new Gt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new WS(this.data.getIterator())}getIteratorFrom(e){return new WS(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof fn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new fn(this.comparator);return n.data=e,n}}class WS{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hr{constructor(e){this.fields=e,e.sort(dn.comparator)}static empty(){return new hr([])}unionWith(e){let n=new fn(dn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new hr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Rl(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yb extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new Yb("Invalid base64 string: "+s):s}}(e);return new mn(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new mn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return nt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}mn.EMPTY_BYTE_STRING=new mn("");const Pj=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ks(t){if(ot(!!t),typeof t=="string"){let e=0;const n=Pj.exec(t);if(ot(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Vt(t.seconds),nanos:Vt(t.nanos)}}function Vt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Zo(t){return typeof t=="string"?mn.fromBase64String(t):mn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A0(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function b0(t){const e=t.mapValue.fields.__previous_value__;return A0(e)?b0(e):e}function $c(t){const e=Ks(t.mapValue.fields.__local_write_time__.timestampValue);return new Zt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xj{constructor(e,n,r,i,s,o,a,l,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u}}class Bc{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Bc("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Bc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _h={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function ea(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?A0(t)?4:Nj(t)?9007199254740991:kj(t)?10:11:De()}function wi(t,e){if(t===e)return!0;const n=ea(t);if(n!==ea(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return $c(t).isEqual($c(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=Ks(i.timestampValue),a=Ks(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return Zo(i.bytesValue).isEqual(Zo(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return Vt(i.geoPointValue.latitude)===Vt(s.geoPointValue.latitude)&&Vt(i.geoPointValue.longitude)===Vt(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Vt(i.integerValue)===Vt(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=Vt(i.doubleValue),a=Vt(s.doubleValue);return o===a?Kf(o)===Kf(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Rl(t.arrayValue.values||[],e.arrayValue.values||[],wi);case 10:case 11:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(zS(o)!==zS(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!wi(o[l],a[l])))return!1;return!0}(t,e);default:return De()}}function zc(t,e){return(t.values||[]).find(n=>wi(n,e))!==void 0}function Al(t,e){if(t===e)return 0;const n=ea(t),r=ea(e);if(n!==r)return nt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return nt(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=Vt(s.integerValue||s.doubleValue),l=Vt(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return HS(t.timestampValue,e.timestampValue);case 4:return HS($c(t),$c(e));case 5:return nt(t.stringValue,e.stringValue);case 6:return function(s,o){const a=Zo(s),l=Zo(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let u=0;u<a.length&&u<l.length;u++){const d=nt(a[u],l[u]);if(d!==0)return d}return nt(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=nt(Vt(s.latitude),Vt(o.latitude));return a!==0?a:nt(Vt(s.longitude),Vt(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return qS(t.arrayValue,e.arrayValue);case 10:return function(s,o){var a,l,u,d;const h=s.fields||{},f=o.fields||{},m=(a=h.value)===null||a===void 0?void 0:a.arrayValue,y=(l=f.value)===null||l===void 0?void 0:l.arrayValue,E=nt(((u=m==null?void 0:m.values)===null||u===void 0?void 0:u.length)||0,((d=y==null?void 0:y.values)===null||d===void 0?void 0:d.length)||0);return E!==0?E:qS(m,y)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===_h.mapValue&&o===_h.mapValue)return 0;if(s===_h.mapValue)return 1;if(o===_h.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),u=o.fields||{},d=Object.keys(u);l.sort(),d.sort();for(let h=0;h<l.length&&h<d.length;++h){const f=nt(l[h],d[h]);if(f!==0)return f;const m=Al(a[l[h]],u[d[h]]);if(m!==0)return m}return nt(l.length,d.length)}(t.mapValue,e.mapValue);default:throw De()}}function HS(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return nt(t,e);const n=Ks(t),r=Ks(e),i=nt(n.seconds,r.seconds);return i!==0?i:nt(n.nanos,r.nanos)}function qS(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=Al(n[i],r[i]);if(s)return s}return nt(n.length,r.length)}function bl(t){return c_(t)}function c_(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Ks(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Zo(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Pe.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=c_(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${c_(n.fields[o])}`;return i+"}"}(t.mapValue):De()}function KS(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function d_(t){return!!t&&"integerValue"in t}function P0(t){return!!t&&"arrayValue"in t}function GS(t){return!!t&&"nullValue"in t}function QS(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Yh(t){return!!t&&"mapValue"in t}function kj(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function rc(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return pa(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=rc(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=rc(t.arrayValue.values[n]);return e}return Object.assign({},t)}function Nj(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jn{constructor(e){this.value=e}static empty(){return new Jn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Yh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=rc(n)}setAll(e){let n=dn.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=rc(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Yh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return wi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Yh(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){pa(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Jn(rc(this.value))}}function Xb(t){const e=[];return pa(t.fields,(n,r)=>{const i=new dn([n]);if(Yh(r)){const s=Xb(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new hr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rn{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Rn(e,0,Me.min(),Me.min(),Me.min(),Jn.empty(),0)}static newFoundDocument(e,n,r,i){return new Rn(e,1,n,Me.min(),r,i,0)}static newNoDocument(e,n){return new Rn(e,2,n,Me.min(),Me.min(),Jn.empty(),0)}static newUnknownDocument(e,n){return new Rn(e,3,n,Me.min(),Me.min(),Jn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Me.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Jn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Jn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Me.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Rn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Rn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gf{constructor(e,n){this.position=e,this.inclusive=n}}function YS(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=Pe.comparator(Pe.fromName(o.referenceValue),n.key):r=Al(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function XS(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!wi(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wc{constructor(e,n="asc"){this.field=e,this.dir=n}}function Oj(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jb{}class Ht extends Jb{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new Lj(e,n,r):n==="array-contains"?new Vj(e,r):n==="in"?new Uj(e,r):n==="not-in"?new jj(e,r):n==="array-contains-any"?new $j(e,r):new Ht(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new Mj(e,r):new Fj(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Al(n,this.value)):n!==null&&ea(this.value)===ea(n)&&this.matchesComparison(Al(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return De()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ni extends Jb{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new ni(e,n)}matches(e){return Zb(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function Zb(t){return t.op==="and"}function eP(t){return Dj(t)&&Zb(t)}function Dj(t){for(const e of t.filters)if(e instanceof ni)return!1;return!0}function h_(t){if(t instanceof Ht)return t.field.canonicalString()+t.op.toString()+bl(t.value);if(eP(t))return t.filters.map(e=>h_(e)).join(",");{const e=t.filters.map(n=>h_(n)).join(",");return`${t.op}(${e})`}}function tP(t,e){return t instanceof Ht?function(r,i){return i instanceof Ht&&r.op===i.op&&r.field.isEqual(i.field)&&wi(r.value,i.value)}(t,e):t instanceof ni?function(r,i){return i instanceof ni&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&tP(o,i.filters[a]),!0):!1}(t,e):void De()}function nP(t){return t instanceof Ht?function(n){return`${n.field.canonicalString()} ${n.op} ${bl(n.value)}`}(t):t instanceof ni?function(n){return n.op.toString()+" {"+n.getFilters().map(nP).join(" ,")+"}"}(t):"Filter"}class Lj extends Ht{constructor(e,n,r){super(e,n,r),this.key=Pe.fromName(r.referenceValue)}matches(e){const n=Pe.comparator(e.key,this.key);return this.matchesComparison(n)}}class Mj extends Ht{constructor(e,n){super(e,"in",n),this.keys=rP("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class Fj extends Ht{constructor(e,n){super(e,"not-in",n),this.keys=rP("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function rP(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>Pe.fromName(r.referenceValue))}class Vj extends Ht{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return P0(n)&&zc(n.arrayValue,this.value)}}class Uj extends Ht{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&zc(this.value.arrayValue,n)}}class jj extends Ht{constructor(e,n){super(e,"not-in",n)}matches(e){if(zc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!zc(this.value.arrayValue,n)}}class $j extends Ht{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!P0(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>zc(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bj{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ue=null}}function JS(t,e=null,n=[],r=[],i=null,s=null,o=null){return new Bj(t,e,n,r,i,s,o)}function x0(t){const e=Fe(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>h_(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Qp(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>bl(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>bl(r)).join(",")),e.ue=n}return e.ue}function k0(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Oj(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!tP(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!XS(t.startAt,e.startAt)&&XS(t.endAt,e.endAt)}function f_(t){return Pe.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ql{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function zj(t,e,n,r,i,s,o,a){return new ql(t,e,n,r,i,s,o,a)}function iP(t){return new ql(t)}function ZS(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function sP(t){return t.collectionGroup!==null}function ic(t){const e=Fe(t);if(e.ce===null){e.ce=[];const n=new Set;for(const s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new fn(dn.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new Wc(s,r))}),n.has(dn.keyField().canonicalString())||e.ce.push(new Wc(dn.keyField(),r))}return e.ce}function _i(t){const e=Fe(t);return e.le||(e.le=Wj(e,ic(t))),e.le}function Wj(t,e){if(t.limitType==="F")return JS(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new Wc(i.field,s)});const n=t.endAt?new Gf(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Gf(t.startAt.position,t.startAt.inclusive):null;return JS(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function p_(t,e){const n=t.filters.concat([e]);return new ql(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Qf(t,e,n){return new ql(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Yp(t,e){return k0(_i(t),_i(e))&&t.limitType===e.limitType}function oP(t){return`${x0(_i(t))}|lt:${t.limitType}`}function Ma(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>nP(i)).join(", ")}]`),Qp(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>bl(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>bl(i)).join(",")),`Target(${r})`}(_i(t))}; limitType=${t.limitType})`}function Xp(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):Pe.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of ic(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,l){const u=YS(o,a,l);return o.inclusive?u<=0:u<0}(r.startAt,ic(r),i)||r.endAt&&!function(o,a,l){const u=YS(o,a,l);return o.inclusive?u>=0:u>0}(r.endAt,ic(r),i))}(t,e)}function Hj(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function aP(t){return(e,n)=>{let r=!1;for(const i of ic(t)){const s=qj(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function qj(t,e,n){const r=t.field.isKeyField()?Pe.comparator(e.key,n.key):function(s,o,a){const l=o.data.field(s),u=a.data.field(s);return l!==null&&u!==null?Al(l,u):De()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return De()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kl{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){pa(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return Qb(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kj=new Gt(Pe.comparator);function ts(){return Kj}const lP=new Gt(Pe.comparator);function zu(...t){let e=lP;for(const n of t)e=e.insert(n.key,n);return e}function uP(t){let e=lP;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function No(){return sc()}function cP(){return sc()}function sc(){return new Kl(t=>t.toString(),(t,e)=>t.isEqual(e))}const Gj=new Gt(Pe.comparator),Qj=new fn(Pe.comparator);function qe(...t){let e=Qj;for(const n of t)e=e.add(n);return e}const Yj=new fn(nt);function Xj(){return Yj}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N0(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Kf(e)?"-0":e}}function dP(t){return{integerValue:""+t}}function Jj(t,e){return bj(e)?dP(e):N0(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jp{constructor(){this._=void 0}}function Zj(t,e,n){return t instanceof Yf?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&A0(s)&&(s=b0(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof Pl?fP(t,e):t instanceof Hc?pP(t,e):function(i,s){const o=hP(i,s),a=e1(o)+e1(i.Pe);return d_(o)&&d_(i.Pe)?dP(a):N0(i.serializer,a)}(t,e)}function e3(t,e,n){return t instanceof Pl?fP(t,e):t instanceof Hc?pP(t,e):n}function hP(t,e){return t instanceof Xf?function(r){return d_(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class Yf extends Jp{}class Pl extends Jp{constructor(e){super(),this.elements=e}}function fP(t,e){const n=mP(e);for(const r of t.elements)n.some(i=>wi(i,r))||n.push(r);return{arrayValue:{values:n}}}class Hc extends Jp{constructor(e){super(),this.elements=e}}function pP(t,e){let n=mP(e);for(const r of t.elements)n=n.filter(i=>!wi(i,r));return{arrayValue:{values:n}}}class Xf extends Jp{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function e1(t){return Vt(t.integerValue||t.doubleValue)}function mP(t){return P0(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t3{constructor(e,n){this.field=e,this.transform=n}}function n3(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Pl&&i instanceof Pl||r instanceof Hc&&i instanceof Hc?Rl(r.elements,i.elements,wi):r instanceof Xf&&i instanceof Xf?wi(r.Pe,i.Pe):r instanceof Yf&&i instanceof Yf}(t.transform,e.transform)}class r3{constructor(e,n){this.version=e,this.transformResults=n}}class vi{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new vi}static exists(e){return new vi(void 0,e)}static updateTime(e){return new vi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Xh(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Zp{}function gP(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new _P(t.key,vi.none()):new fd(t.key,t.data,vi.none());{const n=t.data,r=Jn.empty();let i=new fn(dn.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new uo(t.key,r,new hr(i.toArray()),vi.none())}}function i3(t,e,n){t instanceof fd?function(i,s,o){const a=i.value.clone(),l=n1(i.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof uo?function(i,s,o){if(!Xh(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=n1(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(yP(i)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function oc(t,e,n,r){return t instanceof fd?function(s,o,a,l){if(!Xh(s.precondition,o))return a;const u=s.value.clone(),d=r1(s.fieldTransforms,l,o);return u.setAll(d),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof uo?function(s,o,a,l){if(!Xh(s.precondition,o))return a;const u=r1(s.fieldTransforms,l,o),d=o.data;return d.setAll(yP(s)),d.setAll(u),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(h=>h.field))}(t,e,n,r):function(s,o,a){return Xh(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function s3(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=hP(r.transform,i||null);s!=null&&(n===null&&(n=Jn.empty()),n.set(r.field,s))}return n||null}function t1(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Rl(r,i,(s,o)=>n3(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class fd extends Zp{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class uo extends Zp{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function yP(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function n1(t,e,n){const r=new Map;ot(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,e3(o,a,n[i]))}return r}function r1(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,Zj(s,o,e))}return r}class _P extends Zp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class o3 extends Zp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a3{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&i3(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=oc(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=oc(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=cP();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=gP(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(Me.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),qe())}isEqual(e){return this.batchId===e.batchId&&Rl(this.mutations,e.mutations,(n,r)=>t1(n,r))&&Rl(this.baseMutations,e.baseMutations,(n,r)=>t1(n,r))}}class O0{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){ot(e.mutations.length===r.length);let i=function(){return Gj}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new O0(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l3{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u3{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Bt,Ye;function c3(t){switch(t){default:return De();case Y.CANCELLED:case Y.UNKNOWN:case Y.DEADLINE_EXCEEDED:case Y.RESOURCE_EXHAUSTED:case Y.INTERNAL:case Y.UNAVAILABLE:case Y.UNAUTHENTICATED:return!1;case Y.INVALID_ARGUMENT:case Y.NOT_FOUND:case Y.ALREADY_EXISTS:case Y.PERMISSION_DENIED:case Y.FAILED_PRECONDITION:case Y.ABORTED:case Y.OUT_OF_RANGE:case Y.UNIMPLEMENTED:case Y.DATA_LOSS:return!0}}function vP(t){if(t===void 0)return es("GRPC error has no .code"),Y.UNKNOWN;switch(t){case Bt.OK:return Y.OK;case Bt.CANCELLED:return Y.CANCELLED;case Bt.UNKNOWN:return Y.UNKNOWN;case Bt.DEADLINE_EXCEEDED:return Y.DEADLINE_EXCEEDED;case Bt.RESOURCE_EXHAUSTED:return Y.RESOURCE_EXHAUSTED;case Bt.INTERNAL:return Y.INTERNAL;case Bt.UNAVAILABLE:return Y.UNAVAILABLE;case Bt.UNAUTHENTICATED:return Y.UNAUTHENTICATED;case Bt.INVALID_ARGUMENT:return Y.INVALID_ARGUMENT;case Bt.NOT_FOUND:return Y.NOT_FOUND;case Bt.ALREADY_EXISTS:return Y.ALREADY_EXISTS;case Bt.PERMISSION_DENIED:return Y.PERMISSION_DENIED;case Bt.FAILED_PRECONDITION:return Y.FAILED_PRECONDITION;case Bt.ABORTED:return Y.ABORTED;case Bt.OUT_OF_RANGE:return Y.OUT_OF_RANGE;case Bt.UNIMPLEMENTED:return Y.UNIMPLEMENTED;case Bt.DATA_LOSS:return Y.DATA_LOSS;default:return De()}}(Ye=Bt||(Bt={}))[Ye.OK=0]="OK",Ye[Ye.CANCELLED=1]="CANCELLED",Ye[Ye.UNKNOWN=2]="UNKNOWN",Ye[Ye.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ye[Ye.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ye[Ye.NOT_FOUND=5]="NOT_FOUND",Ye[Ye.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ye[Ye.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ye[Ye.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ye[Ye.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ye[Ye.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ye[Ye.ABORTED=10]="ABORTED",Ye[Ye.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ye[Ye.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ye[Ye.INTERNAL=13]="INTERNAL",Ye[Ye.UNAVAILABLE=14]="UNAVAILABLE",Ye[Ye.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d3(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h3=new jo([4294967295,4294967295],0);function i1(t){const e=d3().encode(t),n=new $b;return n.update(e),new Uint8Array(n.digest())}function s1(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new jo([n,r],0),new jo([i,s],0)]}class D0{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Wu(`Invalid padding: ${n}`);if(r<0)throw new Wu(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Wu(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Wu(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=jo.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(jo.fromNumber(r)));return i.compare(h3)===1&&(i=new jo([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=i1(e),[r,i]=s1(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);if(!this.de(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new D0(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ie===0)return;const n=i1(e),[r,i]=s1(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);this.Ae(o)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Wu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class em{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,pd.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new em(Me.min(),i,new Gt(nt),ts(),qe())}}class pd{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new pd(r,n,qe(),qe(),qe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jh{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class EP{constructor(e,n){this.targetId=e,this.me=n}}class wP{constructor(e,n,r=mn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class o1{constructor(){this.fe=0,this.ge=l1(),this.pe=mn.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=qe(),n=qe(),r=qe();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:De()}}),new pd(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=l1()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,ot(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class f3{constructor(e){this.Le=e,this.Be=new Map,this.ke=ts(),this.qe=a1(),this.Qe=new Gt(nt)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:De()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const s=i.target;if(f_(s))if(r===0){const o=new Pe(s.path);this.Ue(n,o,Rn.newNoDocument(o,Me.min()))}else ot(r===1);else{const o=this.Ye(n);if(o!==r){const a=this.Ze(e),l=a?this.Xe(a,e,o):1;if(l!==0){this.je(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,u)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=Zo(r).toUint8Array()}catch(l){if(l instanceof Yb)return Cl("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new D0(o,i,s)}catch(l){return Cl(l instanceof Wu?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,s,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((s,o)=>{const a=this.Je(o);if(a){if(s.current&&f_(a.target)){const l=new Pe(a.target.path);this.ke.get(l)!==null||this.it(o,l)||this.Ue(o,l,Rn.newNoDocument(l,e))}s.be&&(n.set(o,s.ve()),s.Ce())}});let r=qe();this.qe.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const u=this.Je(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));const i=new em(e,n,this.Qe,this.ke,r);return this.ke=ts(),this.qe=a1(),this.Qe=new Gt(nt),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new o1,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new fn(nt),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||we("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new o1),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function a1(){return new Gt(Pe.comparator)}function l1(){return new Gt(Pe.comparator)}const p3={asc:"ASCENDING",desc:"DESCENDING"},m3={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},g3={and:"AND",or:"OR"};class y3{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function m_(t,e){return t.useProto3Json||Qp(e)?e:{value:e}}function Jf(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function TP(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function _3(t,e){return Jf(t,e.toTimestamp())}function Ei(t){return ot(!!t),Me.fromTimestamp(function(n){const r=Ks(n);return new Zt(r.seconds,r.nanos)}(t))}function L0(t,e){return g_(t,e).canonicalString()}function g_(t,e){const n=function(i){return new Tt(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function SP(t){const e=Tt.fromString(t);return ot(bP(e)),e}function y_(t,e){return L0(t.databaseId,e.path)}function Rg(t,e){const n=SP(e);if(n.get(1)!==t.databaseId.projectId)throw new ye(Y.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ye(Y.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Pe(CP(n))}function IP(t,e){return L0(t.databaseId,e)}function v3(t){const e=SP(t);return e.length===4?Tt.emptyPath():CP(e)}function __(t){return new Tt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function CP(t){return ot(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function u1(t,e,n){return{name:y_(t,e),fields:n.value.mapValue.fields}}function E3(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:De()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(u,d){return u.useProto3Json?(ot(d===void 0||typeof d=="string"),mn.fromBase64String(d||"")):(ot(d===void 0||d instanceof Buffer||d instanceof Uint8Array),mn.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const d=u.code===void 0?Y.UNKNOWN:vP(u.code);return new ye(d,u.message||"")}(o);n=new wP(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Rg(t,r.document.name),s=Ei(r.document.updateTime),o=r.document.createTime?Ei(r.document.createTime):Me.min(),a=new Jn({mapValue:{fields:r.document.fields}}),l=Rn.newFoundDocument(i,s,o,a),u=r.targetIds||[],d=r.removedTargetIds||[];n=new Jh(u,d,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Rg(t,r.document),s=r.readTime?Ei(r.readTime):Me.min(),o=Rn.newNoDocument(i,s),a=r.removedTargetIds||[];n=new Jh([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Rg(t,r.document),s=r.removedTargetIds||[];n=new Jh([],s,i,null)}else{if(!("filter"in e))return De();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new u3(i,s),a=r.targetId;n=new EP(a,o)}}return n}function w3(t,e){let n;if(e instanceof fd)n={update:u1(t,e.key,e.value)};else if(e instanceof _P)n={delete:y_(t,e.key)};else if(e instanceof uo)n={update:u1(t,e.key,e.data),updateMask:x3(e.fieldMask)};else{if(!(e instanceof o3))return De();n={verify:y_(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof Yf)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Pl)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Hc)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Xf)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw De()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:_3(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:De()}(t,e.precondition)),n}function T3(t,e){return t&&t.length>0?(ot(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?Ei(i.updateTime):Ei(s);return o.isEqual(Me.min())&&(o=Ei(s)),new r3(o,i.transformResults||[])}(n,e))):[]}function S3(t,e){return{documents:[IP(t,e.path)]}}function I3(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=IP(t,i);const s=function(u){if(u.length!==0)return AP(ni.create(u,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(u){if(u.length!==0)return u.map(d=>function(f){return{field:Fa(f.field),direction:A3(f.dir)}}(d))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=m_(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{_t:n,parent:i}}function C3(t){let e=v3(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){ot(r===1);const d=n.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let s=[];n.where&&(s=function(h){const f=RP(h);return f instanceof ni&&eP(f)?f.getFilters():[f]}(n.where));let o=[];n.orderBy&&(o=function(h){return h.map(f=>function(y){return new Wc(Va(y.field),function(S){switch(S){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(y.direction))}(f))}(n.orderBy));let a=null;n.limit&&(a=function(h){let f;return f=typeof h=="object"?h.value:h,Qp(f)?null:f}(n.limit));let l=null;n.startAt&&(l=function(h){const f=!!h.before,m=h.values||[];return new Gf(m,f)}(n.startAt));let u=null;return n.endAt&&(u=function(h){const f=!h.before,m=h.values||[];return new Gf(m,f)}(n.endAt)),zj(e,i,o,s,a,"F",l,u)}function R3(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return De()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function RP(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Va(n.unaryFilter.field);return Ht.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Va(n.unaryFilter.field);return Ht.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Va(n.unaryFilter.field);return Ht.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Va(n.unaryFilter.field);return Ht.create(o,"!=",{nullValue:"NULL_VALUE"});default:return De()}}(t):t.fieldFilter!==void 0?function(n){return Ht.create(Va(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return De()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return ni.create(n.compositeFilter.filters.map(r=>RP(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return De()}}(n.compositeFilter.op))}(t):De()}function A3(t){return p3[t]}function b3(t){return m3[t]}function P3(t){return g3[t]}function Fa(t){return{fieldPath:t.canonicalString()}}function Va(t){return dn.fromServerFormat(t.fieldPath)}function AP(t){return t instanceof Ht?function(n){if(n.op==="=="){if(QS(n.value))return{unaryFilter:{field:Fa(n.field),op:"IS_NAN"}};if(GS(n.value))return{unaryFilter:{field:Fa(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(QS(n.value))return{unaryFilter:{field:Fa(n.field),op:"IS_NOT_NAN"}};if(GS(n.value))return{unaryFilter:{field:Fa(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Fa(n.field),op:b3(n.op),value:n.value}}}(t):t instanceof ni?function(n){const r=n.getFilters().map(i=>AP(i));return r.length===1?r[0]:{compositeFilter:{op:P3(n.op),filters:r}}}(t):De()}function x3(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function bP(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bs{constructor(e,n,r,i,s=Me.min(),o=Me.min(),a=mn.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new bs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new bs(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new bs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new bs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k3{constructor(e){this.ct=e}}function N3(t){const e=C3({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Qf(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O3{constructor(){this.un=new D3}addToCollectionParentIndex(e,n){return this.un.add(n),Z.resolve()}getCollectionParents(e,n){return Z.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return Z.resolve()}deleteFieldIndex(e,n){return Z.resolve()}deleteAllFieldIndexes(e){return Z.resolve()}createTargetIndexes(e,n){return Z.resolve()}getDocumentsMatchingTarget(e,n){return Z.resolve(null)}getIndexType(e,n){return Z.resolve(0)}getFieldIndexes(e,n){return Z.resolve([])}getNextCollectionGroupToUpdate(e){return Z.resolve(null)}getMinOffset(e,n){return Z.resolve(qs.min())}getMinOffsetFromCollectionGroup(e,n){return Z.resolve(qs.min())}updateCollectionGroup(e,n,r){return Z.resolve()}updateIndexEntries(e,n){return Z.resolve()}}class D3{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new fn(Tt.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new fn(Tt.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xl{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new xl(0)}static kn(){return new xl(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L3{constructor(){this.changes=new Kl(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Rn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?Z.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M3{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F3{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&oc(r.mutation,i,hr.empty(),Zt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,qe()).next(()=>r))}getLocalViewOfDocuments(e,n,r=qe()){const i=No();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=zu();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=No();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,qe()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=ts();const o=sc(),a=function(){return sc()}();return n.forEach((l,u)=>{const d=r.get(u.key);i.has(u.key)&&(d===void 0||d.mutation instanceof uo)?s=s.insert(u.key,u):d!==void 0?(o.set(u.key,d.mutation.getFieldMask()),oc(d.mutation,u,d.mutation.getFieldMask(),Zt.now())):o.set(u.key,hr.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((u,d)=>o.set(u,d)),n.forEach((u,d)=>{var h;return a.set(u,new M3(d,(h=o.get(u))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(e,n){const r=sc();let i=new Gt((o,a)=>o-a),s=qe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let d=r.get(l)||hr.empty();d=a.applyToLocalView(u,d),r.set(l,d);const h=(i.get(a.batchId)||qe()).add(l);i=i.insert(a.batchId,h)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,d=l.value,h=cP();d.forEach(f=>{if(!s.has(f)){const m=gP(n.get(f),r.get(f));m!==null&&h.set(f,m),s=s.add(f)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,h))}return Z.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return Pe.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):sP(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):Z.resolve(No());let a=-1,l=s;return o.next(u=>Z.forEach(u,(d,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),s.get(d)?Z.resolve():this.remoteDocumentCache.getEntry(e,d).next(f=>{l=l.insert(d,f)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,l,u,qe())).next(d=>({batchId:a,changes:uP(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Pe(n)).next(r=>{let i=zu();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=zu();return this.indexManager.getCollectionParents(e,s).next(a=>Z.forEach(a,l=>{const u=function(h,f){return new ql(f,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(d=>{d.forEach((h,f)=>{o=o.insert(h,f)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((l,u)=>{const d=u.getKey();o.get(d)===null&&(o=o.insert(d,Rn.newInvalidDocument(d)))});let a=zu();return o.forEach((l,u)=>{const d=s.get(l);d!==void 0&&oc(d.mutation,u,hr.empty(),Zt.now()),Xp(n,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V3{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return Z.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Ei(i.createTime)}}(n)),Z.resolve()}getNamedQuery(e,n){return Z.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:N3(i.bundledQuery),readTime:Ei(i.readTime)}}(n)),Z.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U3{constructor(){this.overlays=new Gt(Pe.comparator),this.Ir=new Map}getOverlay(e,n){return Z.resolve(this.overlays.get(n))}getOverlays(e,n){const r=No();return Z.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),Z.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Ir.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(r)),Z.resolve()}getOverlaysForCollection(e,n,r){const i=No(),s=n.length+1,o=new Pe(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return Z.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Gt((u,d)=>u-d);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let d=s.get(u.largestBatchId);d===null&&(d=No(),s=s.insert(u.largestBatchId,d)),d.set(u.getKey(),u)}}const a=No(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,d)=>a.set(u,d)),!(a.size()>=i)););return Z.resolve(a)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new l3(n,r));let s=this.Ir.get(n);s===void 0&&(s=qe(),this.Ir.set(n,s)),this.Ir.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j3{constructor(){this.sessionToken=mn.EMPTY_BYTE_STRING}getSessionToken(e){return Z.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,Z.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M0{constructor(){this.Tr=new fn(tn.Er),this.dr=new fn(tn.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new tn(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new tn(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new Pe(new Tt([])),r=new tn(n,e),i=new tn(n,e+1),s=[];return this.dr.forEachInRange([r,i],o=>{this.Vr(o),s.push(o.key)}),s}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new Pe(new Tt([])),r=new tn(n,e),i=new tn(n,e+1);let s=qe();return this.dr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new tn(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class tn{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return Pe.comparator(e.key,n.key)||nt(e.wr,n.wr)}static Ar(e,n){return nt(e.wr,n.wr)||Pe.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $3{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new fn(tn.Er)}checkEmpty(e){return Z.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new a3(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.br=this.br.add(new tn(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return Z.resolve(o)}lookupMutationBatch(e,n){return Z.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.vr(r),s=i<0?0:i;return Z.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return Z.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return Z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new tn(n,0),i=new tn(n,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([r,i],o=>{const a=this.Dr(o.wr);s.push(a)}),Z.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new fn(nt);return n.forEach(i=>{const s=new tn(i,0),o=new tn(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,o],a=>{r=r.add(a.wr)})}),Z.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;Pe.isDocumentKey(s)||(s=s.child(""));const o=new tn(new Pe(s),0);let a=new fn(nt);return this.br.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.wr)),!0)},o),Z.resolve(this.Cr(a))}Cr(e){const n=[];return e.forEach(r=>{const i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){ot(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return Z.forEach(n.mutations,i=>{const s=new tn(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new tn(n,0),i=this.br.firstAfterOrEqual(r);return Z.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,Z.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B3{constructor(e){this.Mr=e,this.docs=function(){return new Gt(Pe.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return Z.resolve(r?r.document.mutableCopy():Rn.newInvalidDocument(n))}getEntries(e,n){let r=ts();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Rn.newInvalidDocument(i))}),Z.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=ts();const o=n.path,a=new Pe(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:d}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||Ij(Sj(d),r)<=0||(i.has(d.key)||Xp(n,d))&&(s=s.insert(d.key,d.mutableCopy()))}return Z.resolve(s)}getAllFromCollectionGroup(e,n,r,i){De()}Or(e,n){return Z.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new z3(this)}getSize(e){return Z.resolve(this.size)}}class z3 extends L3{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),Z.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W3{constructor(e){this.persistence=e,this.Nr=new Kl(n=>x0(n),k0),this.lastRemoteSnapshotVersion=Me.min(),this.highestTargetId=0,this.Lr=0,this.Br=new M0,this.targetCount=0,this.kr=xl.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),Z.resolve()}getLastRemoteSnapshotVersion(e){return Z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Z.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),Z.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),Z.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new xl(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,Z.resolve()}updateTargetData(e,n){return this.Kn(n),Z.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,Z.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Nr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Nr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),Z.waitFor(s).next(()=>i)}getTargetCount(e){return Z.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return Z.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),Z.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),Z.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),Z.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return Z.resolve(r)}containsKey(e,n){return Z.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H3{constructor(e,n){this.qr={},this.overlays={},this.Qr=new R0(0),this.Kr=!1,this.Kr=!0,this.$r=new j3,this.referenceDelegate=e(this),this.Ur=new W3(this),this.indexManager=new O3,this.remoteDocumentCache=function(i){return new B3(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new k3(n),this.Gr=new V3(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new U3,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new $3(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){we("MemoryPersistence","Starting transaction:",e);const i=new q3(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(s=>this.referenceDelegate.jr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Hr(e,n){return Z.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class q3 extends Rj{constructor(e){super(),this.currentSequenceNumber=e}}class F0{constructor(e){this.persistence=e,this.Jr=new M0,this.Yr=null}static Zr(e){return new F0(e)}get Xr(){if(this.Yr)return this.Yr;throw De()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),Z.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),Z.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),Z.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Xr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Z.forEach(this.Xr,r=>{const i=Pe.fromPath(r);return this.ei(e,i).next(s=>{s||n.removeEntry(i,Me.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return Z.or([()=>Z.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V0{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=qe(),i=qe();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new V0(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K3{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G3{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return yF()?8:Aj(On())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.Yi(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Zi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new K3;return this.Xi(e,n,o).next(a=>{if(s.result=a,this.zi)return this.es(e,n,o,a.size)})}).next(()=>s.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(Au()<=He.DEBUG&&we("QueryEngine","SDK will not create cache indexes for query:",Ma(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),Z.resolve()):(Au()<=He.DEBUG&&we("QueryEngine","Query:",Ma(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(Au()<=He.DEBUG&&we("QueryEngine","The SDK decides to create cache indexes for query:",Ma(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,_i(n))):Z.resolve())}Yi(e,n){if(ZS(n))return Z.resolve(null);let r=_i(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Qf(n,null,"F"),r=_i(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=qe(...s);return this.Ji.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.ts(n,a);return this.ns(n,u,o,l.readTime)?this.Yi(e,Qf(n,null,"F")):this.rs(e,u,n,l)}))})))}Zi(e,n,r,i){return ZS(n)||i.isEqual(Me.min())?Z.resolve(null):this.Ji.getDocuments(e,r).next(s=>{const o=this.ts(n,s);return this.ns(n,o,r,i)?Z.resolve(null):(Au()<=He.DEBUG&&we("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Ma(n)),this.rs(e,o,n,Tj(i,-1)).next(a=>a))})}ts(e,n){let r=new fn(aP(e));return n.forEach((i,s)=>{Xp(e,s)&&(r=r.add(s))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Xi(e,n,r){return Au()<=He.DEBUG&&we("QueryEngine","Using full collection scan to execute query:",Ma(n)),this.Ji.getDocumentsMatchingQuery(e,n,qs.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q3{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new Gt(nt),this._s=new Kl(s=>x0(s),k0),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new F3(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function Y3(t,e,n,r){return new Q3(t,e,n,r)}async function PP(t,e){const n=Fe(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=qe();for(const u of i){o.push(u.batchId);for(const d of u.mutations)l=l.add(d.key)}for(const u of s){a.push(u.batchId);for(const d of u.mutations)l=l.add(d.key)}return n.localDocuments.getDocuments(r,l).next(u=>({hs:u,removedBatchIds:o,addedBatchIds:a}))})})}function X3(t,e){const n=Fe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.cs.newChangeBuffer({trackRemovals:!0});return function(a,l,u,d){const h=u.batch,f=h.keys();let m=Z.resolve();return f.forEach(y=>{m=m.next(()=>d.getEntry(l,y)).next(E=>{const S=u.docVersions.get(y);ot(S!==null),E.version.compareTo(S)<0&&(h.applyToRemoteDocument(E,u),E.isValidDocument()&&(E.setReadTime(u.commitVersion),d.addEntry(E)))})}),m.next(()=>a.mutationQueue.removeMutationBatch(l,h))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=qe();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function xP(t){const e=Fe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function J3(t,e){const n=Fe(t),r=e.snapshotVersion;let i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;const a=[];e.targetChanges.forEach((d,h)=>{const f=i.get(h);if(!f)return;a.push(n.Ur.removeMatchingKeys(s,d.removedDocuments,h).next(()=>n.Ur.addMatchingKeys(s,d.addedDocuments,h)));let m=f.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(h)!==null?m=m.withResumeToken(mn.EMPTY_BYTE_STRING,Me.min()).withLastLimboFreeSnapshotVersion(Me.min()):d.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(d.resumeToken,r)),i=i.insert(h,m),function(E,S,T){return E.resumeToken.approximateByteSize()===0||S.snapshotVersion.toMicroseconds()-E.snapshotVersion.toMicroseconds()>=3e8?!0:T.addedDocuments.size+T.modifiedDocuments.size+T.removedDocuments.size>0}(f,m,d)&&a.push(n.Ur.updateTargetData(s,m))});let l=ts(),u=qe();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,d))}),a.push(Z3(s,o,e.documentUpdates).next(d=>{l=d.Ps,u=d.Is})),!r.isEqual(Me.min())){const d=n.Ur.getLastRemoteSnapshotVersion(s).next(h=>n.Ur.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(d)}return Z.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,u)).next(()=>l)}).then(s=>(n.os=i,s))}function Z3(t,e,n){let r=qe(),i=qe();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=ts();return n.forEach((a,l)=>{const u=s.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(Me.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):we("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{Ps:o,Is:i}})}function e6(t,e){const n=Fe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function t6(t,e){const n=Fe(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(s=>s?(i=s,Z.resolve(i)):n.Ur.allocateTargetId(r).next(o=>(i=new bs(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function v_(t,e,n){const r=Fe(t),i=r.os.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!hd(o))throw o;we("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.os=r.os.remove(e),r._s.delete(i.target)}function c1(t,e,n){const r=Fe(t);let i=Me.min(),s=qe();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,u,d){const h=Fe(l),f=h._s.get(d);return f!==void 0?Z.resolve(h.os.get(f)):h.Ur.getTargetData(u,d)}(r,o,_i(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.ss.getDocumentsMatchingQuery(o,e,n?i:Me.min(),n?s:qe())).next(a=>(n6(r,Hj(e),a),{documents:a,Ts:s})))}function n6(t,e,n){let r=t.us.get(e)||Me.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.us.set(e,r)}class d1{constructor(){this.activeTargetIds=Xj()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class r6{constructor(){this.so=new d1,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new d1,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i6{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h1{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){we("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){we("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vh=null;function Ag(){return vh===null?vh=function(){return 268435456+Math.round(2147483648*Math.random())}():vh++,"0x"+vh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s6={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o6{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sn="WebChannelConnection";class a6 extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Fo(){return!1}Mo(n,r,i,s,o){const a=Ag(),l=this.xo(n,r.toUriEncodedString());we("RestConnection",`Sending RPC '${n}' ${a}:`,l,i);const u={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(u,s,o),this.No(n,l,u,i).then(d=>(we("RestConnection",`Received RPC '${n}' ${a}: `,d),d),d=>{throw Cl("RestConnection",`RPC '${n}' ${a} failed with error: `,d,"url: ",l,"request:",i),d})}Lo(n,r,i,s,o,a){return this.Mo(n,r,i,s,o)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Hl}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}xo(n,r){const i=s6[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){const s=Ag();return new Promise((o,a)=>{const l=new Bb;l.setWithCredentials(!0),l.listenOnce(zb.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Qh.NO_ERROR:const d=l.getResponseJson();we(Sn,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(d)),o(d);break;case Qh.TIMEOUT:we(Sn,`RPC '${e}' ${s} timed out`),a(new ye(Y.DEADLINE_EXCEEDED,"Request time out"));break;case Qh.HTTP_ERROR:const h=l.getStatus();if(we(Sn,`RPC '${e}' ${s} failed with status:`,h,"response text:",l.getResponseText()),h>0){let f=l.getResponseJson();Array.isArray(f)&&(f=f[0]);const m=f==null?void 0:f.error;if(m&&m.status&&m.message){const y=function(S){const T=S.toLowerCase().replace(/_/g,"-");return Object.values(Y).indexOf(T)>=0?T:Y.UNKNOWN}(m.status);a(new ye(y,m.message))}else a(new ye(Y.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new ye(Y.UNAVAILABLE,"Connection failed."));break;default:De()}}finally{we(Sn,`RPC '${e}' ${s} completed.`)}});const u=JSON.stringify(i);we(Sn,`RPC '${e}' ${s} sending request:`,i),l.send(n,"POST",u,r,15)})}Bo(e,n,r){const i=Ag(),s=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=qb(),a=Hb(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Oo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const d=s.join("");we(Sn,`Creating RPC '${e}' stream ${i}: ${d}`,l);const h=o.createWebChannel(d,l);let f=!1,m=!1;const y=new o6({Io:S=>{m?we(Sn,`Not sending because RPC '${e}' stream ${i} is closed:`,S):(f||(we(Sn,`Opening RPC '${e}' stream ${i} transport.`),h.open(),f=!0),we(Sn,`RPC '${e}' stream ${i} sending:`,S),h.send(S))},To:()=>h.close()}),E=(S,T,_)=>{S.listen(T,w=>{try{_(w)}catch(A){setTimeout(()=>{throw A},0)}})};return E(h,Bu.EventType.OPEN,()=>{m||(we(Sn,`RPC '${e}' stream ${i} transport opened.`),y.yo())}),E(h,Bu.EventType.CLOSE,()=>{m||(m=!0,we(Sn,`RPC '${e}' stream ${i} transport closed`),y.So())}),E(h,Bu.EventType.ERROR,S=>{m||(m=!0,Cl(Sn,`RPC '${e}' stream ${i} transport errored:`,S),y.So(new ye(Y.UNAVAILABLE,"The operation could not be completed")))}),E(h,Bu.EventType.MESSAGE,S=>{var T;if(!m){const _=S.data[0];ot(!!_);const w=_,A=w.error||((T=w[0])===null||T===void 0?void 0:T.error);if(A){we(Sn,`RPC '${e}' stream ${i} received error:`,A);const O=A.status;let F=function(C){const b=Bt[C];if(b!==void 0)return vP(b)}(O),R=A.message;F===void 0&&(F=Y.INTERNAL,R="Unknown error status: "+O+" with message "+A.message),m=!0,y.So(new ye(F,R)),h.close()}else we(Sn,`RPC '${e}' stream ${i} received:`,_),y.bo(_)}}),E(a,Wb.STAT_EVENT,S=>{S.stat===l_.PROXY?we(Sn,`RPC '${e}' stream ${i} detected buffering proxy`):S.stat===l_.NOPROXY&&we(Sn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{y.wo()},0),y}}function bg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tm(t){return new y3(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kP{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&we("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NP{constructor(e,n,r,i,s,o,a,l){this.ui=e,this.Ho=r,this.Jo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new kP(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===Y.RESOURCE_EXHAUSTED?(es(n.toString()),es("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===Y.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{const i=new ye(Y.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return we("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(we("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class l6 extends NP{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=E3(this.serializer,e),r=function(s){if(!("targetChange"in s))return Me.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?Me.min():o.readTime?Ei(o.readTime):Me.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=__(this.serializer),n.addTarget=function(s,o){let a;const l=o.target;if(a=f_(l)?{documents:S3(s,l)}:{query:I3(s,l)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=TP(s,o.resumeToken);const u=m_(s,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(Me.min())>0){a.readTime=Jf(s,o.snapshotVersion.toTimestamp());const u=m_(s,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const r=R3(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=__(this.serializer),n.removeTarget=e,this.a_(n)}}class u6 extends NP{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return ot(!!e.streamToken),this.lastStreamToken=e.streamToken,ot(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){ot(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=T3(e.writeResults,e.commitTime),r=Ei(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=__(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>w3(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c6 extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new ye(Y.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Mo(e,g_(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new ye(Y.UNKNOWN,s.toString())})}Lo(e,n,r,i,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Lo(e,g_(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ye(Y.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class d6{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(es(n),this.D_=!1):we("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h6{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(o=>{r.enqueueAndForget(async()=>{ma(this)&&(we("RemoteStore","Restarting streams for network reachability change."),await async function(l){const u=Fe(l);u.L_.add(4),await md(u),u.q_.set("Unknown"),u.L_.delete(4),await nm(u)}(this))})}),this.q_=new d6(r,i)}}async function nm(t){if(ma(t))for(const e of t.B_)await e(!0)}async function md(t){for(const e of t.B_)await e(!1)}function OP(t,e){const n=Fe(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),B0(n)?$0(n):Gl(n).r_()&&j0(n,e))}function U0(t,e){const n=Fe(t),r=Gl(n);n.N_.delete(e),r.r_()&&DP(n,e),n.N_.size===0&&(r.r_()?r.o_():ma(n)&&n.q_.set("Unknown"))}function j0(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Me.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Gl(t).A_(e)}function DP(t,e){t.Q_.xe(e),Gl(t).R_(e)}function $0(t){t.Q_=new f3({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),Gl(t).start(),t.q_.v_()}function B0(t){return ma(t)&&!Gl(t).n_()&&t.N_.size>0}function ma(t){return Fe(t).L_.size===0}function LP(t){t.Q_=void 0}async function f6(t){t.q_.set("Online")}async function p6(t){t.N_.forEach((e,n)=>{j0(t,e)})}async function m6(t,e){LP(t),B0(t)?(t.q_.M_(e),$0(t)):t.q_.set("Unknown")}async function g6(t,e,n){if(t.q_.set("Online"),e instanceof wP&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.N_.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.N_.delete(a),i.Q_.removeTarget(a))}(t,e)}catch(r){we("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Zf(t,r)}else if(e instanceof Jh?t.Q_.Ke(e):e instanceof EP?t.Q_.He(e):t.Q_.We(e),!n.isEqual(Me.min()))try{const r=await xP(t.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.Q_.rt(o);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const d=s.N_.get(u);d&&s.N_.set(u,d.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,u)=>{const d=s.N_.get(l);if(!d)return;s.N_.set(l,d.withResumeToken(mn.EMPTY_BYTE_STRING,d.snapshotVersion)),DP(s,l);const h=new bs(d.target,l,u,d.sequenceNumber);j0(s,h)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){we("RemoteStore","Failed to raise snapshot:",r),await Zf(t,r)}}async function Zf(t,e,n){if(!hd(e))throw e;t.L_.add(1),await md(t),t.q_.set("Offline"),n||(n=()=>xP(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{we("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await nm(t)})}function MP(t,e){return e().catch(n=>Zf(t,n,e))}async function rm(t){const e=Fe(t),n=Gs(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;y6(e);)try{const i=await e6(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,_6(e,i)}catch(i){await Zf(e,i)}FP(e)&&VP(e)}function y6(t){return ma(t)&&t.O_.length<10}function _6(t,e){t.O_.push(e);const n=Gs(t);n.r_()&&n.V_&&n.m_(e.mutations)}function FP(t){return ma(t)&&!Gs(t).n_()&&t.O_.length>0}function VP(t){Gs(t).start()}async function v6(t){Gs(t).p_()}async function E6(t){const e=Gs(t);for(const n of t.O_)e.m_(n.mutations)}async function w6(t,e,n){const r=t.O_.shift(),i=O0.from(r,e,n);await MP(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await rm(t)}async function T6(t,e){e&&Gs(t).V_&&await async function(r,i){if(function(o){return c3(o)&&o!==Y.ABORTED}(i.code)){const s=r.O_.shift();Gs(r).s_(),await MP(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await rm(r)}}(t,e),FP(t)&&VP(t)}async function f1(t,e){const n=Fe(t);n.asyncQueue.verifyOperationInProgress(),we("RemoteStore","RemoteStore received new credentials");const r=ma(n);n.L_.add(3),await md(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await nm(n)}async function S6(t,e){const n=Fe(t);e?(n.L_.delete(2),await nm(n)):e||(n.L_.add(2),await md(n),n.q_.set("Unknown"))}function Gl(t){return t.K_||(t.K_=function(n,r,i){const s=Fe(n);return s.w_(),new l6(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:f6.bind(null,t),Ro:p6.bind(null,t),mo:m6.bind(null,t),d_:g6.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),B0(t)?$0(t):t.q_.set("Unknown")):(await t.K_.stop(),LP(t))})),t.K_}function Gs(t){return t.U_||(t.U_=function(n,r,i){const s=Fe(n);return s.w_(),new u6(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:v6.bind(null,t),mo:T6.bind(null,t),f_:E6.bind(null,t),g_:w6.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await rm(t)):(await t.U_.stop(),t.O_.length>0&&(we("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z0{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Us,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new z0(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ye(Y.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function W0(t,e){if(es("AsyncQueue",`${e}: ${t}`),hd(t))return new ye(Y.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dl{constructor(e){this.comparator=e?(n,r)=>e(n,r)||Pe.comparator(n.key,r.key):(n,r)=>Pe.comparator(n.key,r.key),this.keyedMap=zu(),this.sortedSet=new Gt(this.comparator)}static emptySet(e){return new dl(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof dl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new dl;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p1{constructor(){this.W_=new Gt(Pe.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):De():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class kl{constructor(e,n,r,i,s,o,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new kl(e,n,dl.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Yp(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I6{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class C6{constructor(){this.queries=m1(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const i=Fe(n),s=i.queries;i.queries=m1(),s.forEach((o,a)=>{for(const l of a.j_)l.onError(r)})})(this,new ye(Y.ABORTED,"Firestore shutting down"))}}function m1(){return new Kl(t=>oP(t),Yp)}async function R6(t,e){const n=Fe(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.H_()&&e.J_()&&(r=2):(s=new I6,r=e.J_()?0:1);try{switch(r){case 0:s.z_=await n.onListen(i,!0);break;case 1:s.z_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const a=W0(o,`Initialization of query '${Ma(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.j_.push(e),e.Z_(n.onlineState),s.z_&&e.X_(s.z_)&&H0(n)}async function A6(t,e){const n=Fe(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.j_.indexOf(e);o>=0&&(s.j_.splice(o,1),s.j_.length===0?i=e.J_()?0:1:!s.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function b6(t,e){const n=Fe(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.j_)a.X_(i)&&(r=!0);o.z_=i}}r&&H0(n)}function P6(t,e,n){const r=Fe(t),i=r.queries.get(e);if(i)for(const s of i.j_)s.onError(n);r.queries.delete(e)}function H0(t){t.Y_.forEach(e=>{e.next()})}var E_,g1;(g1=E_||(E_={})).ea="default",g1.Cache="cache";class x6{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new kl(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=kl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==E_.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UP{constructor(e){this.key=e}}class jP{constructor(e){this.key=e}}class k6{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=qe(),this.mutatedKeys=qe(),this.Aa=aP(e),this.Ra=new dl(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new p1,i=n?n.Ra:this.Ra;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((d,h)=>{const f=i.get(d),m=Xp(this.query,h)?h:null,y=!!f&&this.mutatedKeys.has(f.key),E=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations);let S=!1;f&&m?f.data.isEqual(m.data)?y!==E&&(r.track({type:3,doc:m}),S=!0):this.ga(f,m)||(r.track({type:2,doc:m}),S=!0,(l&&this.Aa(m,l)>0||u&&this.Aa(m,u)<0)&&(a=!0)):!f&&m?(r.track({type:0,doc:m}),S=!0):f&&!m&&(r.track({type:1,doc:f}),S=!0,(l||u)&&(a=!0)),S&&(m?(o=o.add(m),s=E?s.add(d):s.delete(d)):(o=o.delete(d),s=s.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),s=s.delete(d.key),r.track({type:1,doc:d})}return{Ra:o,fa:r,ns:a,mutatedKeys:s}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const o=e.fa.G_();o.sort((d,h)=>function(m,y){const E=S=>{switch(S){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return De()}};return E(m)-E(y)}(d.type,h.type)||this.Aa(d.doc,h.doc)),this.pa(r),i=i!=null&&i;const a=n&&!i?this.ya():[],l=this.da.size===0&&this.current&&!i?1:0,u=l!==this.Ea;return this.Ea=l,o.length!==0||u?{snapshot:new kl(this.query,e.Ra,s,o,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new p1,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=qe(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new jP(r))}),this.da.forEach(r=>{e.has(r)||n.push(new UP(r))}),n}ba(e){this.Ta=e.Ts,this.da=qe();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return kl.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class N6{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class O6{constructor(e){this.key=e,this.va=!1}}class D6{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new Kl(a=>oP(a),Yp),this.Ma=new Map,this.xa=new Set,this.Oa=new Gt(Pe.comparator),this.Na=new Map,this.La=new M0,this.Ba={},this.ka=new Map,this.qa=xl.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function L6(t,e,n=!0){const r=qP(t);let i;const s=r.Fa.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Da()):i=await $P(r,e,n,!0),i}async function M6(t,e){const n=qP(t);await $P(n,e,!0,!1)}async function $P(t,e,n,r){const i=await t6(t.localStore,_i(e)),s=i.targetId,o=t.sharedClientState.addLocalQueryTarget(s,n);let a;return r&&(a=await F6(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&OP(t.remoteStore,i),a}async function F6(t,e,n,r,i){t.Ka=(h,f,m)=>async function(E,S,T,_){let w=S.view.ma(T);w.ns&&(w=await c1(E.localStore,S.query,!1).then(({documents:R})=>S.view.ma(R,w)));const A=_&&_.targetChanges.get(S.targetId),O=_&&_.targetMismatches.get(S.targetId)!=null,F=S.view.applyChanges(w,E.isPrimaryClient,A,O);return _1(E,S.targetId,F.wa),F.snapshot}(t,h,f,m);const s=await c1(t.localStore,e,!0),o=new k6(e,s.Ts),a=o.ma(s.documents),l=pd.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=o.applyChanges(a,t.isPrimaryClient,l);_1(t,n,u.wa);const d=new N6(e,n,o);return t.Fa.set(e,d),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),u.snapshot}async function V6(t,e,n){const r=Fe(t),i=r.Fa.get(e),s=r.Ma.get(i.targetId);if(s.length>1)return r.Ma.set(i.targetId,s.filter(o=>!Yp(o,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await v_(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&U0(r.remoteStore,i.targetId),w_(r,i.targetId)}).catch(dd)):(w_(r,i.targetId),await v_(r.localStore,i.targetId,!0))}async function U6(t,e){const n=Fe(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),U0(n.remoteStore,r.targetId))}async function j6(t,e,n){const r=K6(t);try{const i=await function(o,a){const l=Fe(o),u=Zt.now(),d=a.reduce((m,y)=>m.add(y.key),qe());let h,f;return l.persistence.runTransaction("Locally write mutations","readwrite",m=>{let y=ts(),E=qe();return l.cs.getEntries(m,d).next(S=>{y=S,y.forEach((T,_)=>{_.isValidDocument()||(E=E.add(T))})}).next(()=>l.localDocuments.getOverlayedDocuments(m,y)).next(S=>{h=S;const T=[];for(const _ of a){const w=s3(_,h.get(_.key).overlayedDocument);w!=null&&T.push(new uo(_.key,w,Xb(w.value.mapValue),vi.exists(!0)))}return l.mutationQueue.addMutationBatch(m,u,T,a)}).next(S=>{f=S;const T=S.applyToLocalDocumentSet(h,E);return l.documentOverlayCache.saveOverlays(m,S.batchId,T)})}).then(()=>({batchId:f.batchId,changes:uP(h)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,l){let u=o.Ba[o.currentUser.toKey()];u||(u=new Gt(nt)),u=u.insert(a,l),o.Ba[o.currentUser.toKey()]=u}(r,i.batchId,n),await gd(r,i.changes),await rm(r.remoteStore)}catch(i){const s=W0(i,"Failed to persist write");n.reject(s)}}async function BP(t,e){const n=Fe(t);try{const r=await J3(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Na.get(s);o&&(ot(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.va=!0:i.modifiedDocuments.size>0?ot(o.va):i.removedDocuments.size>0&&(ot(o.va),o.va=!1))}),await gd(n,r,e)}catch(r){await dd(r)}}function y1(t,e,n){const r=Fe(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Fa.forEach((s,o)=>{const a=o.view.Z_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const l=Fe(o);l.onlineState=a;let u=!1;l.queries.forEach((d,h)=>{for(const f of h.j_)f.Z_(a)&&(u=!0)}),u&&H0(l)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function $6(t,e,n){const r=Fe(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Na.get(e),s=i&&i.key;if(s){let o=new Gt(Pe.comparator);o=o.insert(s,Rn.newNoDocument(s,Me.min()));const a=qe().add(s),l=new em(Me.min(),new Map,new Gt(nt),o,a);await BP(r,l),r.Oa=r.Oa.remove(s),r.Na.delete(e),q0(r)}else await v_(r.localStore,e,!1).then(()=>w_(r,e,n)).catch(dd)}async function B6(t,e){const n=Fe(t),r=e.batch.batchId;try{const i=await X3(n.localStore,e);WP(n,r,null),zP(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await gd(n,i)}catch(i){await dd(i)}}async function z6(t,e,n){const r=Fe(t);try{const i=await function(o,a){const l=Fe(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let d;return l.mutationQueue.lookupMutationBatch(u,a).next(h=>(ot(h!==null),d=h.keys(),l.mutationQueue.removeMutationBatch(u,h))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,d,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,d)).next(()=>l.localDocuments.getDocuments(u,d))})}(r.localStore,e);WP(r,e,n),zP(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await gd(r,i)}catch(i){await dd(i)}}function zP(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function WP(t,e,n){const r=Fe(t);let i=r.Ba[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function w_(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||HP(t,r)})}function HP(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(U0(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),q0(t))}function _1(t,e,n){for(const r of n)r instanceof UP?(t.La.addReference(r.key,e),W6(t,r)):r instanceof jP?(we("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||HP(t,r.key)):De()}function W6(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(we("SyncEngine","New document in limbo: "+n),t.xa.add(r),q0(t))}function q0(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new Pe(Tt.fromString(e)),r=t.qa.next();t.Na.set(r,new O6(n)),t.Oa=t.Oa.insert(n,r),OP(t.remoteStore,new bs(_i(iP(n.path)),r,"TargetPurposeLimboResolution",R0.oe))}}async function gd(t,e,n){const r=Fe(t),i=[],s=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach((a,l)=>{o.push(r.Ka(l,e,n).then(u=>{var d;if((u||n)&&r.isPrimaryClient){const h=u?!u.fromCache:(d=n==null?void 0:n.targetChanges.get(l.targetId))===null||d===void 0?void 0:d.current;r.sharedClientState.updateQueryState(l.targetId,h?"current":"not-current")}if(u){i.push(u);const h=V0.Wi(l.targetId,u);s.push(h)}}))}),await Promise.all(o),r.Ca.d_(i),await async function(l,u){const d=Fe(l);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>Z.forEach(u,f=>Z.forEach(f.$i,m=>d.persistence.referenceDelegate.addReference(h,f.targetId,m)).next(()=>Z.forEach(f.Ui,m=>d.persistence.referenceDelegate.removeReference(h,f.targetId,m)))))}catch(h){if(!hd(h))throw h;we("LocalStore","Failed to update sequence numbers: "+h)}for(const h of u){const f=h.targetId;if(!h.fromCache){const m=d.os.get(f),y=m.snapshotVersion,E=m.withLastLimboFreeSnapshotVersion(y);d.os=d.os.insert(f,E)}}}(r.localStore,s))}async function H6(t,e){const n=Fe(t);if(!n.currentUser.isEqual(e)){we("SyncEngine","User change. New user:",e.toKey());const r=await PP(n.localStore,e);n.currentUser=e,function(s,o){s.ka.forEach(a=>{a.forEach(l=>{l.reject(new ye(Y.CANCELLED,o))})}),s.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await gd(n,r.hs)}}function q6(t,e){const n=Fe(t),r=n.Na.get(e);if(r&&r.va)return qe().add(r.key);{let i=qe();const s=n.Ma.get(e);if(!s)return i;for(const o of s){const a=n.Fa.get(o);i=i.unionWith(a.view.Va)}return i}}function qP(t){const e=Fe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=BP.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=q6.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=$6.bind(null,e),e.Ca.d_=b6.bind(null,e.eventManager),e.Ca.$a=P6.bind(null,e.eventManager),e}function K6(t){const e=Fe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=B6.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=z6.bind(null,e),e}class ep{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=tm(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return Y3(this.persistence,new G3,e.initialUser,this.serializer)}Ga(e){return new H3(F0.Zr,this.serializer)}Wa(e){return new r6}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ep.provider={build:()=>new ep};class T_{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>y1(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=H6.bind(null,this.syncEngine),await S6(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new C6}()}createDatastore(e){const n=tm(e.databaseInfo.databaseId),r=function(s){return new a6(s)}(e.databaseInfo);return function(s,o,a,l){return new c6(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new h6(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>y1(this.syncEngine,n,0),function(){return h1.D()?new h1:new i6}())}createSyncEngine(e,n){return function(i,s,o,a,l,u,d){const h=new D6(i,s,o,a,l,u);return d&&(h.Qa=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const s=Fe(i);we("RemoteStore","RemoteStore shutting down."),s.L_.add(5),await md(s),s.k_.shutdown(),s.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}T_.provider={build:()=>new T_};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G6{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):es("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q6{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=In.UNAUTHENTICATED,this.clientId=Gb.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async o=>{we("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(we("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Us;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=W0(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Pg(t,e){t.asyncQueue.verifyOperationInProgress(),we("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await PP(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function v1(t,e){t.asyncQueue.verifyOperationInProgress();const n=await Y6(t);we("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>f1(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>f1(e.remoteStore,i)),t._onlineComponents=e}async function Y6(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){we("FirestoreClient","Using user provided OfflineComponentProvider");try{await Pg(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===Y.FAILED_PRECONDITION||i.code===Y.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Cl("Error using user provided cache. Falling back to memory cache: "+n),await Pg(t,new ep)}}else we("FirestoreClient","Using default OfflineComponentProvider"),await Pg(t,new ep);return t._offlineComponents}async function KP(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(we("FirestoreClient","Using user provided OnlineComponentProvider"),await v1(t,t._uninitializedComponentsProvider._online)):(we("FirestoreClient","Using default OnlineComponentProvider"),await v1(t,new T_))),t._onlineComponents}function X6(t){return KP(t).then(e=>e.syncEngine)}async function J6(t){const e=await KP(t),n=e.eventManager;return n.onListen=L6.bind(null,e.syncEngine),n.onUnlisten=V6.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=M6.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=U6.bind(null,e.syncEngine),n}function Z6(t,e,n={}){const r=new Us;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,u){const d=new G6({next:f=>{d.Za(),o.enqueueAndForget(()=>A6(s,h)),f.fromCache&&l.source==="server"?u.reject(new ye(Y.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(f)},error:f=>u.reject(f)}),h=new x6(a,d,{includeMetadataChanges:!0,_a:!0});return R6(s,h)}(await J6(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GP(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E1=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QP(t,e,n){if(!n)throw new ye(Y.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function e$(t,e,n,r){if(e===!0&&r===!0)throw new ye(Y.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function w1(t){if(!Pe.isDocumentKey(t))throw new ye(Y.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function T1(t){if(Pe.isDocumentKey(t))throw new ye(Y.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function im(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":De()}function Nl(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ye(Y.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=im(t);throw new ye(Y.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S1{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new ye(Y.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new ye(Y.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}e$("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=GP((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ye(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ye(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ye(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class sm{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new S1({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ye(Y.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ye(Y.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new S1(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new fj;switch(r.type){case"firstParty":return new yj(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ye(Y.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=E1.get(n);r&&(we("ComponentProvider","Removing Datastore"),E1.delete(n),r.terminate())}(this),Promise.resolve()}}function t$(t,e,n,r={}){var i;const s=(t=Nl(t,sm))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&Cl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=In.MOCK_USER;else{a=KA(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new ye(Y.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new In(u)}t._authCredentials=new pj(new Kb(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class co{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new co(this.firestore,e,this._query)}}class gr{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new $s(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new gr(this.firestore,e,this._key)}}class $s extends co{constructor(e,n,r){super(e,n,iP(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new gr(this.firestore,null,new Pe(e))}withConverter(e){return new $s(this.firestore,e,this._path)}}function om(t,e,...n){if(t=At(t),QP("collection","path",e),t instanceof sm){const r=Tt.fromString(e,...n);return T1(r),new $s(t,null,r)}{if(!(t instanceof gr||t instanceof $s))throw new ye(Y.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Tt.fromString(e,...n));return T1(r),new $s(t.firestore,null,r)}}function YP(t,e,...n){if(t=At(t),arguments.length===1&&(e=Gb.newId()),QP("doc","path",e),t instanceof sm){const r=Tt.fromString(e,...n);return w1(r),new gr(t,null,new Pe(r))}{if(!(t instanceof gr||t instanceof $s))throw new ye(Y.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Tt.fromString(e,...n));return w1(r),new gr(t.firestore,t instanceof $s?t.converter:null,new Pe(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I1{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new kP(this,"async_queue_retry"),this.Vu=()=>{const r=bg();r&&we("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const n=bg();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=bg();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new Us;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!hd(e))throw e;we("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;const i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw es("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const i=z0.createAndSchedule(this,e,n,r,s=>this.yu(s));return this.Tu.push(i),i}fu(){this.Eu&&De()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}class am extends sm{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new I1,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new I1(e),this._firestoreClient=void 0,await e}}}function n$(t,e){const n=typeof t=="object"?t:f0(),r=typeof t=="string"?t:"(default)",i=zp(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=WA("firestore");s&&t$(i,...s)}return i}function XP(t){if(t._terminated)throw new ye(Y.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||r$(t),t._firestoreClient}function r$(t){var e,n,r;const i=t._freezeSettings(),s=function(a,l,u,d){return new xj(a,l,u,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,GP(d.experimentalLongPollingOptions),d.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new Q6(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ol{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ol(mn.fromBase64String(e))}catch(n){throw new ye(Y.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ol(mn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lm{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ye(Y.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new dn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class um{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K0{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ye(Y.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ye(Y.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return nt(this._lat,e._lat)||nt(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G0{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i$=/^__.*__$/;class s${constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new uo(e,this.data,this.fieldMask,n,this.fieldTransforms):new fd(e,this.data,n,this.fieldTransforms)}}class JP{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new uo(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function ZP(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw De()}}class cm{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.vu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new cm(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return tp(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(ZP(this.Cu)&&i$.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class o${constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||tm(e)}Qu(e,n,r,i=!1){return new cm({Cu:e,methodName:n,qu:r,path:dn.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Q0(t){const e=t._freezeSettings(),n=tm(t._databaseId);return new o$(t._databaseId,!!e.ignoreUndefinedProperties,n)}function a$(t,e,n,r,i,s={}){const o=t.Qu(s.merge||s.mergeFields?2:0,e,n,i);X0("Data must be an object, but it was:",o,r);const a=ex(r,o);let l,u;if(s.merge)l=new hr(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const d=[];for(const h of s.mergeFields){const f=S_(e,h,n);if(!o.contains(f))throw new ye(Y.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);nx(d,f)||d.push(f)}l=new hr(d),u=o.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,u=o.fieldTransforms;return new s$(new Jn(a),l,u)}class dm extends um{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof dm}}function l$(t,e,n){return new cm({Cu:3,qu:e.settings.qu,methodName:t._methodName,xu:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Y0 extends um{constructor(e,n){super(e),this.Ku=n}_toFieldTransform(e){const n=l$(this,e,!0),r=this.Ku.map(s=>Ql(s,n)),i=new Pl(r);return new t3(e.path,i)}isEqual(e){return e instanceof Y0&&Dc(this.Ku,e.Ku)}}function u$(t,e,n,r){const i=t.Qu(1,e,n);X0("Data must be an object, but it was:",i,r);const s=[],o=Jn.empty();pa(r,(l,u)=>{const d=J0(e,l,n);u=At(u);const h=i.Nu(d);if(u instanceof dm)s.push(d);else{const f=Ql(u,h);f!=null&&(s.push(d),o.set(d,f))}});const a=new hr(s);return new JP(o,a,i.fieldTransforms)}function c$(t,e,n,r,i,s){const o=t.Qu(1,e,n),a=[S_(e,r,n)],l=[i];if(s.length%2!=0)throw new ye(Y.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<s.length;f+=2)a.push(S_(e,s[f])),l.push(s[f+1]);const u=[],d=Jn.empty();for(let f=a.length-1;f>=0;--f)if(!nx(u,a[f])){const m=a[f];let y=l[f];y=At(y);const E=o.Nu(m);if(y instanceof dm)u.push(m);else{const S=Ql(y,E);S!=null&&(u.push(m),d.set(m,S))}}const h=new hr(u);return new JP(d,h,o.fieldTransforms)}function d$(t,e,n,r=!1){return Ql(n,t.Qu(r?4:3,e))}function Ql(t,e){if(tx(t=At(t)))return X0("Unsupported field value:",e,t),ex(t,e);if(t instanceof um)return function(r,i){if(!ZP(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let l=Ql(a,i.Lu(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=At(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return Jj(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=Zt.fromDate(r);return{timestampValue:Jf(i.serializer,s)}}if(r instanceof Zt){const s=new Zt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Jf(i.serializer,s)}}if(r instanceof K0)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ol)return{bytesValue:TP(i.serializer,r._byteString)};if(r instanceof gr){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Bu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:L0(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof G0)return function(o,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(l=>{if(typeof l!="number")throw a.Bu("VectorValues must only contain numeric values.");return N0(a.serializer,l)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${im(r)}`)}(t,e)}function ex(t,e){const n={};return Qb(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):pa(t,(r,i)=>{const s=Ql(i,e.Mu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function tx(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Zt||t instanceof K0||t instanceof Ol||t instanceof gr||t instanceof um||t instanceof G0)}function X0(t,e,n){if(!tx(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=im(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function S_(t,e,n){if((e=At(e))instanceof lm)return e._internalPath;if(typeof e=="string")return J0(t,e);throw tp("Field path arguments must be of type string or ",t,!1,void 0,n)}const h$=new RegExp("[~\\*/\\[\\]]");function J0(t,e,n){if(e.search(h$)>=0)throw tp(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new lm(...e.split("."))._internalPath}catch{throw tp(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function tp(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new ye(Y.INVALID_ARGUMENT,a+t+l)}function nx(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rx{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new gr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new f$(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(hm("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class f$ extends rx{data(){return super.data()}}function hm(t,e){return typeof e=="string"?J0(t,e):e instanceof lm?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p$(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ye(Y.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Z0{}class eE extends Z0{}function ix(t,e,...n){let r=[];e instanceof Z0&&r.push(e),r=r.concat(n),function(s){const o=s.filter(l=>l instanceof tE).length,a=s.filter(l=>l instanceof fm).length;if(o>1||o>0&&a>0)throw new ye(Y.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class fm extends eE{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new fm(e,n,r)}_apply(e){const n=this._parse(e);return sx(e._query,n),new co(e.firestore,e.converter,p_(e._query,n))}_parse(e){const n=Q0(e.firestore);return function(s,o,a,l,u,d,h){let f;if(u.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new ye(Y.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){R1(h,d);const m=[];for(const y of h)m.push(C1(l,s,y));f={arrayValue:{values:m}}}else f=C1(l,s,h)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||R1(h,d),f=d$(a,o,h,d==="in"||d==="not-in");return Ht.create(u,d,f)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function m$(t,e,n){const r=e,i=hm("where",t);return fm._create(i,r,n)}class tE extends Z0{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new tE(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:ni.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i;const a=s.getFlattenedFilters();for(const l of a)sx(o,l),o=p_(o,l)}(e._query,n),new co(e.firestore,e.converter,p_(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class nE extends eE{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new nE(e,n)}_apply(e){const n=function(i,s,o){if(i.startAt!==null)throw new ye(Y.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new ye(Y.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Wc(s,o)}(e._query,this._field,this._direction);return new co(e.firestore,e.converter,function(i,s){const o=i.explicitOrderBy.concat([s]);return new ql(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function g$(t,e="asc"){const n=e,r=hm("orderBy",t);return nE._create(r,n)}class rE extends eE{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new rE(e,n,r)}_apply(e){return new co(e.firestore,e.converter,Qf(e._query,this._limit,this._limitType))}}function y$(t){return rE._create("limit",t,"F")}function C1(t,e,n){if(typeof(n=At(n))=="string"){if(n==="")throw new ye(Y.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!sP(e)&&n.indexOf("/")!==-1)throw new ye(Y.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Tt.fromString(n));if(!Pe.isDocumentKey(r))throw new ye(Y.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return KS(t,new Pe(r))}if(n instanceof gr)return KS(t,n._key);throw new ye(Y.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${im(n)}.`)}function R1(t,e){if(!Array.isArray(t)||t.length===0)throw new ye(Y.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function sx(t,e){const n=function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new ye(Y.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ye(Y.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class _${convertValue(e,n="none"){switch(ea(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Vt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Zo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw De()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return pa(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var n,r,i;const s=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>Vt(o.doubleValue));return new G0(s)}convertGeoPoint(e){return new K0(Vt(e.latitude),Vt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=b0(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp($c(e));default:return null}}convertTimestamp(e){const n=Ks(e);return new Zt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Tt.fromString(e);ot(bP(r));const i=new Bc(r.get(1),r.get(3)),s=new Pe(r.popFirst(5));return i.isEqual(n)||es(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v$(t,e,n){let r;return r=t?t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eh{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class E$ extends rx{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Zh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(hm("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Zh extends E${data(e={}){return super.data(e)}}class w${constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Eh(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Zh(this._firestore,this._userDataWriter,r.key,r,new Eh(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ye(Y.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const l=new Zh(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Eh(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const l=new Zh(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Eh(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,d=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),d=o.indexOf(a.doc.key)),{type:T$(a.type),doc:l,oldIndex:u,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function T$(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return De()}}class S$ extends _${constructor(e){super(),this.firestore=e}convertBytes(e){return new Ol(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new gr(this.firestore,null,n)}}function iE(t){t=Nl(t,co);const e=Nl(t.firestore,am),n=XP(e),r=new S$(e);return p$(t._query),Z6(n,t._query).then(i=>new w$(e,r,t,i))}function I$(t,e,n,...r){t=Nl(t,gr);const i=Nl(t.firestore,am),s=Q0(i);let o;return o=typeof(e=At(e))=="string"||e instanceof lm?c$(s,"updateDoc",t._key,e,n,r):u$(s,"updateDoc",t._key,e),ox(i,[o.toMutation(t._key,vi.exists(!0))])}function C$(t,e){const n=Nl(t.firestore,am),r=YP(t),i=v$(t.converter,e);return ox(n,[a$(Q0(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,vi.exists(!1))]).then(()=>r)}function ox(t,e){return function(r,i){const s=new Us;return r.asyncQueue.enqueueAndForget(async()=>j6(await X6(r),i,s)),s.promise}(XP(t),e)}function R$(...t){return new Y0("arrayUnion",t)}(function(e,n=!0){(function(i){Hl=i})(so),Hs(new Xi("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new am(new mj(r.getProvider("auth-internal")),new vj(r.getProvider("app-check-internal")),function(u,d){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new ye(Y.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Bc(u.options.projectId,d)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),Nr(BS,"4.7.3",e),Nr(BS,"4.7.3","esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ax="firebasestorage.googleapis.com",lx="storageBucket",A$=2*60*1e3,b$=10*60*1e3,P$=1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nt extends Si{constructor(e,n,r=0){super(xg(e),`Firebase Storage: ${n} (${xg(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Nt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return xg(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var It;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(It||(It={}));function xg(t){return"storage/"+t}function sE(){const t="An unknown error occurred, please check the error payload for server response.";return new Nt(It.UNKNOWN,t)}function x$(t){return new Nt(It.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function k$(t){return new Nt(It.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function N$(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Nt(It.UNAUTHENTICATED,t)}function O$(){return new Nt(It.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function D$(t){return new Nt(It.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function ux(){return new Nt(It.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function cx(){return new Nt(It.CANCELED,"User canceled the upload/download.")}function L$(t){return new Nt(It.INVALID_URL,"Invalid URL '"+t+"'.")}function M$(t){return new Nt(It.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function F$(){return new Nt(It.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+lx+"' property when initializing the app?")}function dx(){return new Nt(It.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function V$(){return new Nt(It.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}function U$(){return new Nt(It.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function j$(t){return new Nt(It.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function I_(t){return new Nt(It.INVALID_ARGUMENT,t)}function hx(){return new Nt(It.APP_DELETED,"The Firebase app was deleted.")}function $$(t){return new Nt(It.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function ac(t,e){return new Nt(It.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function bu(t){throw new Nt(It.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fr{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=fr.makeFromUrl(e,n)}catch{return new fr(e,"")}if(r.path==="")return r;throw M$(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(A){A.path.charAt(A.path.length-1)==="/"&&(A.path_=A.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+i+o,"i"),l={bucket:1,path:3};function u(A){A.path_=decodeURIComponent(A.path)}const d="v[A-Za-z0-9_]+",h=n.replace(/[.]/g,"\\."),f="(/([^?#]*).*)?$",m=new RegExp(`^https?://${h}/${d}/b/${i}/o${f}`,"i"),y={bucket:1,path:3},E=n===ax?"(?:storage.googleapis.com|storage.cloud.google.com)":n,S="([^?#]*)",T=new RegExp(`^https?://${E}/${i}/${S}`,"i"),w=[{regex:a,indices:l,postModify:s},{regex:m,indices:y,postModify:u},{regex:T,indices:{bucket:1,path:2},postModify:u}];for(let A=0;A<w.length;A++){const O=w[A],F=O.regex.exec(e);if(F){const R=F[O.indices.bucket];let g=F[O.indices.path];g||(g=""),r=new fr(R,g),O.postModify(r);break}}if(r==null)throw L$(e);return r}}class B${constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z$(t,e,n){let r=1,i=null,s=null,o=!1,a=0;function l(){return a===2}let u=!1;function d(...S){u||(u=!0,e.apply(null,S))}function h(S){i=setTimeout(()=>{i=null,t(m,l())},S)}function f(){s&&clearTimeout(s)}function m(S,...T){if(u){f();return}if(S){f(),d.call(null,S,...T);return}if(l()||o){f(),d.call(null,S,...T);return}r<64&&(r*=2);let w;a===1?(a=2,w=0):w=(r+Math.random())*1e3,h(w)}let y=!1;function E(S){y||(y=!0,f(),!u&&(i!==null?(S||(a=2),clearTimeout(i),h(0)):S||(a=1)))}return h(0),s=setTimeout(()=>{o=!0,E(!0)},n),E}function W$(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H$(t){return t!==void 0}function q$(t){return typeof t=="function"}function K$(t){return typeof t=="object"&&!Array.isArray(t)}function pm(t){return typeof t=="string"||t instanceof String}function A1(t){return oE()&&t instanceof Blob}function oE(){return typeof Blob<"u"}function b1(t,e,n,r){if(r<e)throw I_(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw I_(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yd(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function fx(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var $o;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})($o||($o={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function px(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G${constructor(e,n,r,i,s,o,a,l,u,d,h,f=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=u,this.progressCallback_=d,this.connectionFactory_=h,this.retry=f,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((m,y)=>{this.resolve_=m,this.reject_=y,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new wh(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const o=a=>{const l=a.loaded,u=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,u)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const a=s.getErrorCode()===$o.NO_ERROR,l=s.getStatus();if(!a||px(l,this.additionalRetryCodes_)&&this.retry){const d=s.getErrorCode()===$o.ABORT;r(!1,new wh(!1,null,d));return}const u=this.successCodes_.indexOf(l)!==-1;r(!0,new wh(u,s))})},n=(r,i)=>{const s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());H$(l)?s(l):s()}catch(l){o(l)}else if(a!==null){const l=sE();l.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,l)):o(l)}else if(i.canceled){const l=this.appDelete_?hx():cx();o(l)}else{const l=ux();o(l)}};this.canceled_?n(!1,new wh(!1,null,!0)):this.backoffId_=z$(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&W$(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class wh{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function Q$(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function Y$(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function X$(t,e){e&&(t["X-Firebase-GMPID"]=e)}function J$(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function Z$(t,e,n,r,i,s,o=!0){const a=fx(t.urlParams),l=t.url+a,u=Object.assign({},t.headers);return X$(u,e),Q$(u,n),Y$(u,s),J$(u,r),new G$(l,t.method,u,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eB(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function tB(...t){const e=eB();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(oE())return new Blob(t);throw new Nt(It.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function nB(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rB(t){if(typeof atob>"u")throw j$("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fi={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class kg{constructor(e,n){this.data=e,this.contentType=n||null}}function iB(t,e){switch(t){case fi.RAW:return new kg(mx(e));case fi.BASE64:case fi.BASE64URL:return new kg(gx(t,e));case fi.DATA_URL:return new kg(oB(e),aB(e))}throw sE()}function mx(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const s=r,o=t.charCodeAt(++n);r=65536|(s&1023)<<10|o&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function sB(t){let e;try{e=decodeURIComponent(t)}catch{throw ac(fi.DATA_URL,"Malformed data URL.")}return mx(e)}function gx(t,e){switch(t){case fi.BASE64:{const i=e.indexOf("-")!==-1,s=e.indexOf("_")!==-1;if(i||s)throw ac(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case fi.BASE64URL:{const i=e.indexOf("+")!==-1,s=e.indexOf("/")!==-1;if(i||s)throw ac(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=rB(e)}catch(i){throw i.message.includes("polyfill")?i:ac(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class yx{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw ac(fi.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=lB(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function oB(t){const e=new yx(t);return e.base64?gx(fi.BASE64,e.rest):sB(e.rest)}function aB(t){return new yx(t).contentType}function lB(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ss{constructor(e,n){let r=0,i="";A1(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(A1(this.data_)){const r=this.data_,i=nB(r,e,n);return i===null?null:new Ss(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new Ss(r,!0)}}static getBlob(...e){if(oE()){const n=e.map(r=>r instanceof Ss?r.data_:r);return new Ss(tB.apply(null,n))}else{const n=e.map(o=>pm(o)?iB(fi.RAW,o).data:o.data_);let r=0;n.forEach(o=>{r+=o.byteLength});const i=new Uint8Array(r);let s=0;return n.forEach(o=>{for(let a=0;a<o.length;a++)i[s++]=o[a]}),new Ss(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _x(t){let e;try{e=JSON.parse(t)}catch{return null}return K$(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uB(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function cB(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function vx(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dB(t,e){return e}class Vn{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||dB}}let Th=null;function hB(t){return!pm(t)||t.length<2?t:vx(t)}function Ex(){if(Th)return Th;const t=[];t.push(new Vn("bucket")),t.push(new Vn("generation")),t.push(new Vn("metageneration")),t.push(new Vn("name","fullPath",!0));function e(s,o){return hB(o)}const n=new Vn("name");n.xform=e,t.push(n);function r(s,o){return o!==void 0?Number(o):o}const i=new Vn("size");return i.xform=r,t.push(i),t.push(new Vn("timeCreated")),t.push(new Vn("updated")),t.push(new Vn("md5Hash",null,!0)),t.push(new Vn("cacheControl",null,!0)),t.push(new Vn("contentDisposition",null,!0)),t.push(new Vn("contentEncoding",null,!0)),t.push(new Vn("contentLanguage",null,!0)),t.push(new Vn("contentType",null,!0)),t.push(new Vn("metadata","customMetadata",!0)),Th=t,Th}function fB(t,e){function n(){const r=t.bucket,i=t.fullPath,s=new fr(r,i);return e._makeStorageReference(s)}Object.defineProperty(t,"ref",{get:n})}function pB(t,e,n){const r={};r.type="file";const i=n.length;for(let s=0;s<i;s++){const o=n[s];r[o.local]=o.xform(r,e[o.server])}return fB(r,t),r}function wx(t,e,n){const r=_x(e);return r===null?null:pB(t,r,n)}function mB(t,e,n,r){const i=_x(e);if(i===null||!pm(i.downloadTokens))return null;const s=i.downloadTokens;if(s.length===0)return null;const o=encodeURIComponent;return s.split(",").map(u=>{const d=t.bucket,h=t.fullPath,f="/b/"+o(d)+"/o/"+o(h),m=yd(f,n,r),y=fx({alt:"media",token:u});return m+y})[0]}function Tx(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const s=e[i];s.writable&&(n[s.server]=t[s.local])}return JSON.stringify(n)}class Yl{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wi(t){if(!t)throw sE()}function aE(t,e){function n(r,i){const s=wx(t,i,e);return Wi(s!==null),s}return n}function gB(t,e){function n(r,i){const s=wx(t,i,e);return Wi(s!==null),mB(s,i,t.host,t._protocol)}return n}function _d(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=O$():i=N$():n.getStatus()===402?i=k$(t.bucket):n.getStatus()===403?i=D$(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function Sx(t){const e=_d(t);function n(r,i){let s=e(r,i);return r.getStatus()===404&&(s=x$(t.path)),s.serverResponse=i.serverResponse,s}return n}function yB(t,e,n){const r=e.fullServerUrl(),i=yd(r,t.host,t._protocol),s="GET",o=t.maxOperationRetryTime,a=new Yl(i,s,aE(t,n),o);return a.errorHandler=Sx(e),a}function _B(t,e,n){const r=e.fullServerUrl(),i=yd(r,t.host,t._protocol),s="GET",o=t.maxOperationRetryTime,a=new Yl(i,s,gB(t,n),o);return a.errorHandler=Sx(e),a}function vB(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function Ix(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=vB(null,e)),r}function EB(t,e,n,r,i){const s=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function a(){let w="";for(let A=0;A<2;A++)w=w+Math.random().toString().slice(2);return w}const l=a();o["Content-Type"]="multipart/related; boundary="+l;const u=Ix(e,r,i),d=Tx(u,n),h="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+d+`\r
--`+l+`\r
Content-Type: `+u.contentType+`\r
\r
`,f=`\r
--`+l+"--",m=Ss.getBlob(h,r,f);if(m===null)throw dx();const y={name:u.fullPath},E=yd(s,t.host,t._protocol),S="POST",T=t.maxUploadRetryTime,_=new Yl(E,S,aE(t,n),T);return _.urlParams=y,_.headers=o,_.body=m.uploadData(),_.errorHandler=_d(e),_}class np{constructor(e,n,r,i){this.current=e,this.total=n,this.finalized=!!r,this.metadata=i||null}}function lE(t,e){let n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch{Wi(!1)}return Wi(!!n&&(e||["active"]).indexOf(n)!==-1),n}function wB(t,e,n,r,i){const s=e.bucketOnlyServerUrl(),o=Ix(e,r,i),a={name:o.fullPath},l=yd(s,t.host,t._protocol),u="POST",d={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":o.contentType,"Content-Type":"application/json; charset=utf-8"},h=Tx(o,n),f=t.maxUploadRetryTime;function m(E){lE(E);let S;try{S=E.getResponseHeader("X-Goog-Upload-URL")}catch{Wi(!1)}return Wi(pm(S)),S}const y=new Yl(l,u,m,f);return y.urlParams=a,y.headers=d,y.body=h,y.errorHandler=_d(e),y}function TB(t,e,n,r){const i={"X-Goog-Upload-Command":"query"};function s(u){const d=lE(u,["active","final"]);let h=null;try{h=u.getResponseHeader("X-Goog-Upload-Size-Received")}catch{Wi(!1)}h||Wi(!1);const f=Number(h);return Wi(!isNaN(f)),new np(f,r.size(),d==="final")}const o="POST",a=t.maxUploadRetryTime,l=new Yl(n,o,s,a);return l.headers=i,l.errorHandler=_d(e),l}const P1=256*1024;function SB(t,e,n,r,i,s,o,a){const l=new np(0,0);if(o?(l.current=o.current,l.total=o.total):(l.current=0,l.total=r.size()),r.size()!==l.total)throw V$();const u=l.total-l.current;let d=u;i>0&&(d=Math.min(d,i));const h=l.current,f=h+d;let m="";d===0?m="finalize":u===d?m="upload, finalize":m="upload";const y={"X-Goog-Upload-Command":m,"X-Goog-Upload-Offset":`${l.current}`},E=r.slice(h,f);if(E===null)throw dx();function S(A,O){const F=lE(A,["active","final"]),R=l.current+d,g=r.size();let C;return F==="final"?C=aE(e,s)(A,O):C=null,new np(R,g,F==="final",C)}const T="POST",_=e.maxUploadRetryTime,w=new Yl(n,T,S,_);return w.headers=y,w.body=E.uploadData(),w.progressCallback=a||null,w.errorHandler=_d(t),w}const Yn={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Ng(t){switch(t){case"running":case"pausing":case"canceling":return Yn.RUNNING;case"paused":return Yn.PAUSED;case"success":return Yn.SUCCESS;case"canceled":return Yn.CANCELED;case"error":return Yn.ERROR;default:return Yn.ERROR}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IB{constructor(e,n,r){if(q$(e)||n!=null||r!=null)this.next=e,this.error=n??void 0,this.complete=r??void 0;else{const s=e;this.next=s.next,this.error=s.error,this.complete=s.complete}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ka(t){return(...e)=>{Promise.resolve().then(()=>t(...e))}}class CB{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=$o.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=$o.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=$o.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i){if(this.sent_)throw bu("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(const s in i)i.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,i[s].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw bu("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw bu("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw bu("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw bu("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class RB extends CB{initXhr(){this.xhr_.responseType="text"}}function Ua(){return new RB}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AB{constructor(e,n,r=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=n,this._metadata=r,this._mappings=Ex(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=i=>{if(this._request=void 0,this._chunkMultiplier=1,i._codeEquals(It.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const s=this.isExponentialBackoffExpired();if(px(i.status,[]))if(s)i=ux();else{this.sleepTime=Math.max(this.sleepTime*2,P$),this._needToFetchStatus=!0,this.completeTransitions_();return}this._error=i,this._transition("error")}},this._metadataErrorHandler=i=>{this._request=void 0,i._codeEquals(It.CANCELED)?this.completeTransitions_():(this._error=i,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((i,s)=>{this._resolve=i,this._reject=s,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const e=this._transferred;return n=>this._updateProgress(e+n)}_shouldDoResumable(e){return e.size()>256*1024}_start(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([n,r])=>{switch(this._state){case"running":e(n,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused");break}})}_createResumable(){this._resolveToken((e,n)=>{const r=wB(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,Ua,e,n);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._uploadUrl=s,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((n,r)=>{const i=TB(this._ref.storage,this._ref._location,e,this._blob),s=this._ref.storage._makeRequest(i,Ua,n,r);this._request=s,s.getPromise().then(o=>{o=o,this._request=void 0,this._updateProgress(o.current),this._needToFetchStatus=!1,o.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=P1*this._chunkMultiplier,n=new np(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((i,s)=>{let o;try{o=SB(this._ref._location,this._ref.storage,r,this._blob,e,this._mappings,n,this._makeProgressCallback())}catch(l){this._error=l,this._transition("error");return}const a=this._ref.storage._makeRequest(o,Ua,i,s,!1);this._request=a,a.getPromise().then(l=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(l.current),l.finalized?(this._metadata=l.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){P1*this._chunkMultiplier*2<32*1024*1024&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,n)=>{const r=yB(this._ref.storage,this._ref._location,this._mappings),i=this._ref.storage._makeRequest(r,Ua,e,n);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,n)=>{const r=EB(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,Ua,e,n);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const n=this._transferred;this._transferred=e,this._transferred!==n&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,this._request!==void 0?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const n=this._state==="paused";this._state=e,n&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=cx(),this._state=e,this._notifyObservers();break;case"error":this._state=e,this._notifyObservers();break;case"success":this._state=e,this._notifyObservers();break}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}}get snapshot(){const e=Ng(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,n,r,i){const s=new IB(n||void 0,r||void 0,i||void 0);return this._addObserver(s),()=>{this._removeObserver(s)}}then(e,n){return this._promise.then(e,n)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const n=this._observers.indexOf(e);n!==-1&&this._observers.splice(n,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(n=>{this._notifyObserver(n)})}_finishPromise(){if(this._resolve!==void 0){let e=!0;switch(Ng(this._state)){case Yn.SUCCESS:ka(this._resolve.bind(null,this.snapshot))();break;case Yn.CANCELED:case Yn.ERROR:const n=this._reject;ka(n.bind(null,this._error))();break;default:e=!1;break}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(Ng(this._state)){case Yn.RUNNING:case Yn.PAUSED:e.next&&ka(e.next.bind(e,this.snapshot))();break;case Yn.SUCCESS:e.complete&&ka(e.complete.bind(e))();break;case Yn.CANCELED:case Yn.ERROR:e.error&&ka(e.error.bind(e,this._error))();break;default:e.error&&ka(e.error.bind(e,this._error))()}}resume(){const e=this._state==="paused"||this._state==="pausing";return e&&this._transition("running"),e}pause(){const e=this._state==="running";return e&&this._transition("pausing"),e}cancel(){const e=this._state==="running"||this._state==="pausing";return e&&this._transition("canceling"),e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ta{constructor(e,n){this._service=e,n instanceof fr?this._location=n:this._location=fr.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new ta(e,n)}get root(){const e=new fr(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return vx(this._location.path)}get storage(){return this._service}get parent(){const e=uB(this._location.path);if(e===null)return null;const n=new fr(this._location.bucket,e);return new ta(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw $$(e)}}function bB(t,e,n){return t._throwIfRoot("uploadBytesResumable"),new AB(t,new Ss(e),n)}function PB(t){t._throwIfRoot("getDownloadURL");const e=_B(t.storage,t._location,Ex());return t.storage.makeRequestWithTokens(e,Ua).then(n=>{if(n===null)throw U$();return n})}function xB(t,e){const n=cB(t._location.path,e),r=new fr(t._location.bucket,n);return new ta(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kB(t){return/^[A-Za-z]+:\/\//.test(t)}function NB(t,e){return new ta(t,e)}function Cx(t,e){if(t instanceof uE){const n=t;if(n._bucket==null)throw F$();const r=new ta(n,n._bucket);return e!=null?Cx(r,e):r}else return e!==void 0?xB(t,e):t}function OB(t,e){if(e&&kB(e)){if(t instanceof uE)return NB(t,e);throw I_("To use ref(service, url), the first argument must be a Storage instance.")}else return Cx(t,e)}function x1(t,e){const n=e==null?void 0:e[lx];return n==null?null:fr.makeFromBucketSpec(n,t)}function DB(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:KA(i,t.app.options.projectId))}class uE{constructor(e,n,r,i,s){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=ax,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=A$,this._maxUploadRetryTime=b$,this._requests=new Set,i!=null?this._bucket=fr.makeFromBucketSpec(i,this._host):this._bucket=x1(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=fr.makeFromBucketSpec(this._url,e):this._bucket=x1(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){b1("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){b1("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new ta(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new B$(hx());{const o=Z$(e,this._appId,r,i,n,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const k1="@firebase/storage",N1="0.13.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rx="storage";function LB(t,e,n){return t=At(t),bB(t,e,n)}function MB(t){return t=At(t),PB(t)}function FB(t,e){return t=At(t),OB(t,e)}function VB(t=f0(),e){t=At(t);const r=zp(t,Rx).getImmediate({identifier:e}),i=WA("storage");return i&&UB(r,...i),r}function UB(t,e,n,r={}){DB(t,e,n,r)}function jB(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new uE(n,r,i,e,so)}function $B(){Hs(new Xi(Rx,jB,"PUBLIC").setMultipleInstances(!0)),Nr(k1,N1,""),Nr(k1,N1,"esm2017")}$B();const BB={apiKey:"AIzaSyBZigODMvIKpL3TRsw5occlRulmM3k_cDE",authDomain:"project-lo-102dd.firebaseapp.com",databaseURL:"https://project-lo-102dd-default-rtdb.asia-southeast1.firebasedatabase.app/",projectId:"project-lo-102dd",storageBucket:"project-lo-102dd.appspot.com",messagingSenderId:"512742747439",appId:"1:512742747439:web:9c27cd317188de442f85da",measurementId:"G-0N297GGEGD"},cE=ZA(BB),Ax=n$(cE),Na=Y4(cE),zB=VB(cE),bx=I.createContext();function WB({children:t}){const[e,n]=I.useState(null),r=new Kr;I.useEffect(()=>{const u=UU(Na,d=>{n(d||null)});return()=>{u()}},[]);function i(u,d){return DU(Na,u,d)}function s(u,d){return MU(Na,Rb).then(()=>LU(Na,u,d))}function o(){return jU(Na)}function a(){return s4(Na,r)}const l={currentUser:e,setCurrentUser:n,registerUzer:i,loginUzer:s,logoutUzer:o,loginWithProvider:a,db:Ax};return D.jsx(bx.Provider,{value:l,children:t})}function ga(){return I.useContext(bx)}const Ni=(t="Some msg",e="info",n="bottom-center",r=4e3)=>{ft[e](`${t}`,{position:n,autoClose:r,hideProgressBar:!1,closeOnClick:!1,pauseOnHover:!0,draggable:!1,progress:void 0,theme:"light",transition:lj})};var Px={exports:{}};(function(t,e){(function(r,i){t.exports=i()})(typeof self<"u"?self:AO,function(){return function(n){var r={};function i(s){if(r[s])return r[s].exports;var o=r[s]={i:s,l:!1,exports:{}};return n[s].call(o.exports,o,o.exports,i),o.l=!0,o.exports}return i.m=n,i.c=r,i.d=function(s,o,a){i.o(s,o)||Object.defineProperty(s,o,{configurable:!1,enumerable:!0,get:a})},i.n=function(s){var o=s&&s.__esModule?function(){return s.default}:function(){return s};return i.d(o,"a",o),o},i.o=function(s,o){return Object.prototype.hasOwnProperty.call(s,o)},i.p="/",i(i.s=7)}([function(n,r,i){function s(o,a,l,u,d,h,f,m){if(!o){var y;if(a===void 0)y=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var E=[l,u,d,h,f,m],S=0;y=new Error(a.replace(/%s/g,function(){return E[S++]})),y.name="Invariant Violation"}throw y.framesToPop=1,y}}n.exports=s},function(n,r,i){function s(a){return function(){return a}}var o=function(){};o.thatReturns=s,o.thatReturnsFalse=s(!1),o.thatReturnsTrue=s(!0),o.thatReturnsNull=s(null),o.thatReturnsThis=function(){return this},o.thatReturnsArgument=function(a){return a},n.exports=o},function(n,r,i){/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var s=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable;function l(d){if(d==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(d)}function u(){try{if(!Object.assign)return!1;var d=new String("abc");if(d[5]="de",Object.getOwnPropertyNames(d)[0]==="5")return!1;for(var h={},f=0;f<10;f++)h["_"+String.fromCharCode(f)]=f;var m=Object.getOwnPropertyNames(h).map(function(E){return h[E]});if(m.join("")!=="0123456789")return!1;var y={};return"abcdefghijklmnopqrst".split("").forEach(function(E){y[E]=E}),Object.keys(Object.assign({},y)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}n.exports=u()?Object.assign:function(d,h){for(var f,m=l(d),y,E=1;E<arguments.length;E++){f=Object(arguments[E]);for(var S in f)o.call(f,S)&&(m[S]=f[S]);if(s){y=s(f);for(var T=0;T<y.length;T++)a.call(f,y[T])&&(m[y[T]]=f[y[T]])}}return m}},function(n,r,i){var s=i(1),o=s;n.exports=o},function(n,r,i){var s="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";n.exports=s},function(n,r,i){var s={};n.exports=s},function(n,r,i){function s(o,a,l,u,d){}n.exports=s},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=Object.assign||function(A){for(var O=1;O<arguments.length;O++){var F=arguments[O];for(var R in F)Object.prototype.hasOwnProperty.call(F,R)&&(A[R]=F[R])}return A},o=function(){function A(O,F){for(var R=0;R<F.length;R++){var g=F[R];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(O,g.key,g)}}return function(O,F,R){return F&&A(O.prototype,F),R&&A(O,R),O}}(),a=i(8),l=y(a),u=i(11),d=y(u),h=i(14),f=m(h);function m(A){if(A&&A.__esModule)return A;var O={};if(A!=null)for(var F in A)Object.prototype.hasOwnProperty.call(A,F)&&(O[F]=A[F]);return O.default=A,O}function y(A){return A&&A.__esModule?A:{default:A}}function E(A,O){var F={};for(var R in A)O.indexOf(R)>=0||Object.prototype.hasOwnProperty.call(A,R)&&(F[R]=A[R]);return F}function S(A,O){if(!(A instanceof O))throw new TypeError("Cannot call a class as a function")}function T(A,O){if(!A)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return O&&(typeof O=="object"||typeof O=="function")?O:A}function _(A,O){if(typeof O!="function"&&O!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof O);A.prototype=Object.create(O&&O.prototype,{constructor:{value:A,enumerable:!1,writable:!0,configurable:!0}}),O&&(Object.setPrototypeOf?Object.setPrototypeOf(A,O):A.__proto__=O)}var w=function(A){_(O,A);function O(){var F,R,g,C;S(this,O);for(var b=arguments.length,k=Array(b),N=0;N<b;N++)k[N]=arguments[N];return C=(R=(g=T(this,(F=O.__proto__||Object.getPrototypeOf(O)).call.apply(F,[this].concat(k))),g),g.state={delayed:g.props.delay>0},R),T(g,C)}return o(O,[{key:"componentDidMount",value:function(){var R=this,g=this.props.delay,C=this.state.delayed;C&&(this.timeout=setTimeout(function(){R.setState({delayed:!1})},g))}},{key:"componentWillUnmount",value:function(){var R=this.timeout;R&&clearTimeout(R)}},{key:"render",value:function(){var R=this.props,g=R.color;R.delay;var C=R.type,b=R.height,k=R.width,N=E(R,["color","delay","type","height","width"]),x=this.state.delayed?"blank":C,re=f[x],Ae={fill:g,height:b,width:k};return l.default.createElement("div",s({style:Ae,dangerouslySetInnerHTML:{__html:re}},N))}}]),O}(a.Component);w.propTypes={color:d.default.string,delay:d.default.number,type:d.default.string,height:d.default.oneOfType([d.default.string,d.default.number]),width:d.default.oneOfType([d.default.string,d.default.number])},w.defaultProps={color:"#fff",delay:0,type:"balls",height:64,width:64},r.default=w},function(n,r,i){n.exports=i(9)},function(n,r,i){/** @license React v16.3.2
 * react.production.min.js
 *
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var s=i(2),o=i(0),a=i(5),l=i(1),u=typeof Symbol=="function"&&Symbol.for,d=u?Symbol.for("react.element"):60103,h=u?Symbol.for("react.portal"):60106,f=u?Symbol.for("react.fragment"):60107,m=u?Symbol.for("react.strict_mode"):60108,y=u?Symbol.for("react.provider"):60109,E=u?Symbol.for("react.context"):60110,S=u?Symbol.for("react.async_mode"):60111,T=u?Symbol.for("react.forward_ref"):60112,_=typeof Symbol=="function"&&Symbol.iterator;function w(U){for(var G=arguments.length-1,he="http://reactjs.org/docs/error-decoder.html?invariant="+U,se=0;se<G;se++)he+="&args[]="+encodeURIComponent(arguments[se+1]);o(!1,"Minified React error #"+U+"; visit %s for the full message or use the non-minified dev environment for full errors and additional helpful warnings. ",he)}var A={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}};function O(U,G,he){this.props=U,this.context=G,this.refs=a,this.updater=he||A}O.prototype.isReactComponent={},O.prototype.setState=function(U,G){typeof U!="object"&&typeof U!="function"&&U!=null&&w("85"),this.updater.enqueueSetState(this,U,G,"setState")},O.prototype.forceUpdate=function(U){this.updater.enqueueForceUpdate(this,U,"forceUpdate")};function F(){}F.prototype=O.prototype;function R(U,G,he){this.props=U,this.context=G,this.refs=a,this.updater=he||A}var g=R.prototype=new F;g.constructor=R,s(g,O.prototype),g.isPureReactComponent=!0;var C={current:null},b=Object.prototype.hasOwnProperty,k={key:!0,ref:!0,__self:!0,__source:!0};function N(U,G,he){var se=void 0,fe={},Ve=null,ct=null;if(G!=null)for(se in G.ref!==void 0&&(ct=G.ref),G.key!==void 0&&(Ve=""+G.key),G)b.call(G,se)&&!k.hasOwnProperty(se)&&(fe[se]=G[se]);var Oe=arguments.length-2;if(Oe===1)fe.children=he;else if(1<Oe){for(var Mt=Array(Oe),gn=0;gn<Oe;gn++)Mt[gn]=arguments[gn+2];fe.children=Mt}if(U&&U.defaultProps)for(se in Oe=U.defaultProps,Oe)fe[se]===void 0&&(fe[se]=Oe[se]);return{$$typeof:d,type:U,key:Ve,ref:ct,props:fe,_owner:C.current}}function x(U){return typeof U=="object"&&U!==null&&U.$$typeof===d}function re(U){var G={"=":"=0",":":"=2"};return"$"+(""+U).replace(/[=:]/g,function(he){return G[he]})}var Ae=/\/+/g,Ce=[];function te(U,G,he,se){if(Ce.length){var fe=Ce.pop();return fe.result=U,fe.keyPrefix=G,fe.func=he,fe.context=se,fe.count=0,fe}return{result:U,keyPrefix:G,func:he,context:se,count:0}}function H(U){U.result=null,U.keyPrefix=null,U.func=null,U.context=null,U.count=0,10>Ce.length&&Ce.push(U)}function Q(U,G,he,se){var fe=typeof U;(fe==="undefined"||fe==="boolean")&&(U=null);var Ve=!1;if(U===null)Ve=!0;else switch(fe){case"string":case"number":Ve=!0;break;case"object":switch(U.$$typeof){case d:case h:Ve=!0}}if(Ve)return he(se,U,G===""?"."+ie(U,0):G),1;if(Ve=0,G=G===""?".":G+":",Array.isArray(U))for(var ct=0;ct<U.length;ct++){fe=U[ct];var Oe=G+ie(fe,ct);Ve+=Q(fe,Oe,he,se)}else if(U===null||typeof U>"u"?Oe=null:(Oe=_&&U[_]||U["@@iterator"],Oe=typeof Oe=="function"?Oe:null),typeof Oe=="function")for(U=Oe.call(U),ct=0;!(fe=U.next()).done;)fe=fe.value,Oe=G+ie(fe,ct++),Ve+=Q(fe,Oe,he,se);else fe==="object"&&(he=""+U,w("31",he==="[object Object]"?"object with keys {"+Object.keys(U).join(", ")+"}":he,""));return Ve}function ie(U,G){return typeof U=="object"&&U!==null&&U.key!=null?re(U.key):G.toString(36)}function xe(U,G){U.func.call(U.context,G,U.count++)}function q(U,G,he){var se=U.result,fe=U.keyPrefix;U=U.func.call(U.context,G,U.count++),Array.isArray(U)?J(U,se,he,l.thatReturnsArgument):U!=null&&(x(U)&&(G=fe+(!U.key||G&&G.key===U.key?"":(""+U.key).replace(Ae,"$&/")+"/")+he,U={$$typeof:d,type:U.type,key:G,ref:U.ref,props:U.props,_owner:U._owner}),se.push(U))}function J(U,G,he,se,fe){var Ve="";he!=null&&(Ve=(""+he).replace(Ae,"$&/")+"/"),G=te(G,Ve,se,fe),U==null||Q(U,"",q,G),H(G)}var _e={Children:{map:function(U,G,he){if(U==null)return U;var se=[];return J(U,se,null,G,he),se},forEach:function(U,G,he){if(U==null)return U;G=te(null,null,G,he),U==null||Q(U,"",xe,G),H(G)},count:function(U){return U==null?0:Q(U,"",l.thatReturnsNull,null)},toArray:function(U){var G=[];return J(U,G,null,l.thatReturnsArgument),G},only:function(U){return x(U)||w("143"),U}},createRef:function(){return{current:null}},Component:O,PureComponent:R,createContext:function(U,G){return G===void 0&&(G=null),U={$$typeof:E,_calculateChangedBits:G,_defaultValue:U,_currentValue:U,_changedBits:0,Provider:null,Consumer:null},U.Provider={$$typeof:y,_context:U},U.Consumer=U},forwardRef:function(U){return{$$typeof:T,render:U}},Fragment:f,StrictMode:m,unstable_AsyncMode:S,createElement:N,cloneElement:function(U,G,he){U==null&&w("267",U);var se=void 0,fe=s({},U.props),Ve=U.key,ct=U.ref,Oe=U._owner;if(G!=null){G.ref!==void 0&&(ct=G.ref,Oe=C.current),G.key!==void 0&&(Ve=""+G.key);var Mt=void 0;U.type&&U.type.defaultProps&&(Mt=U.type.defaultProps);for(se in G)b.call(G,se)&&!k.hasOwnProperty(se)&&(fe[se]=G[se]===void 0&&Mt!==void 0?Mt[se]:G[se])}if(se=arguments.length-2,se===1)fe.children=he;else if(1<se){Mt=Array(se);for(var gn=0;gn<se;gn++)Mt[gn]=arguments[gn+2];fe.children=Mt}return{$$typeof:d,type:U.type,key:Ve,ref:ct,props:fe,_owner:Oe}},createFactory:function(U){var G=N.bind(null,U);return G.type=U,G},isValidElement:x,version:"16.3.2",__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{ReactCurrentOwner:C,assign:s}},Te=Object.freeze({default:_e}),me=Te&&_e||Te;n.exports=me.default?me.default:me},function(n,r,i){},function(n,r,i){n.exports=i(13)()},function(n,r,i){var s=i(1),o=i(0),a=i(3),l=i(2),u=i(4),d=i(6);n.exports=function(h,f){var m=typeof Symbol=="function"&&Symbol.iterator,y="@@iterator";function E(q){var J=q&&(m&&q[m]||q[y]);if(typeof J=="function")return J}var S="<<anonymous>>",T={array:O("array"),bool:O("boolean"),func:O("function"),number:O("number"),object:O("object"),string:O("string"),symbol:O("symbol"),any:F(),arrayOf:R,element:g(),instanceOf:C,node:x(),objectOf:k,oneOf:b,oneOfType:N,shape:re,exact:Ae};function _(q,J){return q===J?q!==0||1/q===1/J:q!==q&&J!==J}function w(q){this.message=q,this.stack=""}w.prototype=Error.prototype;function A(q){function J(Te,me,U,G,he,se,fe){return G=G||S,se=se||U,fe!==u&&f&&o(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use `PropTypes.checkPropTypes()` to call them. Read more at http://fb.me/use-check-prop-types"),me[U]==null?Te?me[U]===null?new w("The "+he+" `"+se+"` is marked as required "+("in `"+G+"`, but its value is `null`.")):new w("The "+he+" `"+se+"` is marked as required in "+("`"+G+"`, but its value is `undefined`.")):null:q(me,U,G,he,se)}var _e=J.bind(null,!1);return _e.isRequired=J.bind(null,!0),_e}function O(q){function J(_e,Te,me,U,G,he){var se=_e[Te],fe=H(se);if(fe!==q){var Ve=Q(se);return new w("Invalid "+U+" `"+G+"` of type "+("`"+Ve+"` supplied to `"+me+"`, expected ")+("`"+q+"`."))}return null}return A(J)}function F(){return A(s.thatReturnsNull)}function R(q){function J(_e,Te,me,U,G){if(typeof q!="function")return new w("Property `"+G+"` of component `"+me+"` has invalid PropType notation inside arrayOf.");var he=_e[Te];if(!Array.isArray(he)){var se=H(he);return new w("Invalid "+U+" `"+G+"` of type "+("`"+se+"` supplied to `"+me+"`, expected an array."))}for(var fe=0;fe<he.length;fe++){var Ve=q(he,fe,me,U,G+"["+fe+"]",u);if(Ve instanceof Error)return Ve}return null}return A(J)}function g(){function q(J,_e,Te,me,U){var G=J[_e];if(!h(G)){var he=H(G);return new w("Invalid "+me+" `"+U+"` of type "+("`"+he+"` supplied to `"+Te+"`, expected a single ReactElement."))}return null}return A(q)}function C(q){function J(_e,Te,me,U,G){if(!(_e[Te]instanceof q)){var he=q.name||S,se=xe(_e[Te]);return new w("Invalid "+U+" `"+G+"` of type "+("`"+se+"` supplied to `"+me+"`, expected ")+("instance of `"+he+"`."))}return null}return A(J)}function b(q){if(!Array.isArray(q))return s.thatReturnsNull;function J(_e,Te,me,U,G){for(var he=_e[Te],se=0;se<q.length;se++)if(_(he,q[se]))return null;var fe=JSON.stringify(q);return new w("Invalid "+U+" `"+G+"` of value `"+he+"` "+("supplied to `"+me+"`, expected one of "+fe+"."))}return A(J)}function k(q){function J(_e,Te,me,U,G){if(typeof q!="function")return new w("Property `"+G+"` of component `"+me+"` has invalid PropType notation inside objectOf.");var he=_e[Te],se=H(he);if(se!=="object")return new w("Invalid "+U+" `"+G+"` of type "+("`"+se+"` supplied to `"+me+"`, expected an object."));for(var fe in he)if(he.hasOwnProperty(fe)){var Ve=q(he,fe,me,U,G+"."+fe,u);if(Ve instanceof Error)return Ve}return null}return A(J)}function N(q){if(!Array.isArray(q))return s.thatReturnsNull;for(var J=0;J<q.length;J++){var _e=q[J];if(typeof _e!="function")return a(!1,"Invalid argument supplied to oneOfType. Expected an array of check functions, but received %s at index %s.",ie(_e),J),s.thatReturnsNull}function Te(me,U,G,he,se){for(var fe=0;fe<q.length;fe++){var Ve=q[fe];if(Ve(me,U,G,he,se,u)==null)return null}return new w("Invalid "+he+" `"+se+"` supplied to "+("`"+G+"`."))}return A(Te)}function x(){function q(J,_e,Te,me,U){return Ce(J[_e])?null:new w("Invalid "+me+" `"+U+"` supplied to "+("`"+Te+"`, expected a ReactNode."))}return A(q)}function re(q){function J(_e,Te,me,U,G){var he=_e[Te],se=H(he);if(se!=="object")return new w("Invalid "+U+" `"+G+"` of type `"+se+"` "+("supplied to `"+me+"`, expected `object`."));for(var fe in q){var Ve=q[fe];if(Ve){var ct=Ve(he,fe,me,U,G+"."+fe,u);if(ct)return ct}}return null}return A(J)}function Ae(q){function J(_e,Te,me,U,G){var he=_e[Te],se=H(he);if(se!=="object")return new w("Invalid "+U+" `"+G+"` of type `"+se+"` "+("supplied to `"+me+"`, expected `object`."));var fe=l({},_e[Te],q);for(var Ve in fe){var ct=q[Ve];if(!ct)return new w("Invalid "+U+" `"+G+"` key `"+Ve+"` supplied to `"+me+"`.\nBad object: "+JSON.stringify(_e[Te],null,"  ")+`
Valid keys: `+JSON.stringify(Object.keys(q),null,"  "));var Oe=ct(he,Ve,me,U,G+"."+Ve,u);if(Oe)return Oe}return null}return A(J)}function Ce(q){switch(typeof q){case"number":case"string":case"undefined":return!0;case"boolean":return!q;case"object":if(Array.isArray(q))return q.every(Ce);if(q===null||h(q))return!0;var J=E(q);if(J){var _e=J.call(q),Te;if(J!==q.entries){for(;!(Te=_e.next()).done;)if(!Ce(Te.value))return!1}else for(;!(Te=_e.next()).done;){var me=Te.value;if(me&&!Ce(me[1]))return!1}}else return!1;return!0;default:return!1}}function te(q,J){return q==="symbol"||J["@@toStringTag"]==="Symbol"||typeof Symbol=="function"&&J instanceof Symbol}function H(q){var J=typeof q;return Array.isArray(q)?"array":q instanceof RegExp?"object":te(J,q)?"symbol":J}function Q(q){if(typeof q>"u"||q===null)return""+q;var J=H(q);if(J==="object"){if(q instanceof Date)return"date";if(q instanceof RegExp)return"regexp"}return J}function ie(q){var J=Q(q);switch(J){case"array":case"object":return"an "+J;case"boolean":case"date":case"regexp":return"a "+J;default:return J}}function xe(q){return!q.constructor||!q.constructor.name?S:q.constructor.name}return T.checkPropTypes=d,T.PropTypes=T,T}},function(n,r,i){var s=i(1),o=i(0),a=i(4);n.exports=function(){function l(h,f,m,y,E,S){S!==a&&o(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}l.isRequired=l;function u(){return l}var d={array:l,bool:l,func:l,number:l,object:l,string:l,symbol:l,any:l,arrayOf:u,element:l,instanceOf:u,node:l,objectOf:u,oneOf:u,oneOfType:u,shape:u,exact:u};return d.checkPropTypes=s,d.PropTypes=d,d}},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=i(15);Object.defineProperty(r,"blank",{enumerable:!0,get:function(){return y(s).default}});var o=i(16);Object.defineProperty(r,"balls",{enumerable:!0,get:function(){return y(o).default}});var a=i(17);Object.defineProperty(r,"bars",{enumerable:!0,get:function(){return y(a).default}});var l=i(18);Object.defineProperty(r,"bubbles",{enumerable:!0,get:function(){return y(l).default}});var u=i(19);Object.defineProperty(r,"cubes",{enumerable:!0,get:function(){return y(u).default}});var d=i(20);Object.defineProperty(r,"cylon",{enumerable:!0,get:function(){return y(d).default}});var h=i(21);Object.defineProperty(r,"spin",{enumerable:!0,get:function(){return y(h).default}});var f=i(22);Object.defineProperty(r,"spinningBubbles",{enumerable:!0,get:function(){return y(f).default}});var m=i(23);Object.defineProperty(r,"spokes",{enumerable:!0,get:function(){return y(m).default}});function y(E){return E&&E.__esModule?E:{default:E}}},function(n,r){n.exports=`<svg class="icon-blank" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32"></svg>
`},function(n,r){n.exports=`<svg class="icon-loading" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32">
  <path transform="translate(-8 0)" d="M4 12 A4 4 0 0 0 4 20 A4 4 0 0 0 4 12"> 
    <animateTransform attributeName="transform" type="translate" values="-8 0; 2 0; 2 0;" dur="0.8s" repeatCount="indefinite" begin="0" keytimes="0;.25;1" keySplines="0.2 0.2 0.4 0.8;0.2 0.6 0.4 0.8" calcMode="spline"  />
  </path>
  <path transform="translate(2 0)" d="M4 12 A4 4 0 0 0 4 20 A4 4 0 0 0 4 12"> 
    <animateTransform attributeName="transform" type="translate" values="2 0; 12 0; 12 0;" dur="0.8s" repeatCount="indefinite" begin="0" keytimes="0;.35;1" keySplines="0.2 0.2 0.4 0.8;0.2 0.6 0.4 0.8" calcMode="spline"  />
  </path>
  <path transform="translate(12 0)" d="M4 12 A4 4 0 0 0 4 20 A4 4 0 0 0 4 12"> 
    <animateTransform attributeName="transform" type="translate" values="12 0; 22 0; 22 0;" dur="0.8s" repeatCount="indefinite" begin="0" keytimes="0;.45;1" keySplines="0.2 0.2 0.4 0.8;0.2 0.6 0.4 0.8" calcMode="spline"  />
  </path>
  <path transform="translate(24 0)" d="M4 12 A4 4 0 0 0 4 20 A4 4 0 0 0 4 12"> 
    <animateTransform attributeName="transform" type="translate" values="22 0; 32 0; 32 0;" dur="0.8s" repeatCount="indefinite" begin="0" keytimes="0;.55;1" keySplines="0.2 0.2 0.4 0.8;0.2 0.6 0.4 0.8" calcMode="spline"  />
  </path>
</svg>
`},function(n,r){n.exports=`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32">
  <path transform="translate(2)" d="M0 12 V20 H4 V12z"> 
    <animate attributeName="d" values="M0 12 V20 H4 V12z; M0 4 V28 H4 V4z; M0 12 V20 H4 V12z; M0 12 V20 H4 V12z" dur="1.2s" repeatCount="indefinite" begin="0" keytimes="0;.2;.5;1" keySplines="0.2 0.2 0.4 0.8;0.2 0.6 0.4 0.8;0.2 0.8 0.4 0.8" calcMode="spline"  />
  </path>
  <path transform="translate(8)" d="M0 12 V20 H4 V12z">
    <animate attributeName="d" values="M0 12 V20 H4 V12z; M0 4 V28 H4 V4z; M0 12 V20 H4 V12z; M0 12 V20 H4 V12z" dur="1.2s" repeatCount="indefinite" begin="0.2" keytimes="0;.2;.5;1" keySplines="0.2 0.2 0.4 0.8;0.2 0.6 0.4 0.8;0.2 0.8 0.4 0.8" calcMode="spline"  />
  </path>
  <path transform="translate(14)" d="M0 12 V20 H4 V12z">
    <animate attributeName="d" values="M0 12 V20 H4 V12z; M0 4 V28 H4 V4z; M0 12 V20 H4 V12z; M0 12 V20 H4 V12z" dur="1.2s" repeatCount="indefinite" begin="0.4" keytimes="0;.2;.5;1" keySplines="0.2 0.2 0.4 0.8;0.2 0.6 0.4 0.8;0.2 0.8 0.4 0.8" calcMode="spline" />
  </path>
  <path transform="translate(20)" d="M0 12 V20 H4 V12z">
    <animate attributeName="d" values="M0 12 V20 H4 V12z; M0 4 V28 H4 V4z; M0 12 V20 H4 V12z; M0 12 V20 H4 V12z" dur="1.2s" repeatCount="indefinite" begin="0.6" keytimes="0;.2;.5;1" keySplines="0.2 0.2 0.4 0.8;0.2 0.6 0.4 0.8;0.2 0.8 0.4 0.8" calcMode="spline" />
  </path>
  <path transform="translate(26)" d="M0 12 V20 H4 V12z">
    <animate attributeName="d" values="M0 12 V20 H4 V12z; M0 4 V28 H4 V4z; M0 12 V20 H4 V12z; M0 12 V20 H4 V12z" dur="1.2s" repeatCount="indefinite" begin="0.8" keytimes="0;.2;.5;1" keySplines="0.2 0.2 0.4 0.8;0.2 0.6 0.4 0.8;0.2 0.8 0.4 0.8" calcMode="spline" />
  </path>
</svg>
`},function(n,r){n.exports=`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32">
  <circle transform="translate(8 0)" cx="0" cy="16" r="0"> 
    <animate attributeName="r" values="0; 4; 0; 0" dur="1.2s" repeatCount="indefinite" begin="0"
      keytimes="0;0.2;0.7;1" keySplines="0.2 0.2 0.4 0.8;0.2 0.6 0.4 0.8;0.2 0.6 0.4 0.8" calcMode="spline" />
  </circle>
  <circle transform="translate(16 0)" cx="0" cy="16" r="0"> 
    <animate attributeName="r" values="0; 4; 0; 0" dur="1.2s" repeatCount="indefinite" begin="0.3"
      keytimes="0;0.2;0.7;1" keySplines="0.2 0.2 0.4 0.8;0.2 0.6 0.4 0.8;0.2 0.6 0.4 0.8" calcMode="spline" />
  </circle>
  <circle transform="translate(24 0)" cx="0" cy="16" r="0"> 
    <animate attributeName="r" values="0; 4; 0; 0" dur="1.2s" repeatCount="indefinite" begin="0.6"
      keytimes="0;0.2;0.7;1" keySplines="0.2 0.2 0.4 0.8;0.2 0.6 0.4 0.8;0.2 0.6 0.4 0.8" calcMode="spline" />
  </circle>
</svg>
`},function(n,r){n.exports=`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32">
  <path transform="translate(-8 0)" d="M0 12 V20 H8 V12z"> 
    <animateTransform attributeName="transform" type="translate" values="-8 0; 2 0; 2 0;" dur="0.8s" repeatCount="indefinite" begin="0" keytimes="0;.25;1" keySplines="0.2 0.2 0.4 0.8;0.2 0.6 0.4 0.8" calcMode="spline"  />
  </path>
  <path transform="translate(2 0)" d="M0 12 V20 H8 V12z"> 
    <animateTransform attributeName="transform" type="translate" values="2 0; 12 0; 12 0;" dur="0.8s" repeatCount="indefinite" begin="0" keytimes="0;.35;1" keySplines="0.2 0.2 0.4 0.8;0.2 0.6 0.4 0.8" calcMode="spline"  />
  </path>
  <path transform="translate(12 0)" d="M0 12 V20 H8 V12z"> 
    <animateTransform attributeName="transform" type="translate" values="12 0; 22 0; 22 0;" dur="0.8s" repeatCount="indefinite" begin="0" keytimes="0;.45;1" keySplines="0.2 0.2 0.4 0.8;0.2 0.6 0.4 0.8" calcMode="spline"  />
  </path>
  <path transform="translate(24 0)" d="M0 12 V20 H8 V12z"> 
    <animateTransform attributeName="transform" type="translate" values="22 0; 32 0; 32 0;" dur="0.8s" repeatCount="indefinite" begin="0" keytimes="0;.55;1" keySplines="0.2 0.2 0.4 0.8;0.2 0.6 0.4 0.8" calcMode="spline"  />
  </path>
</svg>
`},function(n,r){n.exports=`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32">
  <path transform="translate(0 0)" d="M0 12 V20 H4 V12z">
    <animateTransform attributeName="transform" type="translate" values="0 0; 28 0; 0 0; 0 0" dur="1.5s" begin="0" repeatCount="indefinite" keytimes="0;0.3;0.6;1" keySplines="0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8" calcMode="spline" />
  </path>
  <path opacity="0.5" transform="translate(0 0)" d="M0 12 V20 H4 V12z">
    <animateTransform attributeName="transform" type="translate" values="0 0; 28 0; 0 0; 0 0" dur="1.5s" begin="0.1s" repeatCount="indefinite" keytimes="0;0.3;0.6;1" keySplines="0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8" calcMode="spline" />
  </path>
  <path opacity="0.25" transform="translate(0 0)" d="M0 12 V20 H4 V12z">
    <animateTransform attributeName="transform" type="translate" values="0 0; 28 0; 0 0; 0 0" dur="1.5s" begin="0.2s" repeatCount="indefinite" keytimes="0;0.3;0.6;1" keySplines="0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8" calcMode="spline" />
  </path>
</svg>
`},function(n,r){n.exports=`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32">
  <path opacity=".25" d="M16 0 A16 16 0 0 0 16 32 A16 16 0 0 0 16 0 M16 4 A12 12 0 0 1 16 28 A12 12 0 0 1 16 4"/>
  <path d="M16 0 A16 16 0 0 1 32 16 L28 16 A12 12 0 0 0 16 4z">
    <animateTransform attributeName="transform" type="rotate" from="0 16 16" to="360 16 16" dur="0.8s" repeatCount="indefinite" />
  </path>
</svg>
`},function(n,r){n.exports=`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32">
  <circle cx="16" cy="3" r="0">
    <animate attributeName="r" values="0;3;0;0" dur="1s" repeatCount="indefinite" begin="0" keySplines="0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8" calcMode="spline" />
  </circle>
  <circle transform="rotate(45 16 16)" cx="16" cy="3" r="0">
    <animate attributeName="r" values="0;3;0;0" dur="1s" repeatCount="indefinite" begin="0.125s" keySplines="0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8" calcMode="spline" />
  </circle>
  <circle transform="rotate(90 16 16)" cx="16" cy="3" r="0">
    <animate attributeName="r" values="0;3;0;0" dur="1s" repeatCount="indefinite" begin="0.25s" keySplines="0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8" calcMode="spline" />
  </circle>
  <circle transform="rotate(135 16 16)" cx="16" cy="3" r="0">
    <animate attributeName="r" values="0;3;0;0" dur="1s" repeatCount="indefinite" begin="0.375s" keySplines="0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8" calcMode="spline" />
  </circle>
  <circle transform="rotate(180 16 16)" cx="16" cy="3" r="0">
    <animate attributeName="r" values="0;3;0;0" dur="1s" repeatCount="indefinite" begin="0.5s" keySplines="0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8" calcMode="spline" />
  </circle>
  <circle transform="rotate(225 16 16)" cx="16" cy="3" r="0">
    <animate attributeName="r" values="0;3;0;0" dur="1s" repeatCount="indefinite" begin="0.625s" keySplines="0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8" calcMode="spline" />
  </circle>
  <circle transform="rotate(270 16 16)" cx="16" cy="3" r="0">
    <animate attributeName="r" values="0;3;0;0" dur="1s" repeatCount="indefinite" begin="0.75s" keySplines="0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8" calcMode="spline" />
  </circle>
  <circle transform="rotate(315 16 16)" cx="16" cy="3" r="0">
    <animate attributeName="r" values="0;3;0;0" dur="1s" repeatCount="indefinite" begin="0.875s" keySplines="0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8" calcMode="spline" />
  </circle>
  <circle transform="rotate(180 16 16)" cx="16" cy="3" r="0">
    <animate attributeName="r" values="0;3;0;0" dur="1s" repeatCount="indefinite" begin="0.5s" keySplines="0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8" calcMode="spline" />
  </circle>
</svg>
`},function(n,r){n.exports=`<svg id="loading" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32">
  <path opacity=".1" d="M14 0 H18 V8 H14 z" transform="rotate(0 16 16)">
    <animate attributeName="opacity" from="1" to=".1" dur="1s" repeatCount="indefinite" begin="0"/>
  </path>
  <path opacity=".1" d="M14 0 H18 V8 H14 z" transform="rotate(45 16 16)">
    <animate attributeName="opacity" from="1" to=".1" dur="1s" repeatCount="indefinite" begin="0.125s"/>
  </path>
  <path opacity=".1" d="M14 0 H18 V8 H14 z" transform="rotate(90 16 16)">
    <animate attributeName="opacity" from="1" to=".1" dur="1s" repeatCount="indefinite" begin="0.25s"/>
  </path>
  <path opacity=".1" d="M14 0 H18 V8 H14 z" transform="rotate(135 16 16)">
    <animate attributeName="opacity" from="1" to=".1" dur="1s" repeatCount="indefinite" begin="0.375s"/>
  </path>
  <path opacity=".1" d="M14 0 H18 V8 H14 z" transform="rotate(180 16 16)">
    <animate attributeName="opacity" from="1" to=".1" dur="1s" repeatCount="indefinite" begin="0.5s"/>
  </path>
  <path opacity=".1" d="M14 0 H18 V8 H14 z" transform="rotate(225 16 16)">
    <animate attributeName="opacity" from="1" to=".1" dur="1s" repeatCount="indefinite" begin="0.675s"/>
  </path>
  <path opacity=".1" d="M14 0 H18 V8 H14 z" transform="rotate(270 16 16)">
    <animate attributeName="opacity" from="1" to=".1" dur="1s" repeatCount="indefinite" begin="0.75s"/>
  </path>
  <path opacity=".1" d="M14 0 H18 V8 H14 z" transform="rotate(315 16 16)">
    <animate attributeName="opacity" from="1" to=".1" dur="1s" repeatCount="indefinite" begin="0.875s"/>
  </path>
</svg>
`}])})})(Px);var HB=Px.exports;const qB=nv(HB),mm=()=>D.jsx(qB,{type:"spokes",color:"white",height:"40%",width:"40%",className:"text-center mx-3 "});function xx(t,e){return function(){return t.apply(e,arguments)}}const{toString:KB}=Object.prototype,{getPrototypeOf:dE}=Object,gm=(t=>e=>{const n=KB.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),ii=t=>(t=t.toLowerCase(),e=>gm(e)===t),ym=t=>e=>typeof e===t,{isArray:Xl}=Array,qc=ym("undefined");function GB(t){return t!==null&&!qc(t)&&t.constructor!==null&&!qc(t.constructor)&&yr(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const kx=ii("ArrayBuffer");function QB(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&kx(t.buffer),e}const YB=ym("string"),yr=ym("function"),Nx=ym("number"),_m=t=>t!==null&&typeof t=="object",XB=t=>t===!0||t===!1,ef=t=>{if(gm(t)!=="object")return!1;const e=dE(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},JB=ii("Date"),ZB=ii("File"),e5=ii("Blob"),t5=ii("FileList"),n5=t=>_m(t)&&yr(t.pipe),r5=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||yr(t.append)&&((e=gm(t))==="formdata"||e==="object"&&yr(t.toString)&&t.toString()==="[object FormData]"))},i5=ii("URLSearchParams"),[s5,o5,a5,l5]=["ReadableStream","Request","Response","Headers"].map(ii),u5=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function vd(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,i;if(typeof t!="object"&&(t=[t]),Xl(t))for(r=0,i=t.length;r<i;r++)e.call(null,t[r],r,t);else{const s=n?Object.getOwnPropertyNames(t):Object.keys(t),o=s.length;let a;for(r=0;r<o;r++)a=s[r],e.call(null,t[a],a,t)}}function Ox(t,e){e=e.toLowerCase();const n=Object.keys(t);let r=n.length,i;for(;r-- >0;)if(i=n[r],e===i.toLowerCase())return i;return null}const Oo=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Dx=t=>!qc(t)&&t!==Oo;function C_(){const{caseless:t}=Dx(this)&&this||{},e={},n=(r,i)=>{const s=t&&Ox(e,i)||i;ef(e[s])&&ef(r)?e[s]=C_(e[s],r):ef(r)?e[s]=C_({},r):Xl(r)?e[s]=r.slice():e[s]=r};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&vd(arguments[r],n);return e}const c5=(t,e,n,{allOwnKeys:r}={})=>(vd(e,(i,s)=>{n&&yr(i)?t[s]=xx(i,n):t[s]=i},{allOwnKeys:r}),t),d5=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),h5=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},f5=(t,e,n,r)=>{let i,s,o;const a={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),s=i.length;s-- >0;)o=i[s],(!r||r(o,t,e))&&!a[o]&&(e[o]=t[o],a[o]=!0);t=n!==!1&&dE(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},p5=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},m5=t=>{if(!t)return null;if(Xl(t))return t;let e=t.length;if(!Nx(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},g5=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&dE(Uint8Array)),y5=(t,e)=>{const r=(t&&t[Symbol.iterator]).call(t);let i;for(;(i=r.next())&&!i.done;){const s=i.value;e.call(t,s[0],s[1])}},_5=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},v5=ii("HTMLFormElement"),E5=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,i){return r.toUpperCase()+i}),O1=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),w5=ii("RegExp"),Lx=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};vd(n,(i,s)=>{let o;(o=e(i,s,t))!==!1&&(r[s]=o||i)}),Object.defineProperties(t,r)},T5=t=>{Lx(t,(e,n)=>{if(yr(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(yr(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},S5=(t,e)=>{const n={},r=i=>{i.forEach(s=>{n[s]=!0})};return Xl(t)?r(t):r(String(t).split(e)),n},I5=()=>{},C5=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e,Og="abcdefghijklmnopqrstuvwxyz",D1="0123456789",Mx={DIGIT:D1,ALPHA:Og,ALPHA_DIGIT:Og+Og.toUpperCase()+D1},R5=(t=16,e=Mx.ALPHA_DIGIT)=>{let n="";const{length:r}=e;for(;t--;)n+=e[Math.random()*r|0];return n};function A5(t){return!!(t&&yr(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const b5=t=>{const e=new Array(10),n=(r,i)=>{if(_m(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[i]=r;const s=Xl(r)?[]:{};return vd(r,(o,a)=>{const l=n(o,i+1);!qc(l)&&(s[a]=l)}),e[i]=void 0,s}}return r};return n(t,0)},P5=ii("AsyncFunction"),x5=t=>t&&(_m(t)||yr(t))&&yr(t.then)&&yr(t.catch),Fx=((t,e)=>t?setImmediate:e?((n,r)=>(Oo.addEventListener("message",({source:i,data:s})=>{i===Oo&&s===n&&r.length&&r.shift()()},!1),i=>{r.push(i),Oo.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",yr(Oo.postMessage)),k5=typeof queueMicrotask<"u"?queueMicrotask.bind(Oo):typeof process<"u"&&process.nextTick||Fx,W={isArray:Xl,isArrayBuffer:kx,isBuffer:GB,isFormData:r5,isArrayBufferView:QB,isString:YB,isNumber:Nx,isBoolean:XB,isObject:_m,isPlainObject:ef,isReadableStream:s5,isRequest:o5,isResponse:a5,isHeaders:l5,isUndefined:qc,isDate:JB,isFile:ZB,isBlob:e5,isRegExp:w5,isFunction:yr,isStream:n5,isURLSearchParams:i5,isTypedArray:g5,isFileList:t5,forEach:vd,merge:C_,extend:c5,trim:u5,stripBOM:d5,inherits:h5,toFlatObject:f5,kindOf:gm,kindOfTest:ii,endsWith:p5,toArray:m5,forEachEntry:y5,matchAll:_5,isHTMLForm:v5,hasOwnProperty:O1,hasOwnProp:O1,reduceDescriptors:Lx,freezeMethods:T5,toObjectSet:S5,toCamelCase:E5,noop:I5,toFiniteNumber:C5,findKey:Ox,global:Oo,isContextDefined:Dx,ALPHABET:Mx,generateString:R5,isSpecCompliantForm:A5,toJSONObject:b5,isAsyncFn:P5,isThenable:x5,setImmediate:Fx,asap:k5};function je(t,e,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}W.inherits(je,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:W.toJSONObject(this.config),code:this.code,status:this.status}}});const Vx=je.prototype,Ux={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{Ux[t]={value:t}});Object.defineProperties(je,Ux);Object.defineProperty(Vx,"isAxiosError",{value:!0});je.from=(t,e,n,r,i,s)=>{const o=Object.create(Vx);return W.toFlatObject(t,o,function(l){return l!==Error.prototype},a=>a!=="isAxiosError"),je.call(o,t.message,e,n,r,i),o.cause=t,o.name=t.name,s&&Object.assign(o,s),o};const N5=null;function R_(t){return W.isPlainObject(t)||W.isArray(t)}function jx(t){return W.endsWith(t,"[]")?t.slice(0,-2):t}function L1(t,e,n){return t?t.concat(e).map(function(i,s){return i=jx(i),!n&&s?"["+i+"]":i}).join(n?".":""):e}function O5(t){return W.isArray(t)&&!t.some(R_)}const D5=W.toFlatObject(W,{},null,function(e){return/^is[A-Z]/.test(e)});function vm(t,e,n){if(!W.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=W.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(E,S){return!W.isUndefined(S[E])});const r=n.metaTokens,i=n.visitor||d,s=n.dots,o=n.indexes,l=(n.Blob||typeof Blob<"u"&&Blob)&&W.isSpecCompliantForm(e);if(!W.isFunction(i))throw new TypeError("visitor must be a function");function u(y){if(y===null)return"";if(W.isDate(y))return y.toISOString();if(!l&&W.isBlob(y))throw new je("Blob is not supported. Use a Buffer instead.");return W.isArrayBuffer(y)||W.isTypedArray(y)?l&&typeof Blob=="function"?new Blob([y]):Buffer.from(y):y}function d(y,E,S){let T=y;if(y&&!S&&typeof y=="object"){if(W.endsWith(E,"{}"))E=r?E:E.slice(0,-2),y=JSON.stringify(y);else if(W.isArray(y)&&O5(y)||(W.isFileList(y)||W.endsWith(E,"[]"))&&(T=W.toArray(y)))return E=jx(E),T.forEach(function(w,A){!(W.isUndefined(w)||w===null)&&e.append(o===!0?L1([E],A,s):o===null?E:E+"[]",u(w))}),!1}return R_(y)?!0:(e.append(L1(S,E,s),u(y)),!1)}const h=[],f=Object.assign(D5,{defaultVisitor:d,convertValue:u,isVisitable:R_});function m(y,E){if(!W.isUndefined(y)){if(h.indexOf(y)!==-1)throw Error("Circular reference detected in "+E.join("."));h.push(y),W.forEach(y,function(T,_){(!(W.isUndefined(T)||T===null)&&i.call(e,T,W.isString(_)?_.trim():_,E,f))===!0&&m(T,E?E.concat(_):[_])}),h.pop()}}if(!W.isObject(t))throw new TypeError("data must be an object");return m(t),e}function M1(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function hE(t,e){this._pairs=[],t&&vm(t,this,e)}const $x=hE.prototype;$x.append=function(e,n){this._pairs.push([e,n])};$x.toString=function(e){const n=e?function(r){return e.call(this,r,M1)}:M1;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};function L5(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Bx(t,e,n){if(!e)return t;const r=n&&n.encode||L5,i=n&&n.serialize;let s;if(i?s=i(e,n):s=W.isURLSearchParams(e)?e.toString():new hE(e,n).toString(r),s){const o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+s}return t}class F1{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){W.forEach(this.handlers,function(r){r!==null&&e(r)})}}const zx={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},M5=typeof URLSearchParams<"u"?URLSearchParams:hE,F5=typeof FormData<"u"?FormData:null,V5=typeof Blob<"u"?Blob:null,U5={isBrowser:!0,classes:{URLSearchParams:M5,FormData:F5,Blob:V5},protocols:["http","https","file","blob","url","data"]},fE=typeof window<"u"&&typeof document<"u",A_=typeof navigator=="object"&&navigator||void 0,j5=fE&&(!A_||["ReactNative","NativeScript","NS"].indexOf(A_.product)<0),$5=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",B5=fE&&window.location.href||"http://localhost",z5=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:fE,hasStandardBrowserEnv:j5,hasStandardBrowserWebWorkerEnv:$5,navigator:A_,origin:B5},Symbol.toStringTag,{value:"Module"})),ir={...z5,...U5};function W5(t,e){return vm(t,new ir.classes.URLSearchParams,Object.assign({visitor:function(n,r,i,s){return ir.isNode&&W.isBuffer(n)?(this.append(r,n.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)}},e))}function H5(t){return W.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function q5(t){const e={},n=Object.keys(t);let r;const i=n.length;let s;for(r=0;r<i;r++)s=n[r],e[s]=t[s];return e}function Wx(t){function e(n,r,i,s){let o=n[s++];if(o==="__proto__")return!0;const a=Number.isFinite(+o),l=s>=n.length;return o=!o&&W.isArray(i)?i.length:o,l?(W.hasOwnProp(i,o)?i[o]=[i[o],r]:i[o]=r,!a):((!i[o]||!W.isObject(i[o]))&&(i[o]=[]),e(n,r,i[o],s)&&W.isArray(i[o])&&(i[o]=q5(i[o])),!a)}if(W.isFormData(t)&&W.isFunction(t.entries)){const n={};return W.forEachEntry(t,(r,i)=>{e(H5(r),i,n,0)}),n}return null}function K5(t,e,n){if(W.isString(t))try{return(e||JSON.parse)(t),W.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(0,JSON.stringify)(t)}const Ed={transitional:zx,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const r=n.getContentType()||"",i=r.indexOf("application/json")>-1,s=W.isObject(e);if(s&&W.isHTMLForm(e)&&(e=new FormData(e)),W.isFormData(e))return i?JSON.stringify(Wx(e)):e;if(W.isArrayBuffer(e)||W.isBuffer(e)||W.isStream(e)||W.isFile(e)||W.isBlob(e)||W.isReadableStream(e))return e;if(W.isArrayBufferView(e))return e.buffer;if(W.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(s){if(r.indexOf("application/x-www-form-urlencoded")>-1)return W5(e,this.formSerializer).toString();if((a=W.isFileList(e))||r.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return vm(a?{"files[]":e}:e,l&&new l,this.formSerializer)}}return s||i?(n.setContentType("application/json",!1),K5(e)):e}],transformResponse:[function(e){const n=this.transitional||Ed.transitional,r=n&&n.forcedJSONParsing,i=this.responseType==="json";if(W.isResponse(e)||W.isReadableStream(e))return e;if(e&&W.isString(e)&&(r&&!this.responseType||i)){const o=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(a){if(o)throw a.name==="SyntaxError"?je.from(a,je.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ir.classes.FormData,Blob:ir.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};W.forEach(["delete","get","head","post","put","patch"],t=>{Ed.headers[t]={}});const G5=W.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Q5=t=>{const e={};let n,r,i;return t&&t.split(`
`).forEach(function(o){i=o.indexOf(":"),n=o.substring(0,i).trim().toLowerCase(),r=o.substring(i+1).trim(),!(!n||e[n]&&G5[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},V1=Symbol("internals");function Pu(t){return t&&String(t).trim().toLowerCase()}function tf(t){return t===!1||t==null?t:W.isArray(t)?t.map(tf):String(t)}function Y5(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}const X5=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function Dg(t,e,n,r,i){if(W.isFunction(r))return r.call(this,e,n);if(i&&(e=n),!!W.isString(e)){if(W.isString(r))return e.indexOf(r)!==-1;if(W.isRegExp(r))return r.test(e)}}function J5(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function Z5(t,e){const n=W.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(i,s,o){return this[r].call(this,e,i,s,o)},configurable:!0})})}class sr{constructor(e){e&&this.set(e)}set(e,n,r){const i=this;function s(a,l,u){const d=Pu(l);if(!d)throw new Error("header name must be a non-empty string");const h=W.findKey(i,d);(!h||i[h]===void 0||u===!0||u===void 0&&i[h]!==!1)&&(i[h||l]=tf(a))}const o=(a,l)=>W.forEach(a,(u,d)=>s(u,d,l));if(W.isPlainObject(e)||e instanceof this.constructor)o(e,n);else if(W.isString(e)&&(e=e.trim())&&!X5(e))o(Q5(e),n);else if(W.isHeaders(e))for(const[a,l]of e.entries())s(l,a,r);else e!=null&&s(n,e,r);return this}get(e,n){if(e=Pu(e),e){const r=W.findKey(this,e);if(r){const i=this[r];if(!n)return i;if(n===!0)return Y5(i);if(W.isFunction(n))return n.call(this,i,r);if(W.isRegExp(n))return n.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=Pu(e),e){const r=W.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||Dg(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let i=!1;function s(o){if(o=Pu(o),o){const a=W.findKey(r,o);a&&(!n||Dg(r,r[a],a,n))&&(delete r[a],i=!0)}}return W.isArray(e)?e.forEach(s):s(e),i}clear(e){const n=Object.keys(this);let r=n.length,i=!1;for(;r--;){const s=n[r];(!e||Dg(this,this[s],s,e,!0))&&(delete this[s],i=!0)}return i}normalize(e){const n=this,r={};return W.forEach(this,(i,s)=>{const o=W.findKey(r,s);if(o){n[o]=tf(i),delete n[s];return}const a=e?J5(s):String(s).trim();a!==s&&delete n[s],n[a]=tf(i),r[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return W.forEach(this,(r,i)=>{r!=null&&r!==!1&&(n[i]=e&&W.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(i=>r.set(i)),r}static accessor(e){const r=(this[V1]=this[V1]={accessors:{}}).accessors,i=this.prototype;function s(o){const a=Pu(o);r[a]||(Z5(i,o),r[a]=!0)}return W.isArray(e)?e.forEach(s):s(e),this}}sr.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);W.reduceDescriptors(sr.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(r){this[n]=r}}});W.freezeMethods(sr);function Lg(t,e){const n=this||Ed,r=e||n,i=sr.from(r.headers);let s=r.data;return W.forEach(t,function(a){s=a.call(n,s,i.normalize(),e?e.status:void 0)}),i.normalize(),s}function Hx(t){return!!(t&&t.__CANCEL__)}function Jl(t,e,n){je.call(this,t??"canceled",je.ERR_CANCELED,e,n),this.name="CanceledError"}W.inherits(Jl,je,{__CANCEL__:!0});function qx(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new je("Request failed with status code "+n.status,[je.ERR_BAD_REQUEST,je.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function e9(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function t9(t,e){t=t||10;const n=new Array(t),r=new Array(t);let i=0,s=0,o;return e=e!==void 0?e:1e3,function(l){const u=Date.now(),d=r[s];o||(o=u),n[i]=l,r[i]=u;let h=s,f=0;for(;h!==i;)f+=n[h++],h=h%t;if(i=(i+1)%t,i===s&&(s=(s+1)%t),u-o<e)return;const m=d&&u-d;return m?Math.round(f*1e3/m):void 0}}function n9(t,e){let n=0,r=1e3/e,i,s;const o=(u,d=Date.now())=>{n=d,i=null,s&&(clearTimeout(s),s=null),t.apply(null,u)};return[(...u)=>{const d=Date.now(),h=d-n;h>=r?o(u,d):(i=u,s||(s=setTimeout(()=>{s=null,o(i)},r-h)))},()=>i&&o(i)]}const rp=(t,e,n=3)=>{let r=0;const i=t9(50,250);return n9(s=>{const o=s.loaded,a=s.lengthComputable?s.total:void 0,l=o-r,u=i(l),d=o<=a;r=o;const h={loaded:o,total:a,progress:a?o/a:void 0,bytes:l,rate:u||void 0,estimated:u&&a&&d?(a-o)/u:void 0,event:s,lengthComputable:a!=null,[e?"download":"upload"]:!0};t(h)},n)},U1=(t,e)=>{const n=t!=null;return[r=>e[0]({lengthComputable:n,total:t,loaded:r}),e[1]]},j1=t=>(...e)=>W.asap(()=>t(...e)),r9=ir.hasStandardBrowserEnv?function(){const e=ir.navigator&&/(msie|trident)/i.test(ir.navigator.userAgent),n=document.createElement("a");let r;function i(s){let o=s;return e&&(n.setAttribute("href",o),o=n.href),n.setAttribute("href",o),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return r=i(window.location.href),function(o){const a=W.isString(o)?i(o):o;return a.protocol===r.protocol&&a.host===r.host}}():function(){return function(){return!0}}(),i9=ir.hasStandardBrowserEnv?{write(t,e,n,r,i,s){const o=[t+"="+encodeURIComponent(e)];W.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),W.isString(r)&&o.push("path="+r),W.isString(i)&&o.push("domain="+i),s===!0&&o.push("secure"),document.cookie=o.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function s9(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function o9(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function Kx(t,e){return t&&!s9(e)?o9(t,e):e}const $1=t=>t instanceof sr?{...t}:t;function na(t,e){e=e||{};const n={};function r(u,d,h){return W.isPlainObject(u)&&W.isPlainObject(d)?W.merge.call({caseless:h},u,d):W.isPlainObject(d)?W.merge({},d):W.isArray(d)?d.slice():d}function i(u,d,h){if(W.isUndefined(d)){if(!W.isUndefined(u))return r(void 0,u,h)}else return r(u,d,h)}function s(u,d){if(!W.isUndefined(d))return r(void 0,d)}function o(u,d){if(W.isUndefined(d)){if(!W.isUndefined(u))return r(void 0,u)}else return r(void 0,d)}function a(u,d,h){if(h in e)return r(u,d);if(h in t)return r(void 0,u)}const l={url:s,method:s,data:s,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(u,d)=>i($1(u),$1(d),!0)};return W.forEach(Object.keys(Object.assign({},t,e)),function(d){const h=l[d]||i,f=h(t[d],e[d],d);W.isUndefined(f)&&h!==a||(n[d]=f)}),n}const Gx=t=>{const e=na({},t);let{data:n,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:s,headers:o,auth:a}=e;e.headers=o=sr.from(o),e.url=Bx(Kx(e.baseURL,e.url),t.params,t.paramsSerializer),a&&o.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):"")));let l;if(W.isFormData(n)){if(ir.hasStandardBrowserEnv||ir.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((l=o.getContentType())!==!1){const[u,...d]=l?l.split(";").map(h=>h.trim()).filter(Boolean):[];o.setContentType([u||"multipart/form-data",...d].join("; "))}}if(ir.hasStandardBrowserEnv&&(r&&W.isFunction(r)&&(r=r(e)),r||r!==!1&&r9(e.url))){const u=i&&s&&i9.read(s);u&&o.set(i,u)}return e},a9=typeof XMLHttpRequest<"u",l9=a9&&function(t){return new Promise(function(n,r){const i=Gx(t);let s=i.data;const o=sr.from(i.headers).normalize();let{responseType:a,onUploadProgress:l,onDownloadProgress:u}=i,d,h,f,m,y;function E(){m&&m(),y&&y(),i.cancelToken&&i.cancelToken.unsubscribe(d),i.signal&&i.signal.removeEventListener("abort",d)}let S=new XMLHttpRequest;S.open(i.method.toUpperCase(),i.url,!0),S.timeout=i.timeout;function T(){if(!S)return;const w=sr.from("getAllResponseHeaders"in S&&S.getAllResponseHeaders()),O={data:!a||a==="text"||a==="json"?S.responseText:S.response,status:S.status,statusText:S.statusText,headers:w,config:t,request:S};qx(function(R){n(R),E()},function(R){r(R),E()},O),S=null}"onloadend"in S?S.onloadend=T:S.onreadystatechange=function(){!S||S.readyState!==4||S.status===0&&!(S.responseURL&&S.responseURL.indexOf("file:")===0)||setTimeout(T)},S.onabort=function(){S&&(r(new je("Request aborted",je.ECONNABORTED,t,S)),S=null)},S.onerror=function(){r(new je("Network Error",je.ERR_NETWORK,t,S)),S=null},S.ontimeout=function(){let A=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const O=i.transitional||zx;i.timeoutErrorMessage&&(A=i.timeoutErrorMessage),r(new je(A,O.clarifyTimeoutError?je.ETIMEDOUT:je.ECONNABORTED,t,S)),S=null},s===void 0&&o.setContentType(null),"setRequestHeader"in S&&W.forEach(o.toJSON(),function(A,O){S.setRequestHeader(O,A)}),W.isUndefined(i.withCredentials)||(S.withCredentials=!!i.withCredentials),a&&a!=="json"&&(S.responseType=i.responseType),u&&([f,y]=rp(u,!0),S.addEventListener("progress",f)),l&&S.upload&&([h,m]=rp(l),S.upload.addEventListener("progress",h),S.upload.addEventListener("loadend",m)),(i.cancelToken||i.signal)&&(d=w=>{S&&(r(!w||w.type?new Jl(null,t,S):w),S.abort(),S=null)},i.cancelToken&&i.cancelToken.subscribe(d),i.signal&&(i.signal.aborted?d():i.signal.addEventListener("abort",d)));const _=e9(i.url);if(_&&ir.protocols.indexOf(_)===-1){r(new je("Unsupported protocol "+_+":",je.ERR_BAD_REQUEST,t));return}S.send(s||null)})},u9=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let r=new AbortController,i;const s=function(u){if(!i){i=!0,a();const d=u instanceof Error?u:this.reason;r.abort(d instanceof je?d:new Jl(d instanceof Error?d.message:d))}};let o=e&&setTimeout(()=>{o=null,s(new je(`timeout ${e} of ms exceeded`,je.ETIMEDOUT))},e);const a=()=>{t&&(o&&clearTimeout(o),o=null,t.forEach(u=>{u.unsubscribe?u.unsubscribe(s):u.removeEventListener("abort",s)}),t=null)};t.forEach(u=>u.addEventListener("abort",s));const{signal:l}=r;return l.unsubscribe=()=>W.asap(a),l}},c9=function*(t,e){let n=t.byteLength;if(n<e){yield t;return}let r=0,i;for(;r<n;)i=r+e,yield t.slice(r,i),r=i},d9=async function*(t,e){for await(const n of h9(t))yield*c9(n,e)},h9=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:r}=await e.read();if(n)break;yield r}}finally{await e.cancel()}},B1=(t,e,n,r)=>{const i=d9(t,e);let s=0,o,a=l=>{o||(o=!0,r&&r(l))};return new ReadableStream({async pull(l){try{const{done:u,value:d}=await i.next();if(u){a(),l.close();return}let h=d.byteLength;if(n){let f=s+=h;n(f)}l.enqueue(new Uint8Array(d))}catch(u){throw a(u),u}},cancel(l){return a(l),i.return()}},{highWaterMark:2})},Em=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",Qx=Em&&typeof ReadableStream=="function",f9=Em&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),Yx=(t,...e)=>{try{return!!t(...e)}catch{return!1}},p9=Qx&&Yx(()=>{let t=!1;const e=new Request(ir.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),z1=64*1024,b_=Qx&&Yx(()=>W.isReadableStream(new Response("").body)),ip={stream:b_&&(t=>t.body)};Em&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!ip[e]&&(ip[e]=W.isFunction(t[e])?n=>n[e]():(n,r)=>{throw new je(`Response type '${e}' is not supported`,je.ERR_NOT_SUPPORT,r)})})})(new Response);const m9=async t=>{if(t==null)return 0;if(W.isBlob(t))return t.size;if(W.isSpecCompliantForm(t))return(await new Request(ir.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(W.isArrayBufferView(t)||W.isArrayBuffer(t))return t.byteLength;if(W.isURLSearchParams(t)&&(t=t+""),W.isString(t))return(await f9(t)).byteLength},g9=async(t,e)=>{const n=W.toFiniteNumber(t.getContentLength());return n??m9(e)},y9=Em&&(async t=>{let{url:e,method:n,data:r,signal:i,cancelToken:s,timeout:o,onDownloadProgress:a,onUploadProgress:l,responseType:u,headers:d,withCredentials:h="same-origin",fetchOptions:f}=Gx(t);u=u?(u+"").toLowerCase():"text";let m=u9([i,s&&s.toAbortSignal()],o),y;const E=m&&m.unsubscribe&&(()=>{m.unsubscribe()});let S;try{if(l&&p9&&n!=="get"&&n!=="head"&&(S=await g9(d,r))!==0){let O=new Request(e,{method:"POST",body:r,duplex:"half"}),F;if(W.isFormData(r)&&(F=O.headers.get("content-type"))&&d.setContentType(F),O.body){const[R,g]=U1(S,rp(j1(l)));r=B1(O.body,z1,R,g)}}W.isString(h)||(h=h?"include":"omit");const T="credentials"in Request.prototype;y=new Request(e,{...f,signal:m,method:n.toUpperCase(),headers:d.normalize().toJSON(),body:r,duplex:"half",credentials:T?h:void 0});let _=await fetch(y);const w=b_&&(u==="stream"||u==="response");if(b_&&(a||w&&E)){const O={};["status","statusText","headers"].forEach(C=>{O[C]=_[C]});const F=W.toFiniteNumber(_.headers.get("content-length")),[R,g]=a&&U1(F,rp(j1(a),!0))||[];_=new Response(B1(_.body,z1,R,()=>{g&&g(),E&&E()}),O)}u=u||"text";let A=await ip[W.findKey(ip,u)||"text"](_,t);return!w&&E&&E(),await new Promise((O,F)=>{qx(O,F,{data:A,headers:sr.from(_.headers),status:_.status,statusText:_.statusText,config:t,request:y})})}catch(T){throw E&&E(),T&&T.name==="TypeError"&&/fetch/i.test(T.message)?Object.assign(new je("Network Error",je.ERR_NETWORK,t,y),{cause:T.cause||T}):je.from(T,T&&T.code,t,y)}}),P_={http:N5,xhr:l9,fetch:y9};W.forEach(P_,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const W1=t=>`- ${t}`,_9=t=>W.isFunction(t)||t===null||t===!1,Xx={getAdapter:t=>{t=W.isArray(t)?t:[t];const{length:e}=t;let n,r;const i={};for(let s=0;s<e;s++){n=t[s];let o;if(r=n,!_9(n)&&(r=P_[(o=String(n)).toLowerCase()],r===void 0))throw new je(`Unknown adapter '${o}'`);if(r)break;i[o||"#"+s]=r}if(!r){const s=Object.entries(i).map(([a,l])=>`adapter ${a} `+(l===!1?"is not supported by the environment":"is not available in the build"));let o=e?s.length>1?`since :
`+s.map(W1).join(`
`):" "+W1(s[0]):"as no adapter specified";throw new je("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return r},adapters:P_};function Mg(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Jl(null,t)}function H1(t){return Mg(t),t.headers=sr.from(t.headers),t.data=Lg.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),Xx.getAdapter(t.adapter||Ed.adapter)(t).then(function(r){return Mg(t),r.data=Lg.call(t,t.transformResponse,r),r.headers=sr.from(r.headers),r},function(r){return Hx(r)||(Mg(t),r&&r.response&&(r.response.data=Lg.call(t,t.transformResponse,r.response),r.response.headers=sr.from(r.response.headers))),Promise.reject(r)})}const Jx="1.7.7",pE={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{pE[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const q1={};pE.transitional=function(e,n,r){function i(s,o){return"[Axios v"+Jx+"] Transitional option '"+s+"'"+o+(r?". "+r:"")}return(s,o,a)=>{if(e===!1)throw new je(i(o," has been removed"+(n?" in "+n:"")),je.ERR_DEPRECATED);return n&&!q1[o]&&(q1[o]=!0,console.warn(i(o," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(s,o,a):!0}};function v9(t,e,n){if(typeof t!="object")throw new je("options must be an object",je.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let i=r.length;for(;i-- >0;){const s=r[i],o=e[s];if(o){const a=t[s],l=a===void 0||o(a,s,t);if(l!==!0)throw new je("option "+s+" must be "+l,je.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new je("Unknown option "+s,je.ERR_BAD_OPTION)}}const x_={assertOptions:v9,validators:pE},fs=x_.validators;class Bo{constructor(e){this.defaults=e,this.interceptors={request:new F1,response:new F1}}async request(e,n){try{return await this._request(e,n)}catch(r){if(r instanceof Error){let i;Error.captureStackTrace?Error.captureStackTrace(i={}):i=new Error;const s=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?s&&!String(r.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+s):r.stack=s}catch{}}throw r}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=na(this.defaults,n);const{transitional:r,paramsSerializer:i,headers:s}=n;r!==void 0&&x_.assertOptions(r,{silentJSONParsing:fs.transitional(fs.boolean),forcedJSONParsing:fs.transitional(fs.boolean),clarifyTimeoutError:fs.transitional(fs.boolean)},!1),i!=null&&(W.isFunction(i)?n.paramsSerializer={serialize:i}:x_.assertOptions(i,{encode:fs.function,serialize:fs.function},!0)),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o=s&&W.merge(s.common,s[n.method]);s&&W.forEach(["delete","get","head","post","put","patch","common"],y=>{delete s[y]}),n.headers=sr.concat(o,s);const a=[];let l=!0;this.interceptors.request.forEach(function(E){typeof E.runWhen=="function"&&E.runWhen(n)===!1||(l=l&&E.synchronous,a.unshift(E.fulfilled,E.rejected))});const u=[];this.interceptors.response.forEach(function(E){u.push(E.fulfilled,E.rejected)});let d,h=0,f;if(!l){const y=[H1.bind(this),void 0];for(y.unshift.apply(y,a),y.push.apply(y,u),f=y.length,d=Promise.resolve(n);h<f;)d=d.then(y[h++],y[h++]);return d}f=a.length;let m=n;for(h=0;h<f;){const y=a[h++],E=a[h++];try{m=y(m)}catch(S){E.call(this,S);break}}try{d=H1.call(this,m)}catch(y){return Promise.reject(y)}for(h=0,f=u.length;h<f;)d=d.then(u[h++],u[h++]);return d}getUri(e){e=na(this.defaults,e);const n=Kx(e.baseURL,e.url);return Bx(n,e.params,e.paramsSerializer)}}W.forEach(["delete","get","head","options"],function(e){Bo.prototype[e]=function(n,r){return this.request(na(r||{},{method:e,url:n,data:(r||{}).data}))}});W.forEach(["post","put","patch"],function(e){function n(r){return function(s,o,a){return this.request(na(a||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:s,data:o}))}}Bo.prototype[e]=n(),Bo.prototype[e+"Form"]=n(!0)});class mE{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(s){n=s});const r=this;this.promise.then(i=>{if(!r._listeners)return;let s=r._listeners.length;for(;s-- >0;)r._listeners[s](i);r._listeners=null}),this.promise.then=i=>{let s;const o=new Promise(a=>{r.subscribe(a),s=a}).then(i);return o.cancel=function(){r.unsubscribe(s)},o},e(function(s,o,a){r.reason||(r.reason=new Jl(s,o,a),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=r=>{e.abort(r)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new mE(function(i){e=i}),cancel:e}}}function E9(t){return function(n){return t.apply(null,n)}}function w9(t){return W.isObject(t)&&t.isAxiosError===!0}const k_={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(k_).forEach(([t,e])=>{k_[e]=t});function Zx(t){const e=new Bo(t),n=xx(Bo.prototype.request,e);return W.extend(n,Bo.prototype,e,{allOwnKeys:!0}),W.extend(n,e,null,{allOwnKeys:!0}),n.create=function(i){return Zx(na(t,i))},n}const Qt=Zx(Ed);Qt.Axios=Bo;Qt.CanceledError=Jl;Qt.CancelToken=mE;Qt.isCancel=Hx;Qt.VERSION=Jx;Qt.toFormData=vm;Qt.AxiosError=je;Qt.Cancel=Qt.CanceledError;Qt.all=function(e){return Promise.all(e)};Qt.spread=E9;Qt.isAxiosError=w9;Qt.mergeConfig=na;Qt.AxiosHeaders=sr;Qt.formToJSON=t=>Wx(W.isHTMLForm(t)?new FormData(t):t);Qt.getAdapter=Xx.getAdapter;Qt.HttpStatusCode=k_;Qt.default=Qt;const ek=I.createContext({userArray:[]}),ra=()=>I.useContext(ek);function T9({children:t}){const{db:e,currentUser:n,setCurrentUser:r}=ga(),[i,s]=I.useState(0),[o,a]=I.useState(!1),d={getProjects:async()=>{try{const h=om(e,"projects");console.log("called");const f=await iE(h);let m=[];return f.forEach(y=>{m.push(y.data())}),m}catch(h){return console.error("Error fetching projects:",h),[]}},transformCloudinaryURL:h=>{if(h==="https://i.pinimg.com/736x/90/d1/ac/90d1ac48711f63c6a290238c8382632f.jpg")return h;const f="q_auto,f_auto",m=h.indexOf("/upload")+7;return h.slice(0,m)+`/${f}`+h.slice(m)},setProgress:s,progress:i,setIsSearchOpen:a,isSearchOpen:o};return D.jsx(ek.Provider,{value:d,children:t})}function S9(){const{currentUser:t,loginUzer:e,setCurrentUser:n}=ga(),r=fa(),{register:i,handleSubmit:s,formState:{errors:o,isSubmitting:a,isSubmitted:l}}=t0(),u=async d=>{try{e(d.email,d.password).then(h=>{Ni("Login Successful 🥳","success","bottom-center",2e3),console.log("Login done ",h.user.uid),r("/",{replace:!0}),n(h.user)}).catch(h=>{h.message==="Firebase: Error (auth/invalid-credential)."?Ni("Invalid User Credentials","error","bottom-center",4e3):Ni(h.message,"error","bottom-center",4e3)})}catch(h){console.log(h),Ni(h.message,"error","bottom-center",4e3)}};return I.useEffect(()=>{t!==null&&r("/")},[t]),D.jsx(D.Fragment,{children:D.jsxs("div",{className:"flex bg-cyan-100 min-h-full  flex-1 flex-col border-2 border-cyan-200  shadow-2xl justify-center px-6 py-10 lg:px-8 m-auto w-80 my-5 rounded-md ",children:[D.jsxs("div",{className:"sm:mx-auto sm:w-full sm:max-w-sm",children:[D.jsx("h1",{className:"mt-10 text-center text-4xl font-bold leading-9 tracking-tight text-blue-900",children:"R-Social"}),D.jsx("h2",{className:"mt-10 text-center text-2xl font-bold leading-9 tracking-tight text-gray-900",children:"Login"})]}),D.jsxs("div",{className:"mt-10 sm:mx-auto sm:w-full sm:max-w-sm",children:[D.jsxs("form",{onSubmit:s(u),className:"space-y-5",children:[D.jsxs("div",{children:[D.jsx("label",{htmlFor:"email",className:"block text-sm font-medium leading-6 text-gray-900",children:"Email"}),D.jsx("div",{className:"mt-2",children:D.jsx("input",{autoFocus:!0,id:"email",name:"email",type:"email",required:!0,...i("email",{required:!0}),autoComplete:"email",className:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6 "})})]}),D.jsxs("div",{children:[D.jsx("div",{className:"flex items-center justify-between",children:D.jsx("label",{htmlFor:"password",className:"block text-sm font-medium leading-6 text-gray-900",children:"Password"})}),D.jsx("div",{className:"mt-2",children:D.jsx("input",{...i("password",{required:!0,minLength:{value:8,message:"Password must have atleast 8 characters"},maxLength:{value:16,message:"Password must have maximum 16 characters"}}),id:"password",name:"password",type:"password",required:!0,autoComplete:"current-password",className:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"})}),o.password&&D.jsx("p",{role:"alert",className:"text-red-600",children:o.password.message})]}),D.jsx("div",{children:D.jsxs("button",{disabled:a||t,type:"submit",className:`flex w-full justify-center rounded-md bg-indigo-600 px-3 py-1.5 text-sm font-semibold leading-6 text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600 ${t?"disabled disabled:bg-slate-500":""}`,children:["Sign in ",D.jsx("span",{children:a&&D.jsx(mm,{type:"spin",color:"white"})})]})})]}),D.jsx("br",{}),!t&&D.jsxs("div",{children:[D.jsx("p",{children:"Not a Registered User?"}),D.jsx(Mi,{to:"/register",children:D.jsx("p",{className:"text-blue-700 font-semibold",children:"Register"})})]})]})]})})}var K1={ACSetupSvcPort:"23210",ACSvcPort:"17532",ALLUSERSPROFILE:"C:\\ProgramData",APPDATA:"C:\\Users\\rohit\\AppData\\Roaming",ChocolateyInstall:"C:\\ProgramData\\chocolatey",ChocolateyLastPathUpdate:"133680928985731693",CHROME_CRASHPAD_PIPE_NAME:"\\\\.\\pipe\\crashpad_15764_XLUKQMRNJWJZGKBQ",COLOR:"1",COLORTERM:"truecolor",CommonProgramFiles:"C:\\Program Files\\Common Files","CommonProgramFiles(x86)":"C:\\Program Files (x86)\\Common Files",CommonProgramW6432:"C:\\Program Files\\Common Files",COMPUTERNAME:"TUFROHITSK",ComSpec:"C:\\WINDOWS\\system32\\cmd.exe",DriverData:"C:\\Windows\\System32\\Drivers\\DriverData",EDITOR:"C:\\WINDOWS\\notepad.exe",EFC_2332:"1",EnableLog:"INFO",FPS_BROWSER_APP_PROFILE_STRING:"Internet Explorer",FPS_BROWSER_USER_PROFILE_STRING:"Default",GIT_ASKPASS:"c:\\Users\\rohit\\AppData\\Local\\Programs\\Microsoft VS Code\\resources\\app\\extensions\\git\\dist\\askpass.sh",HOME:"C:\\Users\\rohit",HOMEDRIVE:"C:",HOMEPATH:"\\Users\\rohit",IGCCSVC_DB:"AQAAANCMnd8BFdERjHoAwE/Cl+sBAAAA8wJOQfAG70WeC5dZTQk+jwQAAAACAAAAAAAQZgAAAAEAACAAAAD+pZU1HxwMgfw40BK8MODsq+yVvf54PowKY1rCIhr01AAAAAAOgAAAAAIAACAAAAA44UbQ0yo6z9Ee39dbWBIz/YwZH+CKAKOjMB/jDRacAWAAAADXIksOvOhJMZ9uP1J+uBb5ArDXW47RFJlxAjgx58K+q7IO/X5XIaIzDvpRJyTiR2ipEFDKHU18WFtAFtq1GLpwuVxzsZ1fG4YVe09qQaLgXNmyO0k3wnBUx41luY1jEMFAAAAA6bU91r8RA438g+c3NMbgtV9LaOZtm4KxRsJFDGS5++JoMDUc1rcFe0p+CKi/uTYKqBVqRV/2vuaDcrAcakSLgA==",INIT_CWD:"R:\\Proj-Sell\\frontend",LANG:"en_US.UTF-8",LOCALAPPDATA:"C:\\Users\\rohit\\AppData\\Local",LOGONSERVER:"\\\\TUFROHITSK",NODE:"C:\\Program Files\\nodejs\\node.exe",NODE_ENV:"production",NODE_EXE:"C:\\Program Files\\nodejs\\\\node.exe",NPM_CLI_JS:"C:\\Program Files\\nodejs\\\\node_modules\\npm\\bin\\npm-cli.js",npm_command:"run-script",npm_config_cache:"C:\\Users\\rohit\\AppData\\Local\\npm-cache",npm_config_globalconfig:"C:\\Users\\rohit\\AppData\\Roaming\\npm\\etc\\npmrc",npm_config_global_prefix:"C:\\Users\\rohit\\AppData\\Roaming\\npm",npm_config_init_module:"C:\\Users\\rohit\\.npm-init.js",npm_config_local_prefix:"R:\\Proj-Sell\\frontend",npm_config_node_gyp:"C:\\Program Files\\nodejs\\node_modules\\npm\\node_modules\\node-gyp\\bin\\node-gyp.js",npm_config_noproxy:"",npm_config_npm_version:"10.8.1",npm_config_prefix:"C:\\Users\\rohit\\AppData\\Roaming\\npm",npm_config_userconfig:"C:\\Users\\rohit\\.npmrc",npm_config_user_agent:"npm/10.8.1 node/v20.16.0 win32 x64 workspaces/false",npm_execpath:"C:\\Program Files\\nodejs\\node_modules\\npm\\bin\\npm-cli.js",npm_lifecycle_event:"build",npm_lifecycle_script:"vite build",npm_node_execpath:"C:\\Program Files\\nodejs\\node.exe",npm_package_json:"R:\\Proj-Sell\\frontend\\package.json",npm_package_name:"frontend",npm_package_version:"0.0.0",NPM_PREFIX_JS:"C:\\Program Files\\nodejs\\\\node_modules\\npm\\bin\\npm-prefix.js",NPM_PREFIX_NPM_CLI_JS:"C:\\Users\\rohit\\AppData\\Roaming\\npm\\node_modules\\npm\\bin\\npm-cli.js",NUMBER_OF_PROCESSORS:"16",OneDrive:"C:\\Users\\rohit\\OneDrive",ORIGINAL_XDG_CURRENT_DESKTOP:"undefined",OS:"Windows_NT",Path:"R:\\Proj-Sell\\frontend\\node_modules\\.bin;R:\\Proj-Sell\\node_modules\\.bin;R:\\node_modules\\.bin;C:\\Program Files\\nodejs\\node_modules\\npm\\node_modules\\@npmcli\\run-script\\lib\\node-gyp-bin;R:\\Proj-Sell\\frontend\\node_modules\\.bin;R:\\Proj-Sell\\node_modules\\.bin;R:\\node_modules\\.bin;C:\\Program Files\\nodejs\\node_modules\\npm\\node_modules\\@npmcli\\run-script\\lib\\node-gyp-bin;C:\\Program Files\\Common Files\\Oracle\\Java\\javapath;C:\\Python312\\Scripts\\;C:\\Python312\\;C:\\Windows\\system32;C:\\Windows;C:\\Windows\\System32\\Wbem;C:\\Windows\\System32\\WindowsPowerShell\\v1.0\\;C:\\Windows\\System32\\OpenSSH\\;C:\\Program Files (x86)\\NVIDIA Corporation\\PhysX\\Common;C:\\Program Files\\NVIDIA Corporation\\NVIDIA NvDLISR;C:\\WINDOWS\\system32;C:\\WINDOWS;C:\\WINDOWS\\System32\\Wbem;C:\\WINDOWS\\System32\\WindowsPowerShell\\v1.0\\;C:\\WINDOWS\\System32\\OpenSSH\\;C:\\Program Files\\Git\\cmd;C:\\Program Files\\nodejs\\;C:\\ProgramData\\chocolatey\\bin;C:\\Program Files\\dotnet\\;C:\\Users\\rohit\\AppData\\Local\\Microsoft\\WindowsApps;C:\\Users\\rohit\\AppData\\Local\\Programs\\Microsoft VS Code\\bin;C:\\Users\\rohit\\AppData\\Local\\Microsoft\\WinGet\\Packages\\Schniz.fnm_Microsoft.Winget.Source_8wekyb3d8bbwe;C:\\Users\\rohit\\AppData\\Roaming\\npm;C:\\Users\\rohit\\AppData\\Local\\Programs\\mongosh\\;C:\\Users\\rohit\\AppData\\Local\\GitHubDesktop\\bin",PATHEXT:".COM;.EXE;.BAT;.CMD;.VBS;.VBE;.JS;.JSE;.WSF;.WSH;.MSC;.PY;.PYW;.CPL",PROCESSOR_ARCHITECTURE:"AMD64",PROCESSOR_IDENTIFIER:"Intel64 Family 6 Model 154 Stepping 3, GenuineIntel",PROCESSOR_LEVEL:"6",PROCESSOR_REVISION:"9a03",ProgramData:"C:\\ProgramData",ProgramFiles:"C:\\Program Files","ProgramFiles(x86)":"C:\\Program Files (x86)",ProgramW6432:"C:\\Program Files",PROMPT:"$P$G",PSModulePath:"C:\\Users\\rohit\\Documents\\WindowsPowerShell\\Modules;C:\\Program Files\\WindowsPowerShell\\Modules;C:\\WINDOWS\\system32\\WindowsPowerShell\\v1.0\\Modules",PUBLIC:"C:\\Users\\Public",RlsSvcPort:"22112",SESSIONNAME:"Console",SystemDrive:"C:",SystemRoot:"C:\\WINDOWS",TEMP:"C:\\Users\\rohit\\AppData\\Local\\Temp",TERM_PROGRAM:"vscode",TERM_PROGRAM_VERSION:"1.94.0",TMP:"C:\\Users\\rohit\\AppData\\Local\\Temp",USERDOMAIN:"TUFROHITSK",USERDOMAIN_ROAMINGPROFILE:"TUFROHITSK",USERNAME:"rohit",USERPROFILE:"C:\\Users\\rohit",VSCODE_GIT_ASKPASS_EXTRA_ARGS:"",VSCODE_GIT_ASKPASS_MAIN:"c:\\Users\\rohit\\AppData\\Local\\Programs\\Microsoft VS Code\\resources\\app\\extensions\\git\\dist\\askpass-main.js",VSCODE_GIT_ASKPASS_NODE:"C:\\Users\\rohit\\AppData\\Local\\Programs\\Microsoft VS Code\\Code.exe",VSCODE_GIT_IPC_HANDLE:"\\\\.\\pipe\\vscode-git-b179010c8b-sock",VSCODE_INJECTION:"1",VSCODE_NONCE:"7a3f350c-0ba9-4cc5-b4f1-3ebf9f75ba16",VSCODE_STABLE:"1",windir:"C:\\WINDOWS",ZES_ENABLE_SYSMAN:"1"};const G1="@firebase/database",Q1="1.0.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let tk="";function I9(t){tk=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C9{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),cn(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:Oc(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R9{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return is(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nk=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new C9(e)}}catch{}return new R9},Do=nk("localStorage"),A9=nk("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hl=new Bp("@firebase/database"),b9=function(){let t=1;return function(){return t++}}(),rk=function(t){const e=xF(t),n=new CF;n.update(e);const r=n.digest();return u0.encodeByteArray(r)},wd=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=wd.apply(null,r):typeof r=="object"?e+=cn(r):e+=r,e+=" "}return e};let lc=null,Y1=!0;const P9=function(t,e){ce(!e,"Can't turn on custom loggers persistently."),hl.logLevel=He.VERBOSE,lc=hl.log.bind(hl)},An=function(...t){if(Y1===!0&&(Y1=!1,lc===null&&A9.get("logging_enabled")===!0&&P9()),lc){const e=wd.apply(null,t);lc(e)}},Td=function(t){return function(...e){An(t,...e)}},N_=function(...t){const e="FIREBASE INTERNAL ERROR: "+wd(...t);hl.error(e)},ia=function(...t){const e=`FIREBASE FATAL ERROR: ${wd(...t)}`;throw hl.error(e),new Error(e)},_r=function(...t){const e="FIREBASE WARNING: "+wd(...t);hl.warn(e)},x9=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&_r("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},ik=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},k9=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},Dl="[MIN_NAME]",sa="[MAX_NAME]",Zl=function(t,e){if(t===e)return 0;if(t===Dl||e===sa)return-1;if(e===Dl||t===sa)return 1;{const n=X1(t),r=X1(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},N9=function(t,e){return t===e?0:t<e?-1:1},xu=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+cn(e))},gE=function(t){if(typeof t!="object"||t===null)return cn(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=cn(e[r]),n+=":",n+=gE(t[e[r]]);return n+="}",n},sk=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let i=0;i<n;i+=e)i+e>n?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r};function Mr(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const ok=function(t){ce(!ik(t),"Invalid JSON number");const e=11,n=52,r=(1<<e-1)-1;let i,s,o,a,l;t===0?(s=0,o=0,i=1/t===-1/0?1:0):(i=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),r),s=a+r,o=Math.round(t*Math.pow(2,n-a)-Math.pow(2,n))):(s=0,o=Math.round(t/Math.pow(2,1-r-n))));const u=[];for(l=n;l;l-=1)u.push(o%2?1:0),o=Math.floor(o/2);for(l=e;l;l-=1)u.push(s%2?1:0),s=Math.floor(s/2);u.push(i?1:0),u.reverse();const d=u.join("");let h="";for(l=0;l<64;l+=8){let f=parseInt(d.substr(l,8),2).toString(16);f.length===1&&(f="0"+f),h=h+f}return h.toLowerCase()},O9=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},D9=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"},L9=new RegExp("^-?(0*)\\d{1,10}$"),M9=-2147483648,F9=2147483647,X1=function(t){if(L9.test(t)){const e=Number(t);if(e>=M9&&e<=F9)return e}return null},Sd=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw _r("Exception was thrown by user callback.",n),e},Math.floor(0))}},V9=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},uc=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U9{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){_r(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j9{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(An("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',_r(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yE="5",ak="v",lk="s",uk="r",ck="f",dk=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,hk="ls",fk="p",O_="ac",pk="websocket",mk="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $9{constructor(e,n,r,i,s=!1,o="",a=!1,l=!1){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=l,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Do.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Do.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function B9(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function gk(t,e,n){ce(typeof e=="string","typeof type must == string"),ce(typeof n=="object","typeof params must == object");let r;if(e===pk)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===mk)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);B9(t)&&(n.ns=t.namespace);const i=[];return Mr(n,(s,o)=>{i.push(s+"="+o)}),r+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z9{constructor(){this.counters_={}}incrementCounter(e,n=1){is(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return aF(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fg={},Vg={};function _E(t){const e=t.toString();return Fg[e]||(Fg[e]=new z9),Fg[e]}function W9(t,e){const n=t.toString();return Vg[n]||(Vg[n]=e()),Vg[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H9{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&Sd(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J1="start",q9="close",K9="pLPCommand",G9="pRTLPCB",yk="id",_k="pw",vk="ser",Q9="cb",Y9="seg",X9="ts",J9="d",Z9="dframe",Ek=1870,wk=30,ez=Ek-wk,tz=25e3,nz=3e4;class el{constructor(e,n,r,i,s,o,a){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Td(e),this.stats_=_E(n),this.urlFn=l=>(this.appCheckToken&&(l[O_]=this.appCheckToken),gk(n,mk,l))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new H9(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(nz)),k9(()=>{if(this.isClosed_)return;this.scriptTagHolder=new vE((...s)=>{const[o,a,l,u,d]=s;if(this.incrementIncomingBytes_(s),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===J1)this.id=a,this.password=l;else if(o===q9)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...s)=>{const[o,a]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(o,a)},()=>{this.onClosed_()},this.urlFn);const r={};r[J1]="t",r[vk]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[Q9]=this.scriptTagHolder.uniqueCallbackIdentifier),r[ak]=yE,this.transportSessionId&&(r[lk]=this.transportSessionId),this.lastSessionId&&(r[hk]=this.lastSessionId),this.applicationId&&(r[fk]=this.applicationId),this.appCheckToken&&(r[O_]=this.appCheckToken),typeof location<"u"&&location.hostname&&dk.test(location.hostname)&&(r[uk]=ck);const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){el.forceAllow_=!0}static forceDisallow(){el.forceDisallow_=!0}static isAvailable(){return el.forceAllow_?!0:!el.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!O9()&&!D9()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=cn(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=$A(n),i=sk(r,ez);for(let s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[Z9]="t",r[yk]=e,r[_k]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=cn(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class vE{constructor(e,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=b9(),window[K9+this.uniqueCallbackIdentifier]=e,window[G9+this.uniqueCallbackIdentifier]=n,this.myIFrame=vE.createIFrame_();let s="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(s='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(a){An("frame writing exception"),a.stack&&An(a.stack),An(a)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||An("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[yk]=this.myID,e[_k]=this.myPW,e[vk]=this.currentSerial;let n=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+wk+r.length<=Ek;){const o=this.pendingSegs.shift();r=r+"&"+Y9+i+"="+o.seg+"&"+X9+i+"="+o.ts+"&"+J9+i+"="+o.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(tz)),s=()=>{clearTimeout(i),r()};this.addTag(e,s)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{An("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rz=16384,iz=45e3;let sp=null;typeof MozWebSocket<"u"?sp=MozWebSocket:typeof WebSocket<"u"&&(sp=WebSocket);class Gr{constructor(e,n,r,i,s,o,a){this.connId=e,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Td(this.connId),this.stats_=_E(n),this.connURL=Gr.connectionURL_(n,o,a,i,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,r,i,s){const o={};return o[ak]=yE,typeof location<"u"&&location.hostname&&dk.test(location.hostname)&&(o[uk]=ck),n&&(o[lk]=n),r&&(o[hk]=r),i&&(o[O_]=i),s&&(o[fk]=s),gk(e,pk,o)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Do.set("previous_websocket_failure",!0);try{let r;QA(),this.mySock=new sp(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_()}}start(){}static forceDisallow(){Gr.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&sp!==null&&!Gr.forceDisallow_}static previouslyFailed(){return Do.isInMemoryStorage||Do.get("previous_websocket_failure")===!0}markConnectionHealthy(){Do.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=Oc(n);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(ce(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const n=cn(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=sk(n,rz);r.length>1&&this.sendString_(String(r.length));for(let i=0;i<r.length;i++)this.sendString_(r[i])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(iz))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Gr.responsesRequiredToBeHealthy=2;Gr.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kc{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[el,Gr]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const n=Gr&&Gr.isAvailable();let r=n&&!Gr.previouslyFailed();if(e.webSocketOnly&&(n||_r("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[Gr];else{const i=this.transports_=[];for(const s of Kc.ALL_TRANSPORTS)s&&s.isAvailable()&&i.push(s);Kc.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Kc.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sz=6e4,oz=5e3,az=10*1024,lz=100*1024,Ug="t",Z1="d",uz="s",eI="r",cz="e",tI="o",nI="a",rI="n",iI="p",dz="h";class hz{constructor(e,n,r,i,s,o,a,l,u,d){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=l,this.onKill_=u,this.lastSessionId=d,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Td("c:"+this.id+":"),this.transportManager_=new Kc(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=uc(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>lz?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>az?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(Ug in e){const n=e[Ug];n===nI?this.upgradeIfSecondaryHealthy_():n===eI?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===tI&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=xu("t",e),r=xu("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:iI,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:nI,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:rI,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=xu("t",e),r=xu("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=xu(Ug,e);if(Z1 in e){const r=e[Z1];if(n===dz){const i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===rI){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===uz?this.onConnectionShutdown_(r):n===eI?this.onReset_(r):n===cz?N_("Server Error: "+r):n===tI?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):N_("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),yE!==r&&_r("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),uc(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(sz))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):uc(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(oz))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:iI,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Do.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tk{put(e,n,r,i){}merge(e,n,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sk{constructor(e){this.allowedEvents_=e,this.listeners_={},ce(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const i=this.getInitialEvent(e);i&&n.apply(r,i)}off(e,n,r){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let s=0;s<i.length;s++)if(i[s].callback===n&&(!r||r===i[s].context)){i.splice(s,1);return}}validateEventType_(e){ce(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class op extends Sk{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!d0()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new op}getInitialEvent(e){return ce(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sI=32,oI=768;class Ct{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function ut(){return new Ct("")}function Xe(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function Qs(t){return t.pieces_.length-t.pieceNum_}function wt(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new Ct(t.pieces_,e)}function Ik(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function fz(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function Ck(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function Rk(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new Ct(e,0)}function sn(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof Ct)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new Ct(n,0)}function Qe(t){return t.pieceNum_>=t.pieces_.length}function xr(t,e){const n=Xe(t),r=Xe(e);if(n===null)return e;if(n===r)return xr(wt(t),wt(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function Ak(t,e){if(Qs(t)!==Qs(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function Yr(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(Qs(t)>Qs(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class pz{constructor(e,n){this.errorPrefix_=n,this.parts_=Ck(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=$p(this.parts_[r]);bk(this)}}function mz(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=$p(e),bk(t)}function gz(t){const e=t.parts_.pop();t.byteLength_-=$p(e),t.parts_.length>0&&(t.byteLength_-=1)}function bk(t){if(t.byteLength_>oI)throw new Error(t.errorPrefix_+"has a key path longer than "+oI+" bytes ("+t.byteLength_+").");if(t.parts_.length>sI)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+sI+") or object contains a cycle "+Co(t))}function Co(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EE extends Sk{constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new EE}getInitialEvent(e){return ce(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ku=1e3,yz=60*5*1e3,aI=30*1e3,_z=1.3,vz=3e4,Ez="server_kill",lI=3;class Hi extends Tk{constructor(e,n,r,i,s,o,a,l){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=i,this.onServerInfoUpdate_=s,this.authTokenProvider_=o,this.appCheckTokenProvider_=a,this.authOverride_=l,this.id=Hi.nextPersistentConnectionId_++,this.log_=Td("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=ku,this.maxReconnectDelay_=yz,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l&&!QA())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");EE.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&op.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,r){const i=++this.requestNumber_,s={r:i,a:e,b:n};this.log_(cn(s)),ce(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),r&&(this.requestCBHash_[i]=r)}get(e){this.initConnection_();const n=new c0,i={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:o=>{const a=o.d;o.s==="ok"?n.resolve(a):n.reject(a)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;const s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),n.promise}listen(e,n,r,i){this.initConnection_();const s=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+s),this.listens.has(o)||this.listens.set(o,new Map),ce(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),ce(!this.listens.get(o).has(s),"listen() called twice for same path/queryId.");const a={onComplete:i,hashFn:n,query:e,tag:r};this.listens.get(o).set(s,a),this.connected_&&this.sendListen_(a)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(e){const n=e.query,r=n._path.toString(),i=n._queryIdentifier;this.log_("Listen on "+r+" for "+i);const s={p:r},o="q";e.tag&&(s.q=n._queryObject,s.t=e.tag),s.h=e.hashFn(),this.sendRequest(o,s,a=>{const l=a.d,u=a.s;Hi.warnOnListenWarnings_(l,n),(this.listens.get(r)&&this.listens.get(r).get(i))===e&&(this.log_("listen response",a),u!=="ok"&&this.removeListen_(r,i),e.onComplete&&e.onComplete(u,l))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&is(e,"w")){const r=Il(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const i='".indexOn": "'+n._queryParams.getIndex().toString()+'"',s=n._path.toString();_r(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${i} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||IF(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=aI)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=SF(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,i=>{const s=i.s,o=i.d||"error";this.authToken_===e&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,o))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,r=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(e,n){const r=e._path.toString(),i=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+i),ce(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,i)&&this.connected_&&this.sendUnlisten_(r,i,e._queryObject,n)}sendUnlisten_(e,n,r,i){this.log_("Unlisten on "+e+" for "+n);const s={p:e},o="n";i&&(s.q=r,s.t=i),this.sendRequest(o,s)}onDisconnectPut(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:r})}onDisconnectMerge(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:r})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,r,i){const s={p:n,d:r};this.log_("onDisconnect "+e,s),this.sendRequest(e,s,o=>{i&&setTimeout(()=>{i(o.s,o.d)},Math.floor(0))})}put(e,n,r,i){this.putInternal("p",e,n,r,i)}merge(e,n,r,i){this.putInternal("m",e,n,r,i)}putInternal(e,n,r,i,s){this.initConnection_();const o={p:n,d:r};s!==void 0&&(o.h=s),this.outstandingPuts_.push({action:e,request:o,onComplete:i}),this.outstandingPutCount_++;const a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,s=>{this.log_(n+" response",s),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),i&&i(s.s,s.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const s=r.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+cn(e));const n=e.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):N_("Unrecognized action received from server: "+cn(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){ce(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=ku,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=ku,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>vz&&(this.reconnectDelay_=ku),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*_z)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+Hi.nextConnectionId_++,s=this.lastSessionId;let o=!1,a=null;const l=function(){a?a.close():(o=!0,r())},u=function(h){ce(a,"sendRequest call when we're not connected not allowed."),a.sendRequest(h)};this.realtime_={close:l,sendRequest:u};const d=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[h,f]=await Promise.all([this.authTokenProvider_.getToken(d),this.appCheckTokenProvider_.getToken(d)]);o?An("getToken() completed but was canceled"):(An("getToken() completed. Creating connection."),this.authToken_=h&&h.accessToken,this.appCheckToken_=f&&f.token,a=new hz(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,m=>{_r(m+" ("+this.repoInfo_.toString()+")"),this.interrupt(Ez)},s))}catch(h){this.log_("Failed to get token: "+h),o||(this.repoInfo_.nodeAdmin&&_r(h),l())}}}interrupt(e){An("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){An("Resuming connection for reason: "+e),delete this.interruptReasons_[e],Yy(this.interruptReasons_)&&(this.reconnectDelay_=ku,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let r;n?r=n.map(s=>gE(s)).join("$"):r="default";const i=this.removeListen_(e,r);i&&i.onComplete&&i.onComplete("permission_denied")}removeListen_(e,n){const r=new Ct(e).toString();let i;if(this.listens.has(r)){const s=this.listens.get(r);i=s.get(n),s.delete(n),s.size===0&&this.listens.delete(r)}else i=void 0;return i}onAuthRevoked_(e,n){An("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=lI&&(this.reconnectDelay_=aI,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){An("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=lI&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+tk.replace(/\./g,"-")]=1,d0()?e["framework.cordova"]=1:GA()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=op.getInstance().currentlyOnline();return Yy(this.interruptReasons_)&&e}}Hi.nextPersistentConnectionId_=0;Hi.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Je{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new Je(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wm{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new Je(Dl,e),i=new Je(Dl,n);return this.compare(r,i)!==0}minPost(){return Je.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Sh;class Pk extends wm{static get __EMPTY_NODE(){return Sh}static set __EMPTY_NODE(e){Sh=e}compare(e,n){return Zl(e.name,n.name)}isDefinedOn(e){throw Bl("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return Je.MIN}maxPost(){return new Je(sa,Sh)}makePost(e,n){return ce(typeof e=="string","KeyIndex indexValue must always be a string."),new Je(e,Sh)}toString(){return".key"}}const fl=new Pk;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ih{constructor(e,n,r,i,s=null){this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=n?r(e.key,n):1,i&&(o*=-1),o<0)this.isReverse_?e=e.left:e=e.right;else if(o===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class rn{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??rn.RED,this.left=i??er.EMPTY_NODE,this.right=s??er.EMPTY_NODE}copy(e,n,r,i,s){return new rn(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return s<0?i=i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i=i.copy(null,n,null,null,null):i=i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp_()}removeMin_(){if(this.left.isEmpty())return er.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let r,i;if(r=this,n(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(e,r.key)===0){if(r.right.isEmpty())return er.EMPTY_NODE;i=r.right.min_(),r=r.copy(i.key,i.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,rn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,rn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}rn.RED=!0;rn.BLACK=!1;class wz{copy(e,n,r,i,s){return this}insert(e,n,r){return new rn(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class er{constructor(e,n=er.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new er(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,rn.BLACK,null,null))}remove(e){return new er(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,rn.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Ih(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new Ih(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new Ih(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new Ih(this.root_,null,this.comparator_,!0,e)}}er.EMPTY_NODE=new wz;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tz(t,e){return Zl(t.name,e.name)}function wE(t,e){return Zl(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let D_;function Sz(t){D_=t}const xk=function(t){return typeof t=="number"?"number:"+ok(t):"string:"+t},kk=function(t){if(t.isLeafNode()){const e=t.val();ce(typeof e=="string"||typeof e=="number"||typeof e=="object"&&is(e,".sv"),"Priority must be a string or number.")}else ce(t===D_||t.isEmpty(),"priority of unexpected type.");ce(t===D_||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let uI;class en{constructor(e,n=en.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,ce(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),kk(this.priorityNode_)}static set __childrenNodeConstructor(e){uI=e}static get __childrenNodeConstructor(){return uI}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new en(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:en.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return Qe(e)?this:Xe(e)===".priority"?this.priorityNode_:en.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:en.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const r=Xe(e);return r===null?n:n.isEmpty()&&r!==".priority"?this:(ce(r!==".priority"||Qs(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,en.__childrenNodeConstructor.EMPTY_NODE.updateChild(wt(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+xk(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=ok(this.value_):e+=this.value_,this.lazyHash_=rk(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===en.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof en.__childrenNodeConstructor?-1:(ce(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,r=typeof this.value_,i=en.VALUE_TYPE_ORDER.indexOf(n),s=en.VALUE_TYPE_ORDER.indexOf(r);return ce(i>=0,"Unknown leaf type: "+n),ce(s>=0,"Unknown leaf type: "+r),i===s?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:s-i}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}en.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Nk,Ok;function Iz(t){Nk=t}function Cz(t){Ok=t}class Rz extends wm{compare(e,n){const r=e.node.getPriority(),i=n.node.getPriority(),s=r.compareTo(i);return s===0?Zl(e.name,n.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return Je.MIN}maxPost(){return new Je(sa,new en("[PRIORITY-POST]",Ok))}makePost(e,n){const r=Nk(e);return new Je(n,new en("[PRIORITY-POST]",r))}toString(){return".priority"}}const kn=new Rz;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Az=Math.log(2);class bz{constructor(e){const n=s=>parseInt(Math.log(s)/Az,10),r=s=>parseInt(Array(s+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const i=r(this.count);this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const ap=function(t,e,n,r){t.sort(e);const i=function(l,u){const d=u-l;let h,f;if(d===0)return null;if(d===1)return h=t[l],f=n?n(h):h,new rn(f,h.node,rn.BLACK,null,null);{const m=parseInt(d/2,10)+l,y=i(l,m),E=i(m+1,u);return h=t[m],f=n?n(h):h,new rn(f,h.node,rn.BLACK,y,E)}},s=function(l){let u=null,d=null,h=t.length;const f=function(y,E){const S=h-y,T=h;h-=y;const _=i(S+1,T),w=t[S],A=n?n(w):w;m(new rn(A,w.node,E,null,_))},m=function(y){u?(u.left=y,u=y):(d=y,u=y)};for(let y=0;y<l.count;++y){const E=l.nextBitIsOne(),S=Math.pow(2,l.count-(y+1));E?f(S,rn.BLACK):(f(S,rn.BLACK),f(S,rn.RED))}return d},o=new bz(t.length),a=s(o);return new er(r||e,a)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jg;const Oa={};class ji{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return ce(Oa&&kn,"ChildrenNode.ts has not been loaded"),jg=jg||new ji({".priority":Oa},{".priority":kn}),jg}get(e){const n=Il(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof er?n:null}hasIndex(e){return is(this.indexSet_,e.toString())}addIndex(e,n){ce(e!==fl,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const s=n.getIterator(Je.Wrap);let o=s.getNext();for(;o;)i=i||e.isDefinedOn(o.node),r.push(o),o=s.getNext();let a;i?a=ap(r,e.getCompare()):a=Oa;const l=e.toString(),u=Object.assign({},this.indexSet_);u[l]=e;const d=Object.assign({},this.indexes_);return d[l]=a,new ji(d,u)}addToIndexes(e,n){const r=Uf(this.indexes_,(i,s)=>{const o=Il(this.indexSet_,s);if(ce(o,"Missing index implementation for "+s),i===Oa)if(o.isDefinedOn(e.node)){const a=[],l=n.getIterator(Je.Wrap);let u=l.getNext();for(;u;)u.name!==e.name&&a.push(u),u=l.getNext();return a.push(e),ap(a,o.getCompare())}else return Oa;else{const a=n.get(e.name);let l=i;return a&&(l=l.remove(new Je(e.name,a))),l.insert(e,e.node)}});return new ji(r,this.indexSet_)}removeFromIndexes(e,n){const r=Uf(this.indexes_,i=>{if(i===Oa)return i;{const s=n.get(e.name);return s?i.remove(new Je(e.name,s)):i}});return new ji(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Nu;class it{constructor(e,n,r){this.children_=e,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&kk(this.priorityNode_),this.children_.isEmpty()&&ce(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Nu||(Nu=new it(new er(wE),null,ji.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Nu}updatePriority(e){return this.children_.isEmpty()?this:new it(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?Nu:n}}getChild(e){const n=Xe(e);return n===null?this:this.getImmediateChild(n).getChild(wt(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(ce(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const r=new Je(e,n);let i,s;n.isEmpty()?(i=this.children_.remove(e),s=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(e,n),s=this.indexMap_.addToIndexes(r,this.children_));const o=i.isEmpty()?Nu:this.priorityNode_;return new it(i,o,s)}}updateChild(e,n){const r=Xe(e);if(r===null)return n;{ce(Xe(e)!==".priority"||Qs(e)===1,".priority must be the last token in a path");const i=this.getImmediateChild(r).updateChild(wt(e),n);return this.updateImmediateChild(r,i)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let r=0,i=0,s=!0;if(this.forEachChild(kn,(o,a)=>{n[o]=a.val(e),r++,s&&it.INTEGER_REGEXP_.test(o)?i=Math.max(i,Number(o)):s=!1}),!e&&s&&i<2*r){const o=[];for(const a in n)o[a]=n[a];return o}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+xk(this.getPriority().val())+":"),this.forEachChild(kn,(n,r)=>{const i=r.hash();i!==""&&(e+=":"+n+":"+i)}),this.lazyHash_=e===""?"":rk(e)}return this.lazyHash_}getPredecessorChildName(e,n,r){const i=this.resolveIndex_(r);if(i){const s=i.getPredecessorKey(new Je(e,n));return s?s.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new Je(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new Je(n,this.children_.get(n)):null}forEachChild(e,n){const r=this.resolveIndex_(e);return r?r.inorderTraversal(i=>n(i.name,i.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(e,i=>i);{const i=this.children_.getIteratorFrom(e.name,Je.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)<0;)i.getNext(),s=i.peek();return i}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(e,i=>i);{const i=this.children_.getReverseIteratorFrom(e.name,Je.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)>0;)i.getNext(),s=i.peek();return i}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Id?-1:0}withIndex(e){if(e===fl||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new it(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===fl||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(kn),i=n.getIterator(kn);let s=r.getNext(),o=i.getNext();for(;s&&o;){if(s.name!==o.name||!s.node.equals(o.node))return!1;s=r.getNext(),o=i.getNext()}return s===null&&o===null}else return!1;else return!1}}resolveIndex_(e){return e===fl?null:this.indexMap_.get(e.toString())}}it.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class Pz extends it{constructor(){super(new er(wE),it.EMPTY_NODE,ji.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return it.EMPTY_NODE}isEmpty(){return!1}}const Id=new Pz;Object.defineProperties(Je,{MIN:{value:new Je(Dl,it.EMPTY_NODE)},MAX:{value:new Je(sa,Id)}});Pk.__EMPTY_NODE=it.EMPTY_NODE;en.__childrenNodeConstructor=it;Sz(Id);Cz(Id);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xz=!0;function bn(t,e=null){if(t===null)return it.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),ce(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new en(n,bn(e))}if(!(t instanceof Array)&&xz){const n=[];let r=!1;if(Mr(t,(o,a)=>{if(o.substring(0,1)!=="."){const l=bn(a);l.isEmpty()||(r=r||!l.getPriority().isEmpty(),n.push(new Je(o,l)))}}),n.length===0)return it.EMPTY_NODE;const s=ap(n,Tz,o=>o.name,wE);if(r){const o=ap(n,kn.getCompare());return new it(s,bn(e),new ji({".priority":o},{".priority":kn}))}else return new it(s,bn(e),ji.Default)}else{let n=it.EMPTY_NODE;return Mr(t,(r,i)=>{if(is(t,r)&&r.substring(0,1)!=="."){const s=bn(i);(s.isLeafNode()||!s.isEmpty())&&(n=n.updateImmediateChild(r,s))}}),n.updatePriority(bn(e))}}Iz(bn);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kz extends wm{constructor(e){super(),this.indexPath_=e,ce(!Qe(e)&&Xe(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),i=this.extractChild(n.node),s=r.compareTo(i);return s===0?Zl(e.name,n.name):s}makePost(e,n){const r=bn(e),i=it.EMPTY_NODE.updateChild(this.indexPath_,r);return new Je(n,i)}maxPost(){const e=it.EMPTY_NODE.updateChild(this.indexPath_,Id);return new Je(sa,e)}toString(){return Ck(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nz extends wm{compare(e,n){const r=e.node.compareTo(n.node);return r===0?Zl(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return Je.MIN}maxPost(){return Je.MAX}makePost(e,n){const r=bn(e);return new Je(n,r)}toString(){return".value"}}const Oz=new Nz;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dz(t){return{type:"value",snapshotNode:t}}function Lz(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function Mz(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function cI(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function Fz(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TE{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=kn}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return ce(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return ce(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Dl}hasEnd(){return this.endSet_}getIndexEndValue(){return ce(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return ce(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:sa}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return ce(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===kn}copy(){const e=new TE;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function dI(t){const e={};if(t.isDefault())return e;let n;if(t.index_===kn?n="$priority":t.index_===Oz?n="$value":t.index_===fl?n="$key":(ce(t.index_ instanceof kz,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=cn(n),t.startSet_){const r=t.startAfterSet_?"startAfter":"startAt";e[r]=cn(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+cn(t.indexStartName_))}if(t.endSet_){const r=t.endBeforeSet_?"endBefore":"endAt";e[r]=cn(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+cn(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function hI(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==kn&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lp extends Tk{constructor(e,n,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=Td("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(ce(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,r,i){const s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);const o=lp.getListenId_(e,r),a={};this.listens_[o]=a;const l=dI(e._queryParams);this.restRequest_(s+".json",l,(u,d)=>{let h=d;if(u===404&&(h=null,u=null),u===null&&this.onDataUpdate_(s,h,!1,r),Il(this.listens_,o)===a){let f;u?u===401?f="permission_denied":f="rest_error:"+u:f="ok",i(f,null)}})}unlisten(e,n){const r=lp.getListenId_(e,n);delete this.listens_[r]}get(e){const n=dI(e._queryParams),r=e._path.toString(),i=new c0;return this.restRequest_(r+".json",n,(s,o)=>{let a=o;s===404&&(a=null,s=null),s===null?(this.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,s])=>{i&&i.accessToken&&(n.auth=i.accessToken),s&&s.token&&(n.ac=s.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+zl(n);this.log_("Sending REST request for "+o);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&a.readyState===4){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=Oc(a.responseText)}catch{_r("Failed to parse JSON response for "+o+": "+a.responseText)}r(null,l)}else a.status!==401&&a.status!==404&&_r("Got unsuccessful REST response for "+o+" Status: "+a.status),r(a.status);r=null}},a.open("GET",o,!0),a.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vz{constructor(){this.rootNode_=it.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function up(){return{value:null,children:new Map}}function Dk(t,e,n){if(Qe(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const r=Xe(e);t.children.has(r)||t.children.set(r,up());const i=t.children.get(r);e=wt(e),Dk(i,e,n)}}function L_(t,e,n){t.value!==null?n(e,t.value):Uz(t,(r,i)=>{const s=new Ct(e.toString()+"/"+r);L_(i,s,n)})}function Uz(t,e){t.children.forEach((n,r)=>{e(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jz{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&Mr(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fI=10*1e3,$z=30*1e3,Bz=5*60*1e3;class zz{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new jz(e);const r=fI+($z-fI)*Math.random();uc(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;Mr(e,(i,s)=>{s>0&&is(this.statsToReport_,i)&&(n[i]=s,r=!0)}),r&&this.server_.reportStats(n),uc(this.reportStats_.bind(this),Math.floor(Math.random()*2*Bz))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pi;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(pi||(pi={}));function Lk(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function Mk(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function Fk(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cp{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=pi.ACK_USER_WRITE,this.source=Lk()}operationForChild(e){if(Qe(this.path)){if(this.affectedTree.value!=null)return ce(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new Ct(e));return new cp(ut(),n,this.revert)}}else return ce(Xe(this.path)===e,"operationForChild called for unrelated child."),new cp(wt(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oa{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=pi.OVERWRITE}operationForChild(e){return Qe(this.path)?new oa(this.source,ut(),this.snap.getImmediateChild(e)):new oa(this.source,wt(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gc{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=pi.MERGE}operationForChild(e){if(Qe(this.path)){const n=this.children.subtree(new Ct(e));return n.isEmpty()?null:n.value?new oa(this.source,ut(),n.value):new Gc(this.source,ut(),n)}else return ce(Xe(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Gc(this.source,wt(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SE{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(Qe(e))return this.isFullyInitialized()&&!this.filtered_;const n=Xe(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}function Wz(t,e,n,r){const i=[],s=[];return e.forEach(o=>{o.type==="child_changed"&&t.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&s.push(Fz(o.childName,o.snapshotNode))}),Ou(t,i,"child_removed",e,r,n),Ou(t,i,"child_added",e,r,n),Ou(t,i,"child_moved",s,r,n),Ou(t,i,"child_changed",e,r,n),Ou(t,i,"value",e,r,n),i}function Ou(t,e,n,r,i,s){const o=r.filter(a=>a.type===n);o.sort((a,l)=>qz(t,a,l)),o.forEach(a=>{const l=Hz(t,a,s);i.forEach(u=>{u.respondsTo(a.type)&&e.push(u.createEvent(l,t.query_))})})}function Hz(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function qz(t,e,n){if(e.childName==null||n.childName==null)throw Bl("Should only compare child_ events.");const r=new Je(e.childName,e.snapshotNode),i=new Je(n.childName,n.snapshotNode);return t.index_.compare(r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vk(t,e){return{eventCache:t,serverCache:e}}function cc(t,e,n,r){return Vk(new SE(e,n,r),t.serverCache)}function Uk(t,e,n,r){return Vk(t.eventCache,new SE(e,n,r))}function M_(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function aa(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $g;const Kz=()=>($g||($g=new er(N9)),$g);class Et{constructor(e,n=Kz()){this.value=e,this.children=n}static fromObject(e){let n=new Et(null);return Mr(e,(r,i)=>{n=n.set(new Ct(r),i)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:ut(),value:this.value};if(Qe(e))return null;{const r=Xe(e),i=this.children.get(r);if(i!==null){const s=i.findRootMostMatchingPathAndValue(wt(e),n);return s!=null?{path:sn(new Ct(r),s.path),value:s.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(Qe(e))return this;{const n=Xe(e),r=this.children.get(n);return r!==null?r.subtree(wt(e)):new Et(null)}}set(e,n){if(Qe(e))return new Et(n,this.children);{const r=Xe(e),s=(this.children.get(r)||new Et(null)).set(wt(e),n),o=this.children.insert(r,s);return new Et(this.value,o)}}remove(e){if(Qe(e))return this.children.isEmpty()?new Et(null):new Et(null,this.children);{const n=Xe(e),r=this.children.get(n);if(r){const i=r.remove(wt(e));let s;return i.isEmpty()?s=this.children.remove(n):s=this.children.insert(n,i),this.value===null&&s.isEmpty()?new Et(null):new Et(this.value,s)}else return this}}get(e){if(Qe(e))return this.value;{const n=Xe(e),r=this.children.get(n);return r?r.get(wt(e)):null}}setTree(e,n){if(Qe(e))return n;{const r=Xe(e),s=(this.children.get(r)||new Et(null)).setTree(wt(e),n);let o;return s.isEmpty()?o=this.children.remove(r):o=this.children.insert(r,s),new Et(this.value,o)}}fold(e){return this.fold_(ut(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((i,s)=>{r[i]=s.fold_(sn(e,i),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,ut(),n)}findOnPath_(e,n,r){const i=this.value?r(n,this.value):!1;if(i)return i;if(Qe(e))return null;{const s=Xe(e),o=this.children.get(s);return o?o.findOnPath_(wt(e),sn(n,s),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,ut(),n)}foreachOnPath_(e,n,r){if(Qe(e))return this;{this.value&&r(n,this.value);const i=Xe(e),s=this.children.get(i);return s?s.foreachOnPath_(wt(e),sn(n,i),r):new Et(null)}}foreach(e){this.foreach_(ut(),e)}foreach_(e,n){this.children.inorderTraversal((r,i)=>{i.foreach_(sn(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ei{constructor(e){this.writeTree_=e}static empty(){return new ei(new Et(null))}}function dc(t,e,n){if(Qe(e))return new ei(new Et(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){const i=r.path;let s=r.value;const o=xr(i,e);return s=s.updateChild(o,n),new ei(t.writeTree_.set(i,s))}else{const i=new Et(n),s=t.writeTree_.setTree(e,i);return new ei(s)}}}function pI(t,e,n){let r=t;return Mr(n,(i,s)=>{r=dc(r,sn(e,i),s)}),r}function mI(t,e){if(Qe(e))return ei.empty();{const n=t.writeTree_.setTree(e,new Et(null));return new ei(n)}}function F_(t,e){return ya(t,e)!=null}function ya(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(xr(n.path,e)):null}function gI(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(kn,(r,i)=>{e.push(new Je(r,i))}):t.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&e.push(new Je(r,i.value))}),e}function Bs(t,e){if(Qe(e))return t;{const n=ya(t,e);return n!=null?new ei(new Et(n)):new ei(t.writeTree_.subtree(e))}}function V_(t){return t.writeTree_.isEmpty()}function Ll(t,e){return jk(ut(),t.writeTree_,e)}function jk(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((i,s)=>{i===".priority"?(ce(s.value!==null,"Priority writes must always be leaf nodes"),r=s.value):n=jk(sn(t,i),s,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(sn(t,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $k(t,e){return qk(e,t)}function Gz(t,e,n,r,i){ce(r>t.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=dc(t.visibleWrites,e,n)),t.lastWriteId=r}function Qz(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}function Yz(t,e){const n=t.allWrites.findIndex(a=>a.writeId===e);ce(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let i=r.visible,s=!1,o=t.allWrites.length-1;for(;i&&o>=0;){const a=t.allWrites[o];a.visible&&(o>=n&&Xz(a,r.path)?i=!1:Yr(r.path,a.path)&&(s=!0)),o--}if(i){if(s)return Jz(t),!0;if(r.snap)t.visibleWrites=mI(t.visibleWrites,r.path);else{const a=r.children;Mr(a,l=>{t.visibleWrites=mI(t.visibleWrites,sn(r.path,l))})}return!0}else return!1}function Xz(t,e){if(t.snap)return Yr(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&Yr(sn(t.path,n),e))return!0;return!1}function Jz(t){t.visibleWrites=Bk(t.allWrites,Zz,ut()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function Zz(t){return t.visible}function Bk(t,e,n){let r=ei.empty();for(let i=0;i<t.length;++i){const s=t[i];if(e(s)){const o=s.path;let a;if(s.snap)Yr(n,o)?(a=xr(n,o),r=dc(r,a,s.snap)):Yr(o,n)&&(a=xr(o,n),r=dc(r,ut(),s.snap.getChild(a)));else if(s.children){if(Yr(n,o))a=xr(n,o),r=pI(r,a,s.children);else if(Yr(o,n))if(a=xr(o,n),Qe(a))r=pI(r,ut(),s.children);else{const l=Il(s.children,Xe(a));if(l){const u=l.getChild(wt(a));r=dc(r,ut(),u)}}}else throw Bl("WriteRecord should have .snap or .children")}}return r}function zk(t,e,n,r,i){if(!r&&!i){const s=ya(t.visibleWrites,e);if(s!=null)return s;{const o=Bs(t.visibleWrites,e);if(V_(o))return n;if(n==null&&!F_(o,ut()))return null;{const a=n||it.EMPTY_NODE;return Ll(o,a)}}}else{const s=Bs(t.visibleWrites,e);if(!i&&V_(s))return n;if(!i&&n==null&&!F_(s,ut()))return null;{const o=function(u){return(u.visible||i)&&(!r||!~r.indexOf(u.writeId))&&(Yr(u.path,e)||Yr(e,u.path))},a=Bk(t.allWrites,o,e),l=n||it.EMPTY_NODE;return Ll(a,l)}}}function eW(t,e,n){let r=it.EMPTY_NODE;const i=ya(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(kn,(s,o)=>{r=r.updateImmediateChild(s,o)}),r;if(n){const s=Bs(t.visibleWrites,e);return n.forEachChild(kn,(o,a)=>{const l=Ll(Bs(s,new Ct(o)),a);r=r.updateImmediateChild(o,l)}),gI(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}else{const s=Bs(t.visibleWrites,e);return gI(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}}function tW(t,e,n,r,i){ce(r||i,"Either existingEventSnap or existingServerSnap must exist");const s=sn(e,n);if(F_(t.visibleWrites,s))return null;{const o=Bs(t.visibleWrites,s);return V_(o)?i.getChild(n):Ll(o,i.getChild(n))}}function nW(t,e,n,r){const i=sn(e,n),s=ya(t.visibleWrites,i);if(s!=null)return s;if(r.isCompleteForChild(n)){const o=Bs(t.visibleWrites,i);return Ll(o,r.getNode().getImmediateChild(n))}else return null}function rW(t,e){return ya(t.visibleWrites,e)}function iW(t,e,n,r,i,s,o){let a;const l=Bs(t.visibleWrites,e),u=ya(l,ut());if(u!=null)a=u;else if(n!=null)a=Ll(l,n);else return[];if(a=a.withIndex(o),!a.isEmpty()&&!a.isLeafNode()){const d=[],h=o.getCompare(),f=s?a.getReverseIteratorFrom(r,o):a.getIteratorFrom(r,o);let m=f.getNext();for(;m&&d.length<i;)h(m,r)!==0&&d.push(m),m=f.getNext();return d}else return[]}function sW(){return{visibleWrites:ei.empty(),allWrites:[],lastWriteId:-1}}function U_(t,e,n,r){return zk(t.writeTree,t.treePath,e,n,r)}function Wk(t,e){return eW(t.writeTree,t.treePath,e)}function yI(t,e,n,r){return tW(t.writeTree,t.treePath,e,n,r)}function dp(t,e){return rW(t.writeTree,sn(t.treePath,e))}function oW(t,e,n,r,i,s){return iW(t.writeTree,t.treePath,e,n,r,i,s)}function IE(t,e,n){return nW(t.writeTree,t.treePath,e,n)}function Hk(t,e){return qk(sn(t.treePath,e),t.writeTree)}function qk(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aW{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;ce(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),ce(r!==".priority","Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const s=i.type;if(n==="child_added"&&s==="child_removed")this.changeMap.set(r,cI(r,e.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&s==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&s==="child_changed")this.changeMap.set(r,Mz(r,i.oldSnap));else if(n==="child_changed"&&s==="child_added")this.changeMap.set(r,Lz(r,e.snapshotNode));else if(n==="child_changed"&&s==="child_changed")this.changeMap.set(r,cI(r,e.snapshotNode,i.oldSnap));else throw Bl("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lW{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}}const Kk=new lW;class CE{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new SE(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return IE(this.writes_,e,r)}}getChildAfterChild(e,n,r){const i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:aa(this.viewCache_),s=oW(this.writes_,i,n,1,r,e);return s.length===0?null:s[0]}}function uW(t,e){ce(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),ce(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function cW(t,e,n,r,i){const s=new aW;let o,a;if(n.type===pi.OVERWRITE){const u=n;u.source.fromUser?o=j_(t,e,u.path,u.snap,r,i,s):(ce(u.source.fromServer,"Unknown source."),a=u.source.tagged||e.serverCache.isFiltered()&&!Qe(u.path),o=hp(t,e,u.path,u.snap,r,i,a,s))}else if(n.type===pi.MERGE){const u=n;u.source.fromUser?o=hW(t,e,u.path,u.children,r,i,s):(ce(u.source.fromServer,"Unknown source."),a=u.source.tagged||e.serverCache.isFiltered(),o=$_(t,e,u.path,u.children,r,i,a,s))}else if(n.type===pi.ACK_USER_WRITE){const u=n;u.revert?o=mW(t,e,u.path,r,i,s):o=fW(t,e,u.path,u.affectedTree,r,i,s)}else if(n.type===pi.LISTEN_COMPLETE)o=pW(t,e,n.path,r,s);else throw Bl("Unknown operation type: "+n.type);const l=s.getChanges();return dW(e,o,l),{viewCache:o,changes:l}}function dW(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=M_(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&n.push(Dz(M_(e)))}}function Gk(t,e,n,r,i,s){const o=e.eventCache;if(dp(r,n)!=null)return e;{let a,l;if(Qe(n))if(ce(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const u=aa(e),d=u instanceof it?u:it.EMPTY_NODE,h=Wk(r,d);a=t.filter.updateFullNode(e.eventCache.getNode(),h,s)}else{const u=U_(r,aa(e));a=t.filter.updateFullNode(e.eventCache.getNode(),u,s)}else{const u=Xe(n);if(u===".priority"){ce(Qs(n)===1,"Can't have a priority with additional path components");const d=o.getNode();l=e.serverCache.getNode();const h=yI(r,n,d,l);h!=null?a=t.filter.updatePriority(d,h):a=o.getNode()}else{const d=wt(n);let h;if(o.isCompleteForChild(u)){l=e.serverCache.getNode();const f=yI(r,n,o.getNode(),l);f!=null?h=o.getNode().getImmediateChild(u).updateChild(d,f):h=o.getNode().getImmediateChild(u)}else h=IE(r,u,e.serverCache);h!=null?a=t.filter.updateChild(o.getNode(),u,h,d,i,s):a=o.getNode()}}return cc(e,a,o.isFullyInitialized()||Qe(n),t.filter.filtersNodes())}}function hp(t,e,n,r,i,s,o,a){const l=e.serverCache;let u;const d=o?t.filter:t.filter.getIndexedFilter();if(Qe(n))u=d.updateFullNode(l.getNode(),r,null);else if(d.filtersNodes()&&!l.isFiltered()){const m=l.getNode().updateChild(n,r);u=d.updateFullNode(l.getNode(),m,null)}else{const m=Xe(n);if(!l.isCompleteForPath(n)&&Qs(n)>1)return e;const y=wt(n),S=l.getNode().getImmediateChild(m).updateChild(y,r);m===".priority"?u=d.updatePriority(l.getNode(),S):u=d.updateChild(l.getNode(),m,S,y,Kk,null)}const h=Uk(e,u,l.isFullyInitialized()||Qe(n),d.filtersNodes()),f=new CE(i,h,s);return Gk(t,h,n,i,f,a)}function j_(t,e,n,r,i,s,o){const a=e.eventCache;let l,u;const d=new CE(i,e,s);if(Qe(n))u=t.filter.updateFullNode(e.eventCache.getNode(),r,o),l=cc(e,u,!0,t.filter.filtersNodes());else{const h=Xe(n);if(h===".priority")u=t.filter.updatePriority(e.eventCache.getNode(),r),l=cc(e,u,a.isFullyInitialized(),a.isFiltered());else{const f=wt(n),m=a.getNode().getImmediateChild(h);let y;if(Qe(f))y=r;else{const E=d.getCompleteChild(h);E!=null?Ik(f)===".priority"&&E.getChild(Rk(f)).isEmpty()?y=E:y=E.updateChild(f,r):y=it.EMPTY_NODE}if(m.equals(y))l=e;else{const E=t.filter.updateChild(a.getNode(),h,y,f,d,o);l=cc(e,E,a.isFullyInitialized(),t.filter.filtersNodes())}}}return l}function _I(t,e){return t.eventCache.isCompleteForChild(e)}function hW(t,e,n,r,i,s,o){let a=e;return r.foreach((l,u)=>{const d=sn(n,l);_I(e,Xe(d))&&(a=j_(t,a,d,u,i,s,o))}),r.foreach((l,u)=>{const d=sn(n,l);_I(e,Xe(d))||(a=j_(t,a,d,u,i,s,o))}),a}function vI(t,e,n){return n.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function $_(t,e,n,r,i,s,o,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let l=e,u;Qe(n)?u=r:u=new Et(null).setTree(n,r);const d=e.serverCache.getNode();return u.children.inorderTraversal((h,f)=>{if(d.hasChild(h)){const m=e.serverCache.getNode().getImmediateChild(h),y=vI(t,m,f);l=hp(t,l,new Ct(h),y,i,s,o,a)}}),u.children.inorderTraversal((h,f)=>{const m=!e.serverCache.isCompleteForChild(h)&&f.value===null;if(!d.hasChild(h)&&!m){const y=e.serverCache.getNode().getImmediateChild(h),E=vI(t,y,f);l=hp(t,l,new Ct(h),E,i,s,o,a)}}),l}function fW(t,e,n,r,i,s,o){if(dp(i,n)!=null)return e;const a=e.serverCache.isFiltered(),l=e.serverCache;if(r.value!=null){if(Qe(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return hp(t,e,n,l.getNode().getChild(n),i,s,a,o);if(Qe(n)){let u=new Et(null);return l.getNode().forEachChild(fl,(d,h)=>{u=u.set(new Ct(d),h)}),$_(t,e,n,u,i,s,a,o)}else return e}else{let u=new Et(null);return r.foreach((d,h)=>{const f=sn(n,d);l.isCompleteForPath(f)&&(u=u.set(d,l.getNode().getChild(f)))}),$_(t,e,n,u,i,s,a,o)}}function pW(t,e,n,r,i){const s=e.serverCache,o=Uk(e,s.getNode(),s.isFullyInitialized()||Qe(n),s.isFiltered());return Gk(t,o,n,r,Kk,i)}function mW(t,e,n,r,i,s){let o;if(dp(r,n)!=null)return e;{const a=new CE(r,e,i),l=e.eventCache.getNode();let u;if(Qe(n)||Xe(n)===".priority"){let d;if(e.serverCache.isFullyInitialized())d=U_(r,aa(e));else{const h=e.serverCache.getNode();ce(h instanceof it,"serverChildren would be complete if leaf node"),d=Wk(r,h)}d=d,u=t.filter.updateFullNode(l,d,s)}else{const d=Xe(n);let h=IE(r,d,e.serverCache);h==null&&e.serverCache.isCompleteForChild(d)&&(h=l.getImmediateChild(d)),h!=null?u=t.filter.updateChild(l,d,h,wt(n),a,s):e.eventCache.getNode().hasChild(d)?u=t.filter.updateChild(l,d,it.EMPTY_NODE,wt(n),a,s):u=l,u.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=U_(r,aa(e)),o.isLeafNode()&&(u=t.filter.updateFullNode(u,o,s)))}return o=e.serverCache.isFullyInitialized()||dp(r,ut())!=null,cc(e,u,o,t.filter.filtersNodes())}}function gW(t,e){const n=aa(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!Qe(e)&&!n.getImmediateChild(Xe(e)).isEmpty())?n.getChild(e):null}function EI(t,e,n,r){e.type===pi.MERGE&&e.source.queryId!==null&&(ce(aa(t.viewCache_),"We should always have a full cache before handling merges"),ce(M_(t.viewCache_),"Missing event cache, even though we have a server cache"));const i=t.viewCache_,s=cW(t.processor_,i,e,n,r);return uW(t.processor_,s.viewCache),ce(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=s.viewCache,yW(t,s.changes,s.viewCache.eventCache.getNode())}function yW(t,e,n,r){const i=t.eventRegistrations_;return Wz(t.eventGenerator_,e,n,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wI;function _W(t){ce(!wI,"__referenceConstructor has already been defined"),wI=t}function RE(t,e,n,r){const i=e.source.queryId;if(i!==null){const s=t.views.get(i);return ce(s!=null,"SyncTree gave us an op for an invalid query."),EI(s,e,n,r)}else{let s=[];for(const o of t.views.values())s=s.concat(EI(o,e,n,r));return s}}function AE(t,e){let n=null;for(const r of t.views.values())n=n||gW(r,e);return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let TI;function vW(t){ce(!TI,"__referenceConstructor has already been defined"),TI=t}class SI{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Et(null),this.pendingWriteTree_=sW(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function EW(t,e,n,r,i){return Gz(t.pendingWriteTree_,e,n,r,i),i?Sm(t,new oa(Lk(),e,n)):[]}function tl(t,e,n=!1){const r=Qz(t.pendingWriteTree_,e);if(Yz(t.pendingWriteTree_,e)){let s=new Et(null);return r.snap!=null?s=s.set(ut(),!0):Mr(r.children,o=>{s=s.set(new Ct(o),!0)}),Sm(t,new cp(r.path,s,n))}else return[]}function Tm(t,e,n){return Sm(t,new oa(Mk(),e,n))}function wW(t,e,n){const r=Et.fromObject(n);return Sm(t,new Gc(Mk(),e,r))}function TW(t,e,n,r){const i=Jk(t,r);if(i!=null){const s=Zk(i),o=s.path,a=s.queryId,l=xr(o,e),u=new oa(Fk(a),l,n);return eN(t,o,u)}else return[]}function SW(t,e,n,r){const i=Jk(t,r);if(i){const s=Zk(i),o=s.path,a=s.queryId,l=xr(o,e),u=Et.fromObject(n),d=new Gc(Fk(a),l,u);return eN(t,o,d)}else return[]}function Qk(t,e,n){const i=t.pendingWriteTree_,s=t.syncPointTree_.findOnPath(e,(o,a)=>{const l=xr(o,e),u=AE(a,l);if(u)return u});return zk(i,e,s,n,!0)}function Sm(t,e){return Yk(e,t.syncPointTree_,null,$k(t.pendingWriteTree_,ut()))}function Yk(t,e,n,r){if(Qe(t.path))return Xk(t,e,n,r);{const i=e.get(ut());n==null&&i!=null&&(n=AE(i,ut()));let s=[];const o=Xe(t.path),a=t.operationForChild(o),l=e.children.get(o);if(l&&a){const u=n?n.getImmediateChild(o):null,d=Hk(r,o);s=s.concat(Yk(a,l,u,d))}return i&&(s=s.concat(RE(i,t,r,n))),s}}function Xk(t,e,n,r){const i=e.get(ut());n==null&&i!=null&&(n=AE(i,ut()));let s=[];return e.children.inorderTraversal((o,a)=>{const l=n?n.getImmediateChild(o):null,u=Hk(r,o),d=t.operationForChild(o);d&&(s=s.concat(Xk(d,a,l,u)))}),i&&(s=s.concat(RE(i,t,r,n))),s}function Jk(t,e){return t.tagToQueryMap.get(e)}function Zk(t){const e=t.indexOf("$");return ce(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new Ct(t.substr(0,e))}}function eN(t,e,n){const r=t.syncPointTree_.get(e);ce(r,"Missing sync point for query tag that we're tracking");const i=$k(t.pendingWriteTree_,e);return RE(r,n,i,null)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bE{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new bE(n)}node(){return this.node_}}class PE{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=sn(this.path_,e);return new PE(this.syncTree_,n)}node(){return Qk(this.syncTree_,this.path_)}}const IW=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},II=function(t,e,n){if(!t||typeof t!="object")return t;if(ce(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return CW(t[".sv"],e,n);if(typeof t[".sv"]=="object")return RW(t[".sv"],e);ce(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},CW=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:ce(!1,"Unexpected server value: "+t)}},RW=function(t,e,n){t.hasOwnProperty("increment")||ce(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;typeof r!="number"&&ce(!1,"Unexpected increment value: "+r);const i=e.node();if(ce(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const o=i.getValue();return typeof o!="number"?r:o+r},AW=function(t,e,n,r){return xE(e,new PE(n,t),r)},bW=function(t,e,n){return xE(t,new bE(e),n)};function xE(t,e,n){const r=t.getPriority().val(),i=II(r,e.getImmediateChild(".priority"),n);let s;if(t.isLeafNode()){const o=t,a=II(o.getValue(),e,n);return a!==o.getValue()||i!==o.getPriority().val()?new en(a,bn(i)):t}else{const o=t;return s=o,i!==o.getPriority().val()&&(s=s.updatePriority(new en(i))),o.forEachChild(kn,(a,l)=>{const u=xE(l,e.getImmediateChild(a),n);u!==l&&(s=s.updateImmediateChild(a,u))}),s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kE{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function NE(t,e){let n=e instanceof Ct?e:new Ct(e),r=t,i=Xe(n);for(;i!==null;){const s=Il(r.node.children,i)||{children:{},childCount:0};r=new kE(i,r,s),n=wt(n),i=Xe(n)}return r}function eu(t){return t.node.value}function tN(t,e){t.node.value=e,B_(t)}function nN(t){return t.node.childCount>0}function PW(t){return eu(t)===void 0&&!nN(t)}function Im(t,e){Mr(t.node.children,(n,r)=>{e(new kE(n,t,r))})}function rN(t,e,n,r){n&&!r&&e(t),Im(t,i=>{rN(i,e,!0,r)}),n&&r&&e(t)}function xW(t,e,n){let r=t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function Cd(t){return new Ct(t.parent===null?t.name:Cd(t.parent)+"/"+t.name)}function B_(t){t.parent!==null&&kW(t.parent,t.name,t)}function kW(t,e,n){const r=PW(n),i=is(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,B_(t)):!r&&!i&&(t.node.children[e]=n.node,t.node.childCount++,B_(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NW=/[\[\].#$\/\u0000-\u001F\u007F]/,OW=/[\[\].#$\u0000-\u001F\u007F]/,Bg=10*1024*1024,iN=function(t){return typeof t=="string"&&t.length!==0&&!NW.test(t)},DW=function(t){return typeof t=="string"&&t.length!==0&&!OW.test(t)},LW=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),DW(t)},sN=function(t,e,n){const r=n instanceof Ct?new pz(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+Co(r));if(typeof e=="function")throw new Error(t+"contains a function "+Co(r)+" with contents = "+e.toString());if(ik(e))throw new Error(t+"contains "+e.toString()+" "+Co(r));if(typeof e=="string"&&e.length>Bg/3&&$p(e)>Bg)throw new Error(t+"contains a string greater than "+Bg+" utf8 bytes "+Co(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,s=!1;if(Mr(e,(o,a)=>{if(o===".value")i=!0;else if(o!==".priority"&&o!==".sv"&&(s=!0,!iN(o)))throw new Error(t+" contains an invalid key ("+o+") "+Co(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);mz(r,o),sN(t,a,r),gz(r)}),i&&s)throw new Error(t+' contains ".value" child '+Co(r)+" in addition to actual children.")}},MW=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!iN(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!LW(n))throw new Error(PF(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FW{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function VW(t,e){let n=null;for(let r=0;r<e.length;r++){const i=e[r],s=i.getPath();n!==null&&!Ak(s,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:s}),n.events.push(i)}n&&t.eventLists_.push(n)}function _a(t,e,n){VW(t,n),UW(t,r=>Yr(r,e)||Yr(e,r))}function UW(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const i=t.eventLists_[r];if(i){const s=i.path;e(s)?(jW(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function jW(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const r=n.getEventRunner();lc&&An("event: "+n.toString()),Sd(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $W="repo_interrupt",BW=25;class zW{constructor(e,n,r,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new FW,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=up(),this.transactionQueueTree_=new kE,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function WW(t,e,n){if(t.stats_=_E(t.repoInfo_),t.forceRestClient_||V9())t.server_=new lp(t.repoInfo_,(r,i,s,o)=>{CI(t,r,i,s,o)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>RI(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{cn(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new Hi(t.repoInfo_,e,(r,i,s,o)=>{CI(t,r,i,s,o)},r=>{RI(t,r)},r=>{qW(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=W9(t.repoInfo_,()=>new zz(t.stats_,t.server_)),t.infoData_=new Vz,t.infoSyncTree_=new SI({startListening:(r,i,s,o)=>{let a=[];const l=t.infoData_.getNode(r._path);return l.isEmpty()||(a=Tm(t.infoSyncTree_,r._path,l),setTimeout(()=>{o("ok")},0)),a},stopListening:()=>{}}),OE(t,"connected",!1),t.serverSyncTree_=new SI({startListening:(r,i,s,o)=>(t.server_.listen(r,s,i,(a,l)=>{const u=o(a,l);_a(t.eventQueue_,r._path,u)}),[]),stopListening:(r,i)=>{t.server_.unlisten(r,i)}})}function HW(t){const n=t.infoData_.getNode(new Ct(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function oN(t){return IW({timestamp:HW(t)})}function CI(t,e,n,r,i){t.dataUpdateCount++;const s=new Ct(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let o=[];if(i)if(r){const l=Uf(n,u=>bn(u));o=SW(t.serverSyncTree_,s,l,i)}else{const l=bn(n);o=TW(t.serverSyncTree_,s,l,i)}else if(r){const l=Uf(n,u=>bn(u));o=wW(t.serverSyncTree_,s,l)}else{const l=bn(n);o=Tm(t.serverSyncTree_,s,l)}let a=s;o.length>0&&(a=LE(t,s)),_a(t.eventQueue_,a,o)}function RI(t,e){OE(t,"connected",e),e===!1&&GW(t)}function qW(t,e){Mr(e,(n,r)=>{OE(t,n,r)})}function OE(t,e,n){const r=new Ct("/.info/"+e),i=bn(n);t.infoData_.updateSnapshot(r,i);const s=Tm(t.infoSyncTree_,r,i);_a(t.eventQueue_,r,s)}function KW(t){return t.nextWriteId_++}function GW(t){aN(t,"onDisconnectEvents");const e=oN(t),n=up();L_(t.onDisconnect_,ut(),(i,s)=>{const o=AW(i,s,t.serverSyncTree_,e);Dk(n,i,o)});let r=[];L_(n,ut(),(i,s)=>{r=r.concat(Tm(t.serverSyncTree_,i,s));const o=JW(t,i);LE(t,o)}),t.onDisconnect_=up(),_a(t.eventQueue_,ut(),r)}function QW(t){t.persistentConnection_&&t.persistentConnection_.interrupt($W)}function aN(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),An(n,...e)}function lN(t,e,n){return Qk(t.serverSyncTree_,e,n)||it.EMPTY_NODE}function DE(t,e=t.transactionQueueTree_){if(e||Cm(t,e),eu(e)){const n=cN(t,e);ce(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&YW(t,Cd(e),n)}else nN(e)&&Im(e,n=>{DE(t,n)})}function YW(t,e,n){const r=n.map(u=>u.currentWriteId),i=lN(t,e,r);let s=i;const o=i.hash();for(let u=0;u<n.length;u++){const d=n[u];ce(d.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),d.status=1,d.retryCount++;const h=xr(e,d.path);s=s.updateChild(h,d.currentOutputSnapshotRaw)}const a=s.val(!0),l=e;t.server_.put(l.toString(),a,u=>{aN(t,"transaction put response",{path:l.toString(),status:u});let d=[];if(u==="ok"){const h=[];for(let f=0;f<n.length;f++)n[f].status=2,d=d.concat(tl(t.serverSyncTree_,n[f].currentWriteId)),n[f].onComplete&&h.push(()=>n[f].onComplete(null,!0,n[f].currentOutputSnapshotResolved)),n[f].unwatcher();Cm(t,NE(t.transactionQueueTree_,e)),DE(t,t.transactionQueueTree_),_a(t.eventQueue_,e,d);for(let f=0;f<h.length;f++)Sd(h[f])}else{if(u==="datastale")for(let h=0;h<n.length;h++)n[h].status===3?n[h].status=4:n[h].status=0;else{_r("transaction at "+l.toString()+" failed: "+u);for(let h=0;h<n.length;h++)n[h].status=4,n[h].abortReason=u}LE(t,e)}},o)}function LE(t,e){const n=uN(t,e),r=Cd(n),i=cN(t,n);return XW(t,i,r),r}function XW(t,e,n){if(e.length===0)return;const r=[];let i=[];const o=e.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){const l=e[a],u=xr(n,l.path);let d=!1,h;if(ce(u!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)d=!0,h=l.abortReason,i=i.concat(tl(t.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=BW)d=!0,h="maxretry",i=i.concat(tl(t.serverSyncTree_,l.currentWriteId,!0));else{const f=lN(t,l.path,o);l.currentInputSnapshot=f;const m=e[a].update(f.val());if(m!==void 0){sN("transaction failed: Data returned ",m,l.path);let y=bn(m);typeof m=="object"&&m!=null&&is(m,".priority")||(y=y.updatePriority(f.getPriority()));const S=l.currentWriteId,T=oN(t),_=bW(y,f,T);l.currentOutputSnapshotRaw=y,l.currentOutputSnapshotResolved=_,l.currentWriteId=KW(t),o.splice(o.indexOf(S),1),i=i.concat(EW(t.serverSyncTree_,l.path,_,l.currentWriteId,l.applyLocally)),i=i.concat(tl(t.serverSyncTree_,S,!0))}else d=!0,h="nodata",i=i.concat(tl(t.serverSyncTree_,l.currentWriteId,!0))}_a(t.eventQueue_,n,i),i=[],d&&(e[a].status=2,function(f){setTimeout(f,Math.floor(0))}(e[a].unwatcher),e[a].onComplete&&(h==="nodata"?r.push(()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot)):r.push(()=>e[a].onComplete(new Error(h),!1,null))))}Cm(t,t.transactionQueueTree_);for(let a=0;a<r.length;a++)Sd(r[a]);DE(t,t.transactionQueueTree_)}function uN(t,e){let n,r=t.transactionQueueTree_;for(n=Xe(e);n!==null&&eu(r)===void 0;)r=NE(r,n),e=wt(e),n=Xe(e);return r}function cN(t,e){const n=[];return dN(t,e,n),n.sort((r,i)=>r.order-i.order),n}function dN(t,e,n){const r=eu(e);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);Im(e,i=>{dN(t,i,n)})}function Cm(t,e){const n=eu(e);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,tN(e,n.length>0?n:void 0)}Im(e,r=>{Cm(t,r)})}function JW(t,e){const n=Cd(uN(t,e)),r=NE(t.transactionQueueTree_,e);return xW(r,i=>{zg(t,i)}),zg(t,r),rN(r,i=>{zg(t,i)}),n}function zg(t,e){const n=eu(e);if(n){const r=[];let i=[],s=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(ce(s===o-1,"All SENT items should be at beginning of queue."),s=o,n[o].status=3,n[o].abortReason="set"):(ce(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat(tl(t.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));s===-1?tN(e,void 0):n.length=s+1,_a(t.eventQueue_,Cd(e),i);for(let o=0;o<r.length;o++)Sd(r[o])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZW(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function eH(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):_r(`Invalid query segment '${n}' in query '${t}'`)}return e}const AI=function(t,e){const n=tH(t),r=n.namespace;n.domain==="firebase.com"&&ia(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&ia("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||x9();const i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new $9(n.host,n.secure,r,i,e,"",r!==n.subdomain),path:new Ct(n.pathString)}},tH=function(t){let e="",n="",r="",i="",s="",o=!0,a="https",l=443;if(typeof t=="string"){let u=t.indexOf("//");u>=0&&(a=t.substring(0,u-1),t=t.substring(u+2));let d=t.indexOf("/");d===-1&&(d=t.length);let h=t.indexOf("?");h===-1&&(h=t.length),e=t.substring(0,Math.min(d,h)),d<h&&(i=ZW(t.substring(d,h)));const f=eH(t.substring(Math.min(t.length,h)));u=e.indexOf(":"),u>=0?(o=a==="https"||a==="wss",l=parseInt(e.substring(u+1),10)):u=e.length;const m=e.slice(0,u);if(m.toLowerCase()==="localhost")n="localhost";else if(m.split(".").length<=2)n=m;else{const y=e.indexOf(".");r=e.substring(0,y).toLowerCase(),n=e.substring(y+1),s=r}"ns"in f&&(s=f.ns)}return{host:e,port:l,domain:n,subdomain:r,secure:o,scheme:a,pathString:i,namespace:s}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ME{constructor(e,n,r,i){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return Qe(this._path)?null:Ik(this._path)}get ref(){return new tu(this._repo,this._path)}get _queryIdentifier(){const e=hI(this._queryParams),n=gE(e);return n==="{}"?"default":n}get _queryObject(){return hI(this._queryParams)}isEqual(e){if(e=At(e),!(e instanceof ME))return!1;const n=this._repo===e._repo,r=Ak(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+fz(this._path)}}class tu extends ME{constructor(e,n){super(e,n,new TE,!1)}get parent(){const e=Rk(this._path);return e===null?null:new tu(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}_W(tu);vW(tu);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nH="FIREBASE_DATABASE_EMULATOR_HOST",z_={};let rH=!1;function iH(t,e,n,r,i){let s=r||t.options.databaseURL;s===void 0&&(t.options.projectId||ia("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),An("Using default host for project ",t.options.projectId),s=`${t.options.projectId}-default-rtdb.firebaseio.com`);let o=AI(s,i),a=o.repoInfo,l;typeof process<"u"&&K1&&(l=K1[nH]),l?(s=`http://${l}?ns=${a.namespace}`,o=AI(s,i),a=o.repoInfo):o.repoInfo.secure;const u=new j9(t.name,t.options,e);MW("Invalid Firebase Database URL",o),Qe(o.path)||ia("Database URL must point to the root of a Firebase Database (not including a child path).");const d=oH(a,t,u,new U9(t.name,n));return new aH(d,t)}function sH(t,e){const n=z_[e];(!n||n[t.key]!==t)&&ia(`Database ${e}(${t.repoInfo_}) has already been deleted.`),QW(t),delete n[t.key]}function oH(t,e,n,r){let i=z_[e.name];i||(i={},z_[e.name]=i);let s=i[t.toURLString()];return s&&ia("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new zW(t,rH,n,r),i[t.toURLString()]=s,s}class aH{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(WW(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new tu(this._repo,ut())),this._rootInternal}_delete(){return this._rootInternal!==null&&(sH(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&ia("Cannot call "+e+" on a deleted database.")}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lH(t){I9(so),Hs(new Xi("database",(e,{instanceIdentifier:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return iH(r,i,s,n)},"PUBLIC").setMultipleInstances(!0)),Nr(G1,Q1,t),Nr(G1,Q1,"esm2017")}Hi.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};Hi.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};lH();function uH(){const t=fa(),{register:e,handleSubmit:n,formState:{errors:r,isSubmitting:i,isSubmitted:s}}=t0(),{currentUser:o,registerUzer:a,loginWithProvider:l,setCurrentUser:u,db:d}=ga(),{isFirstLogin:h,setIsFirstLogin:f,getUserDetailsById:m,userExists:y}=ra(),E=async()=>l().then(async T=>{Kr.credentialFromResult(T).accessToken;const w=T.user;f(!w.email),m(w.uid),console.log(w),console.log(w),t("/")}).catch(T=>{console.log(T),T.code;const _=T.message;Ni(_,"error","bottom-center",4e3),T.customData.email,Kr.credentialFromError(T)}),S=async T=>{try{await a(T.email,T.password).then(async _=>{Ni("User Registered Successfully 🥳","success","bottom-center",2e3),console.log(_);const w=_.user;try{console.log(w)}catch(A){console.log(A)}t("/login",{replace:!0})}).catch(_=>{_.message==="Firebase: Error (auth/email-already-in-use)."?Ni("User with this Email already exists!","error","bottom-center",4e3):Ni(_.message,"error","bottom-center",4e3)})}catch(_){Ni(_.message,"error","bottom-center",4e3)}};return D.jsx(D.Fragment,{children:D.jsxs("div",{className:"flex bg-cyan-200 min-h-full  flex-1 flex-col border-2   border-cyan-300  shadow-2xl justify-center px-6 py-7 lg:px-8 m-auto w-80 my-5 rounded-md ",children:[D.jsxs("div",{className:"sm:mx-auto sm:w-full sm:max-w-sm",children:[D.jsx("h1",{className:"mt-10 text-center text-4xl font-bold leading-9 tracking-tight text-blue-900",children:"Project-Lo"}),D.jsx("h2",{className:"mt-10 text-center text-2xl font-bold leading-9 tracking-tight text-gray-900",children:"Sign Up"})]}),D.jsxs("div",{className:"mt-10 sm:mx-auto sm:w-full sm:max-w-sm",children:[D.jsxs("form",{onSubmit:n(S),className:"space-y-5",children:[D.jsxs("div",{children:[D.jsx("label",{htmlFor:"email",className:"block text-sm font-medium leading-6 text-gray-900",children:"Email address"}),D.jsx("div",{className:"mt-2",children:D.jsx("input",{id:"email",name:"email",type:"email",required:!0,...e("email",{required:!0}),autoComplete:"email",className:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"})})]}),D.jsxs("div",{children:[D.jsx("label",{htmlFor:"fname",className:"block text-sm font-medium leading-6 text-gray-900",children:"First Name"}),D.jsx("div",{className:"mt-2",children:D.jsx("input",{...e("fname",{required:!0}),id:"fname",name:"fname",type:"text",required:!0,autoComplete:"fname",className:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"})})]}),D.jsxs("div",{children:[D.jsx("div",{className:"flex items-center justify-between",children:D.jsx("label",{htmlFor:"password",className:"block text-sm font-medium leading-6 text-gray-900",children:"Password"})}),D.jsx("div",{className:"mt-2",children:D.jsx("input",{...e("password",{required:!0,minLength:{value:8,message:"Password must have atleast 8 characters"},maxLength:{value:16,message:"Password must have maximum 16 characters"}}),id:"password",name:"password",type:"password",required:!0,autoComplete:"current-password",className:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"})}),r.password&&D.jsx("p",{role:"alert",className:"text-red-600",children:r.password.message})]}),D.jsx("div",{children:D.jsxs("button",{disabled:i||o,type:"submit",className:`flex w-full justify-center rounded-md bg-indigo-600 px-3 py-1.5 text-sm font-semibold leading-6 text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600 ${i?"disabled":""} ${o?"disabled disabled:bg-slate-500":""}`,children:["Sign Up",D.jsx("span",{children:i&&D.jsx(mm,{type:"spin",color:"white"})})]})})]}),D.jsx("br",{}),D.jsx("div",{className:"flex items-center justify-center ",children:D.jsxs("button",{disabled:o,onClick:E,className:`px-4 py-2 border flex gap-2 border-slate-200 dark:border-slate-700 rounded-lg text-blue-600 bg-white dark:text-slate-200 hover:border-slate-400 dark:hover:border-slate-500 hover:text-slate-900 dark:hover:text-slate-300 hover:shadow transition duration-150 ${o?"disabled disabled:bg-slate-500":""}`,children:[D.jsx("img",{className:"w-6 h-6",src:"https://www.svgrepo.com/show/475656/google-color.svg",loading:"lazy",alt:"google logo"}),D.jsx("span",{className:"text-slate-600 font-mono size-30 ",children:"Login with Google"})]})}),!o&&D.jsxs("div",{children:[D.jsx("p",{children:"Already a user?"}),D.jsx(Mi,{to:"/login",children:D.jsx("p",{className:"text-blue-700 font-semibold",children:"Login"})})]})]})]})})}const cH=({proj_title:t,proj_media_url:e,proj_desc:n,proj_pid:r})=>{const i=(a,l)=>a.length<=l?a:a.slice(0,l)+"...",{transformCloudinaryURL:s}=ra(),o=fa();return D.jsx(D.Fragment,{children:D.jsx("div",{className:"h-auto pt-6 mt-2 items-stretch",children:D.jsx("div",{className:"max-w-sm mx-auto bg-white dark:bg-gray-900 rounded-lg overflow-hidden shadow-lg hover:shadow-2xl transition-all hover:shadow-blue-300 h-[450px] flex flex-col justify-between",children:D.jsxs("div",{className:"border-b px-4 pb-6",children:[D.jsxs("div",{className:"text-center my-4",children:[D.jsx(Mi,{to:`/project/${r}`,replace:!0,children:e&&!e.includes("firebasestorage")?D.jsx("img",{className:"h-48 w-full object-cover rounded-sm border-4 border-white dark:border-gray-800 mx-auto my-4",src:s(e),alt:"Project Media"}):D.jsxs("video",{autoPlay:!0,controls:!0,className:"object-cover h-48 w-full rounded-sm border-2 border-white dark:border-gray-800 mx-auto my-4",children:[D.jsx("source",{src:e,type:"video/mp4"}),"Your browser does not support the video tag."]})}),D.jsxs("div",{className:"py-2",children:[D.jsx("h3",{className:"font-bold text-xl text-gray-800 dark:text-white mb-1",children:i(t,20)}),D.jsxs("div",{className:"inline-flex text-gray-700 dark:text-gray-300 items-center",children:[D.jsx("svg",{className:"h-5 w-5 text-gray-400 dark:text-gray-600 mr-1",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24",children:D.jsx("path",{d:"M5.64 16.36a9 9 0 1 1 12.72 0l-5.65 5.66a1 1 0 0 1-1.42 0l-5.65-5.66zm11.31-1.41a7 7 0 1 0-9.9 0L12 19.9l4.95-4.95zM12 14a4 4 0 1 1 0-8 4 4 0 0 1 0 8zm0-2a2 2 0 1 0 0-4 2 2 0 0 0 0 4z"})}),i(n,28)]})]})]}),D.jsx("div",{className:"flex gap-2 px-2 justify-center",children:D.jsx(Mi,{to:`/project/${r}`,replace:!0,children:D.jsx("button",{onClick:()=>o(`/project/${t}`),className:"flex-1 rounded-full bg-blue-600 dark:bg-blue-800 text-white font-bold hover:bg-blue-800 dark:hover:bg-blue-900 px-4 py-2",children:"View Project"})})})]})})})})};function dH(){const{getProjects:t}=ra(),[e,n]=I.useState([]),{currentUser:r}=ra(),i=[];return I.useEffect(()=>{t().then(s=>{s.forEach(o=>{i.push(o)}),console.log(i),n(i)}).catch(s=>{console.log(s)})},[]),I.useEffect(()=>{console.log(r)},[r]),D.jsx(D.Fragment,{children:D.jsx("div",{className:"flex gap-2 justify-evenly flex-wrap mx-2 ",children:e==null?void 0:e.map(s=>D.jsx(cH,{proj_title:s.title,proj_desc:s.description,proj_media_url:s.media[0],proj_pid:s.pid},s.title))})})}const hH=async t=>{try{const e=ix(om(Ax,"projects"),m$("pid","==",t)),n=await iE(e);return n.empty?(console.log("No project found with the given pid."),null):n.docs.map(i=>i.data())[0]}catch(e){throw console.error("Error fetching project: ",e),new Error("Failed to fetch project")}},fH=()=>{const{pid:t}=TM(),[e,n]=I.useState(null),[r,i]=I.useState(0),[s,o]=I.useState(!0),{transformCloudinaryURL:a}=ra();if(I.useEffect(()=>{(async()=>{try{const A=await hH(t);n(A),o(!1)}catch(A){console.error("Error fetching project:",A),o(!1)}})()},[t]),s)return D.jsx("div",{children:D.jsx(mm,{})});if(!e)return D.jsx("div",{children:"No project found with the given pid."});const{title:l,description:u,tools:d,platform:h,price:f,media:m}=e,y=()=>{i(w=>(w+1)%m.length)},E=()=>{i(w=>w===0?m.length-1:w-1)},S=w=>w.includes("youtube.com")||w.includes("youtu.be"),T=w=>{const A=w.match(/(?:youtu\.be\/|youtube\.com\/(?:watch\?v=|embed\/|v\/))([a-zA-Z0-9_-]{11})/);return A?A[1]:null},_=()=>{const w=m.findIndex(S);w!==-1&&i(w)};return D.jsxs("div",{className:"flex flex-col items-center p-6 max-w-5xl mx-auto",children:[D.jsxs("div",{className:"relative w-full max-w-2xl",children:[m[r].includes("cloudinary")?D.jsx("img",{src:a(m[r]),alt:`Slide ${r+1}`,className:"w-full h-auto rounded-lg shadow-lg"}):S(m[r])?D.jsx("iframe",{src:`https://www.youtube.com/embed/${T(m[r])}?autoplay=1`,title:"YouTube video player",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; picture-in-picture",allowFullScreen:!0,className:"w-5/6 flex justify-center h-72 rounded-md shadow-lg mx-auto"}):D.jsxs("video",{autoFocus:!0,className:"w-full h-auto rounded-lg shadow-lg",controls:!0,children:[D.jsx("source",{src:m[r],type:"video/mp4"}),"Your browser does not support the video tag."]}),D.jsx("button",{onClick:E,className:"absolute top-1/2 left-1 bg-blue-700 text-white p-2 rounded-full shadow-md transform -translate-y-1/2",children:"←"}),D.jsx("button",{onClick:y,className:"absolute top-1/2 right-1 bg-blue-700 text-white p-2 rounded-full shadow-md transform -translate-y-1/2",children:"→"})]}),D.jsx("div",{children:D.jsx("button",{onClick:_,children:D.jsx("h3",{className:"text-blue-600 underline",children:"Watch Demo Video"})})}),D.jsxs("h2",{className:"text-3xl font-semibold mt-6 mb-4",children:["Title: ",l]}),D.jsxs("p",{className:"text-gray-600 text-lg mb-6",children:["Description: ",u]}),D.jsxs("div",{className:"mb-6",children:[D.jsxs("p",{className:"text-gray-800 font-medium",children:["Tools Used: ",D.jsx("span",{className:"text-gray-600",children:d})]}),D.jsxs("p",{className:"text-gray-800 font-medium",children:["Platform: ",D.jsx("span",{className:"text-gray-600",children:h})]})]}),D.jsxs("p",{className:"text-2xl font-bold text-green-600 mb-6",children:["₹",f]}),D.jsx("button",{className:"bg-blue-500 text-white px-6 py-3 rounded-lg font-semibold hover:bg-blue-600 transition duration-200",children:"Buy"})]})};var ln=[];for(var Wg=0;Wg<256;++Wg)ln.push((Wg+256).toString(16).slice(1));function pH(t,e=0){return(ln[t[e+0]]+ln[t[e+1]]+ln[t[e+2]]+ln[t[e+3]]+"-"+ln[t[e+4]]+ln[t[e+5]]+"-"+ln[t[e+6]]+ln[t[e+7]]+"-"+ln[t[e+8]]+ln[t[e+9]]+"-"+ln[t[e+10]]+ln[t[e+11]]+ln[t[e+12]]+ln[t[e+13]]+ln[t[e+14]]+ln[t[e+15]]).toLowerCase()}var Ch,mH=new Uint8Array(16);function gH(){if(!Ch&&(Ch=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Ch))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Ch(mH)}var yH=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);const bI={randomUUID:yH};function _H(t,e,n){if(bI.randomUUID&&!e&&!t)return bI.randomUUID();t=t||{};var r=t.random||(t.rng||gH)();return r[6]=r[6]&15|64,r[8]=r[8]&63|128,pH(r)}const vH=()=>{const{register:t,handleSubmit:e,watch:n,reset:r}=t0(),[i,s]=I.useState([]),[o,a]=I.useState(null),[l,u]=I.useState(!1),[d,h]=I.useState(0),{db:f,currentUser:m}=ga(),y=fa();n("media");const E=async T=>{u(!0);try{if(!o&&!T.youtubeURLs){alert("Please upload some media files or provide YouTube URLs."),u(!1);return}const _=_H(),w=await C$(om(f,"projects"),{pid:_,title:T.title,description:T.description,tools:T.tools,platform:T.platform,price:T.price,media:[]}),A=o?o.map(async R=>{if(R.type.startsWith("image")){const g="https://api.cloudinary.com/v1_1/dnpesnh4i/upload",C=new FormData;return C.append("file",R),C.append("upload_preset","userProfile"),(await Qt.post(g,C,{headers:{"Content-Type":"multipart/form-data"}})).data.secure_url}else if(R.type.startsWith("video")){const g=FB(zB,`projects/${_}/${R.name}`),C=LB(g,R);return new Promise((b,k)=>{C.on("state_changed",N=>{const x=N.bytesTransferred/N.totalBytes*100;console.log("Upload progress:",x),h(x)},N=>{console.error("Error uploading video:",N),k(N)},async()=>{const N=await MB(C.snapshot.ref);b(N)})})}}):[];if(T.youtubeURLs){const R=T.youtubeURLs.split(",").map(g=>g.trim());A.push(...R)}const O=await Promise.all(A);console.log("Uploaded media URLs:",O);const F=YP(f,"projects",w.id);await I$(F,{media:R$(...O)}),u(!1),r(),alert("Project added successfully!")}catch(_){console.error("Error adding project:",_),u(!1)}},S=T=>{const _=Array.from(T.target.files);a(_);const w=_.map(A=>({url:URL.createObjectURL(A),type:A.type.startsWith("image")?"image":"video"}));s(w)};return I.useEffect(()=>{console.log(m),(m==null?void 0:m.email)!=="sarcasticgamer96@gmail.com"&&(y("/",{replace:!0}),console.log("Not Allowed"))},[m]),D.jsxs("div",{className:"max-w-xl mt-6 border border-blue-400 mx-auto p-6 bg-white shadow-md rounded-md",children:[D.jsx("h2",{className:"text-2xl text-center font-bold mb-4",children:"Add New Project"}),D.jsxs("form",{onSubmit:e(E),className:"space-y-6",children:[D.jsxs("div",{children:[D.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Title"}),D.jsx("input",{type:"text",...t("title",{required:!0}),className:"mt-1 block w-full p-2 border border-gray-300 rounded-md",placeholder:"Project Title"})]}),D.jsxs("div",{children:[D.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Description"}),D.jsx("textarea",{...t("description",{required:!0}),className:"mt-1 block w-full p-2 border border-gray-300 rounded-md",placeholder:"Project Description",rows:"3"})]}),D.jsxs("div",{children:[D.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Media (Images/Videos)"}),D.jsx("input",{type:"file",...t("media"),accept:"image/*,video/*",multiple:!0,onChange:S,className:"mt-1 block w-full text-gray-500"})]}),D.jsxs("div",{children:[D.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"YouTube Video URLs (separated by commas)"}),D.jsx("input",{type:"text",...t("youtubeURLs"),className:"mt-1 block w-full p-2 border border-gray-300 rounded-md",placeholder:"https://youtube.com/video1, https://youtube.com/video2"})]}),i.length>0&&D.jsx("div",{className:"flex flex-wrap gap-4 mt-4",children:i.map((T,_)=>D.jsx("div",{className:"w-32 h-32 overflow-hidden border",children:T.type==="image"?D.jsx("img",{src:T.url,alt:"Preview",className:"w-full h-full object-cover"}):D.jsxs("video",{autoPlay:!0,controls:!0,className:"h-full w-full object-cover",children:[D.jsx("source",{src:T.url,type:"video/mp4"}),"Your browser does not support the video tag."]})},_))}),D.jsxs("div",{children:[D.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Tools Used"}),D.jsx("input",{type:"text",...t("tools",{required:!0}),className:"mt-1 block w-full p-2 border border-gray-300 rounded-md",placeholder:"React, Firebase, etc."})]}),D.jsxs("div",{children:[D.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Platform"}),D.jsxs("select",{...t("platform",{required:!0}),className:"mt-1 block w-full p-2 border border-gray-300 rounded-md",children:[D.jsx("option",{value:"web",children:"Web"}),D.jsx("option",{value:"app",children:"App"})]})]}),D.jsxs("div",{children:[D.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Price (in Rs.)"}),D.jsx("input",{type:"number",...t("price",{required:!0}),className:"mt-1 block w-full p-2 border border-gray-300 rounded-md",placeholder:"Price in Rs."})]}),D.jsxs("button",{type:"submit",disabled:l,className:"w-full py-2 px-4 bg-blue-500 text-white font-semibold rounded-md hover:bg-blue-600 transition duration-300",children:["Add Project",D.jsx("span",{children:l&&D.jsx(mm,{type:"spin",color:"white"})})]})]}),D.jsxs("h3",{className:"text-center text-2xl text-green-600",children:[d,"%"]})]})};function Rh({children:t}){const{currentUser:e}=ga(),n=fa(),r=$l();return I.useEffect(()=>{e===null&&n("/login",{replace:!0})},[e,r]),t}const hN=typeof document<"u"?pe.useLayoutEffect:()=>{};function EH(t){const e=I.useRef(null);return hN(()=>{e.current=t},[t]),I.useCallback((...n)=>{const r=e.current;return r==null?void 0:r(...n)},[])}const Rd=t=>{var e;return(e=t==null?void 0:t.ownerDocument)!==null&&e!==void 0?e:document},Lo=t=>t&&"window"in t&&t.window===t?t:Rd(t).defaultView||window;function wH(t){var e;return typeof window>"u"||window.navigator==null?!1:((e=window.navigator.userAgentData)===null||e===void 0?void 0:e.brands.some(n=>t.test(n.brand)))||t.test(window.navigator.userAgent)}function TH(t){var e;return typeof window<"u"&&window.navigator!=null?t.test(((e=window.navigator.userAgentData)===null||e===void 0?void 0:e.platform)||window.navigator.platform):!1}function fN(t){let e=null;return()=>(e==null&&(e=t()),e)}const SH=fN(function(){return TH(/^Mac/i)}),IH=fN(function(){return wH(/Android/i)});function CH(t){return t.mozInputSource===0&&t.isTrusted?!0:IH()&&t.pointerType?t.type==="click"&&t.buttons===1:t.detail===0&&!t.pointerType}class RH{isDefaultPrevented(){return this.nativeEvent.defaultPrevented}preventDefault(){this.defaultPrevented=!0,this.nativeEvent.preventDefault()}stopPropagation(){this.nativeEvent.stopPropagation(),this.isPropagationStopped=()=>!0}isPropagationStopped(){return!1}persist(){}constructor(e,n){this.nativeEvent=n,this.target=n.target,this.currentTarget=n.currentTarget,this.relatedTarget=n.relatedTarget,this.bubbles=n.bubbles,this.cancelable=n.cancelable,this.defaultPrevented=n.defaultPrevented,this.eventPhase=n.eventPhase,this.isTrusted=n.isTrusted,this.timeStamp=n.timeStamp,this.type=e}}function pN(t){let e=I.useRef({isFocused:!1,observer:null});hN(()=>{const r=e.current;return()=>{r.observer&&(r.observer.disconnect(),r.observer=null)}},[]);let n=EH(r=>{t==null||t(r)});return I.useCallback(r=>{if(r.target instanceof HTMLButtonElement||r.target instanceof HTMLInputElement||r.target instanceof HTMLTextAreaElement||r.target instanceof HTMLSelectElement){e.current.isFocused=!0;let i=r.target,s=o=>{e.current.isFocused=!1,i.disabled&&n(new RH("blur",o)),e.current.observer&&(e.current.observer.disconnect(),e.current.observer=null)};i.addEventListener("focusout",s,{once:!0}),e.current.observer=new MutationObserver(()=>{if(e.current.isFocused&&i.disabled){var o;(o=e.current.observer)===null||o===void 0||o.disconnect();let a=i===document.activeElement?null:document.activeElement;i.dispatchEvent(new FocusEvent("blur",{relatedTarget:a})),i.dispatchEvent(new FocusEvent("focusout",{bubbles:!0,relatedTarget:a}))}}),e.current.observer.observe(i,{attributes:!0,attributeFilter:["disabled"]})}},[n])}function AH(t){let{isDisabled:e,onFocus:n,onBlur:r,onFocusChange:i}=t;const s=I.useCallback(l=>{if(l.target===l.currentTarget)return r&&r(l),i&&i(!1),!0},[r,i]),o=pN(s),a=I.useCallback(l=>{const u=Rd(l.target);l.target===l.currentTarget&&u.activeElement===l.target&&(n&&n(l),i&&i(!0),o(l))},[i,n,o]);return{focusProps:{onFocus:!e&&(n||i||r)?a:void 0,onBlur:!e&&(r||i)?s:void 0}}}let Ad=null,W_=new Set,hc=new Map,la=!1,H_=!1;const bH={Tab:!0,Escape:!0};function FE(t,e){for(let n of W_)n(t,e)}function PH(t){return!(t.metaKey||!SH()&&t.altKey||t.ctrlKey||t.key==="Control"||t.key==="Shift"||t.key==="Meta")}function fp(t){la=!0,PH(t)&&(Ad="keyboard",FE("keyboard",t))}function br(t){Ad="pointer",(t.type==="mousedown"||t.type==="pointerdown")&&(la=!0,FE("pointer",t))}function mN(t){CH(t)&&(la=!0,Ad="virtual")}function gN(t){t.target===window||t.target===document||(!la&&!H_&&(Ad="virtual",FE("virtual",t)),la=!1,H_=!1)}function yN(){la=!1,H_=!0}function q_(t){if(typeof window>"u"||hc.get(Lo(t)))return;const e=Lo(t),n=Rd(t);let r=e.HTMLElement.prototype.focus;e.HTMLElement.prototype.focus=function(){la=!0,r.apply(this,arguments)},n.addEventListener("keydown",fp,!0),n.addEventListener("keyup",fp,!0),n.addEventListener("click",mN,!0),e.addEventListener("focus",gN,!0),e.addEventListener("blur",yN,!1),typeof PointerEvent<"u"?(n.addEventListener("pointerdown",br,!0),n.addEventListener("pointermove",br,!0),n.addEventListener("pointerup",br,!0)):(n.addEventListener("mousedown",br,!0),n.addEventListener("mousemove",br,!0),n.addEventListener("mouseup",br,!0)),e.addEventListener("beforeunload",()=>{_N(t)},{once:!0}),hc.set(e,{focus:r})}const _N=(t,e)=>{const n=Lo(t),r=Rd(t);e&&r.removeEventListener("DOMContentLoaded",e),hc.has(n)&&(n.HTMLElement.prototype.focus=hc.get(n).focus,r.removeEventListener("keydown",fp,!0),r.removeEventListener("keyup",fp,!0),r.removeEventListener("click",mN,!0),n.removeEventListener("focus",gN,!0),n.removeEventListener("blur",yN,!1),typeof PointerEvent<"u"?(r.removeEventListener("pointerdown",br,!0),r.removeEventListener("pointermove",br,!0),r.removeEventListener("pointerup",br,!0)):(r.removeEventListener("mousedown",br,!0),r.removeEventListener("mousemove",br,!0),r.removeEventListener("mouseup",br,!0)),hc.delete(n))};function xH(t){const e=Rd(t);let n;return e.readyState!=="loading"?q_(t):(n=()=>{q_(t)},e.addEventListener("DOMContentLoaded",n)),()=>_N(t,n)}typeof document<"u"&&xH();function vN(){return Ad!=="pointer"}const kH=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);function NH(t,e,n){var r;const i=typeof window<"u"?Lo(n==null?void 0:n.target).HTMLInputElement:HTMLInputElement,s=typeof window<"u"?Lo(n==null?void 0:n.target).HTMLTextAreaElement:HTMLTextAreaElement,o=typeof window<"u"?Lo(n==null?void 0:n.target).HTMLElement:HTMLElement,a=typeof window<"u"?Lo(n==null?void 0:n.target).KeyboardEvent:KeyboardEvent;return t=t||(n==null?void 0:n.target)instanceof i&&!kH.has(n==null||(r=n.target)===null||r===void 0?void 0:r.type)||(n==null?void 0:n.target)instanceof s||(n==null?void 0:n.target)instanceof o&&(n==null?void 0:n.target.isContentEditable),!(t&&e==="keyboard"&&n instanceof a&&!bH[n.key])}function OH(t,e,n){q_(),I.useEffect(()=>{let r=(i,s)=>{NH(!!(n!=null&&n.isTextInput),i,s)&&t(vN())};return W_.add(r),()=>{W_.delete(r)}},e)}function DH(t){let{isDisabled:e,onBlurWithin:n,onFocusWithin:r,onFocusWithinChange:i}=t,s=I.useRef({isFocusWithin:!1}),o=I.useCallback(u=>{s.current.isFocusWithin&&!u.currentTarget.contains(u.relatedTarget)&&(s.current.isFocusWithin=!1,n&&n(u),i&&i(!1))},[n,i,s]),a=pN(o),l=I.useCallback(u=>{!s.current.isFocusWithin&&document.activeElement===u.target&&(r&&r(u),i&&i(!0),s.current.isFocusWithin=!0,a(u))},[r,i,a]);return e?{focusWithinProps:{onFocus:void 0,onBlur:void 0}}:{focusWithinProps:{onFocus:l,onBlur:o}}}let pp=!1,Hg=0;function K_(){pp=!0,setTimeout(()=>{pp=!1},50)}function PI(t){t.pointerType==="touch"&&K_()}function LH(){if(!(typeof document>"u"))return typeof PointerEvent<"u"?document.addEventListener("pointerup",PI):document.addEventListener("touchend",K_),Hg++,()=>{Hg--,!(Hg>0)&&(typeof PointerEvent<"u"?document.removeEventListener("pointerup",PI):document.removeEventListener("touchend",K_))}}function EN(t){let{onHoverStart:e,onHoverChange:n,onHoverEnd:r,isDisabled:i}=t,[s,o]=I.useState(!1),a=I.useRef({isHovered:!1,ignoreEmulatedMouseEvents:!1,pointerType:"",target:null}).current;I.useEffect(LH,[]);let{hoverProps:l,triggerHoverEnd:u}=I.useMemo(()=>{let d=(m,y)=>{if(a.pointerType=y,i||y==="touch"||a.isHovered||!m.currentTarget.contains(m.target))return;a.isHovered=!0;let E=m.currentTarget;a.target=E,e&&e({type:"hoverstart",target:E,pointerType:y}),n&&n(!0),o(!0)},h=(m,y)=>{if(a.pointerType="",a.target=null,y==="touch"||!a.isHovered)return;a.isHovered=!1;let E=m.currentTarget;r&&r({type:"hoverend",target:E,pointerType:y}),n&&n(!1),o(!1)},f={};return typeof PointerEvent<"u"?(f.onPointerEnter=m=>{pp&&m.pointerType==="mouse"||d(m,m.pointerType)},f.onPointerLeave=m=>{!i&&m.currentTarget.contains(m.target)&&h(m,m.pointerType)}):(f.onTouchStart=()=>{a.ignoreEmulatedMouseEvents=!0},f.onMouseEnter=m=>{!a.ignoreEmulatedMouseEvents&&!pp&&d(m,"mouse"),a.ignoreEmulatedMouseEvents=!1},f.onMouseLeave=m=>{!i&&m.currentTarget.contains(m.target)&&h(m,"mouse")}),{hoverProps:f,triggerHoverEnd:h}},[e,n,r,i,a]);return I.useEffect(()=>{i&&u({currentTarget:a.target},a.pointerType)},[i]),{hoverProps:l,isHovered:s}}function wN(t={}){let{autoFocus:e=!1,isTextInput:n,within:r}=t,i=I.useRef({isFocused:!1,isFocusVisible:e||vN()}),[s,o]=I.useState(!1),[a,l]=I.useState(()=>i.current.isFocused&&i.current.isFocusVisible),u=I.useCallback(()=>l(i.current.isFocused&&i.current.isFocusVisible),[]),d=I.useCallback(m=>{i.current.isFocused=m,o(m),u()},[u]);OH(m=>{i.current.isFocusVisible=m,u()},[],{isTextInput:n});let{focusProps:h}=AH({isDisabled:r,onFocusChange:d}),{focusWithinProps:f}=DH({isDisabled:!r,onFocusWithinChange:d});return{isFocused:s,isFocusVisible:a,focusProps:r?f:h}}var MH=Object.defineProperty,FH=(t,e,n)=>e in t?MH(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,qg=(t,e,n)=>(FH(t,typeof e!="symbol"?e+"":e,n),n);let VH=class{constructor(){qg(this,"current",this.detect()),qg(this,"handoffState","pending"),qg(this,"currentId",0)}set(e){this.current!==e&&(this.handoffState="pending",this.currentId=0,this.current=e)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}},zo=new VH;function va(t){return zo.isServer?null:t instanceof Node?t.ownerDocument:t!=null&&t.hasOwnProperty("current")&&t.current instanceof Node?t.current.ownerDocument:document}function TN(t){typeof queueMicrotask=="function"?queueMicrotask(t):Promise.resolve().then(t).catch(e=>setTimeout(()=>{throw e}))}function Ii(){let t=[],e={addEventListener(n,r,i,s){return n.addEventListener(r,i,s),e.add(()=>n.removeEventListener(r,i,s))},requestAnimationFrame(...n){let r=requestAnimationFrame(...n);return e.add(()=>cancelAnimationFrame(r))},nextFrame(...n){return e.requestAnimationFrame(()=>e.requestAnimationFrame(...n))},setTimeout(...n){let r=setTimeout(...n);return e.add(()=>clearTimeout(r))},microTask(...n){let r={current:!0};return TN(()=>{r.current&&n[0]()}),e.add(()=>{r.current=!1})},style(n,r,i){let s=n.style.getPropertyValue(r);return Object.assign(n.style,{[r]:i}),this.add(()=>{Object.assign(n.style,{[r]:s})})},group(n){let r=Ii();return n(r),this.add(()=>r.dispose())},add(n){return t.includes(n)||t.push(n),()=>{let r=t.indexOf(n);if(r>=0)for(let i of t.splice(r,1))i()}},dispose(){for(let n of t.splice(0))n()}};return e}function Rm(){let[t]=I.useState(Ii);return I.useEffect(()=>()=>t.dispose(),[t]),t}let qt=(t,e)=>{zo.isServer?I.useEffect(t,e):I.useLayoutEffect(t,e)};function bd(t){let e=I.useRef(t);return qt(()=>{e.current=t},[t]),e}let rt=function(t){let e=bd(t);return pe.useCallback((...n)=>e.current(...n),[e])};function UH(t){let e=t.width/2,n=t.height/2;return{top:t.clientY-n,right:t.clientX+e,bottom:t.clientY+n,left:t.clientX-e}}function jH(t,e){return!(!t||!e||t.right<e.left||t.left>e.right||t.bottom<e.top||t.top>e.bottom)}function SN({disabled:t=!1}={}){let e=I.useRef(null),[n,r]=I.useState(!1),i=Rm(),s=rt(()=>{e.current=null,r(!1),i.dispose()}),o=rt(a=>{if(i.dispose(),e.current===null){e.current=a.currentTarget,r(!0);{let l=va(a.currentTarget);i.addEventListener(l,"pointerup",s,!1),i.addEventListener(l,"pointermove",u=>{if(e.current){let d=UH(u);r(jH(d,e.current.getBoundingClientRect()))}},!1),i.addEventListener(l,"pointercancel",s,!1)}}});return{pressed:n,pressProps:t?{}:{onPointerDown:o,onPointerUp:s,onClick:s}}}let $H=I.createContext(void 0);function IN(){return I.useContext($H)}function xI(...t){return Array.from(new Set(t.flatMap(e=>typeof e=="string"?e.split(" "):[]))).filter(Boolean).join(" ")}function ho(t,e,...n){if(t in e){let i=e[t];return typeof i=="function"?i(...n):i}let r=new Error(`Tried to handle "${t}" but there is no handler defined. Only defined handlers are: ${Object.keys(e).map(i=>`"${i}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,ho),r}var Qc=(t=>(t[t.None=0]="None",t[t.RenderStrategy=1]="RenderStrategy",t[t.Static=2]="Static",t))(Qc||{}),BH=(t=>(t[t.Unmount=0]="Unmount",t[t.Hidden=1]="Hidden",t))(BH||{});function Kn({ourProps:t,theirProps:e,slot:n,defaultTag:r,features:i,visible:s=!0,name:o,mergeRefs:a}){a=a??zH;let l=CN(e,t);if(s)return Ah(l,n,r,o,a);let u=i??0;if(u&2){let{static:d=!1,...h}=l;if(d)return Ah(h,n,r,o,a)}if(u&1){let{unmount:d=!0,...h}=l;return ho(d?0:1,{0(){return null},1(){return Ah({...h,hidden:!0,style:{display:"none"}},n,r,o,a)}})}return Ah(l,n,r,o,a)}function Ah(t,e={},n,r,i){let{as:s=n,children:o,refName:a="ref",...l}=Kg(t,["unmount","static"]),u=t.ref!==void 0?{[a]:t.ref}:{},d=typeof o=="function"?o(e):o;"className"in l&&l.className&&typeof l.className=="function"&&(l.className=l.className(e)),l["aria-labelledby"]&&l["aria-labelledby"]===l.id&&(l["aria-labelledby"]=void 0);let h={};if(e){let f=!1,m=[];for(let[y,E]of Object.entries(e))typeof E=="boolean"&&(f=!0),E===!0&&m.push(y.replace(/([A-Z])/g,S=>`-${S.toLowerCase()}`));if(f){h["data-headlessui-state"]=m.join(" ");for(let y of m)h[`data-${y}`]=""}}if(s===I.Fragment&&(Object.keys(Da(l)).length>0||Object.keys(Da(h)).length>0))if(!I.isValidElement(d)||Array.isArray(d)&&d.length>1){if(Object.keys(Da(l)).length>0)throw new Error(['Passing props on "Fragment"!',"",`The current component <${r} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(Da(l)).concat(Object.keys(Da(h))).map(f=>`  - ${f}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(f=>`  - ${f}`).join(`
`)].join(`
`))}else{let f=d.props,m=f==null?void 0:f.className,y=typeof m=="function"?(...T)=>xI(m(...T),l.className):xI(m,l.className),E=y?{className:y}:{},S=CN(d.props,Da(Kg(l,["ref"])));for(let T in h)T in S&&delete h[T];return I.cloneElement(d,Object.assign({},S,h,u,{ref:i(d.ref,u.ref)},E))}return I.createElement(s,Object.assign({},Kg(l,["ref"]),s!==I.Fragment&&u,s!==I.Fragment&&h),d)}function VE(){let t=I.useRef([]),e=I.useCallback(n=>{for(let r of t.current)r!=null&&(typeof r=="function"?r(n):r.current=n)},[]);return(...n)=>{if(!n.every(r=>r==null))return t.current=n,e}}function zH(...t){return t.every(e=>e==null)?void 0:e=>{for(let n of t)n!=null&&(typeof n=="function"?n(e):n.current=e)}}function CN(...t){if(t.length===0)return{};if(t.length===1)return t[0];let e={},n={};for(let r of t)for(let i in r)i.startsWith("on")&&typeof r[i]=="function"?(n[i]!=null||(n[i]=[]),n[i].push(r[i])):e[i]=r[i];if(e.disabled||e["aria-disabled"])for(let r in n)/^(on(?:Click|Pointer|Mouse|Key)(?:Down|Up|Press)?)$/.test(r)&&(n[r]=[i=>{var s;return(s=i==null?void 0:i.preventDefault)==null?void 0:s.call(i)}]);for(let r in n)Object.assign(e,{[r](i,...s){let o=n[r];for(let a of o){if((i instanceof Event||(i==null?void 0:i.nativeEvent)instanceof Event)&&i.defaultPrevented)return;a(i,...s)}}});return e}function mp(...t){if(t.length===0)return{};if(t.length===1)return t[0];let e={},n={};for(let r of t)for(let i in r)i.startsWith("on")&&typeof r[i]=="function"?(n[i]!=null||(n[i]=[]),n[i].push(r[i])):e[i]=r[i];for(let r in n)Object.assign(e,{[r](...i){let s=n[r];for(let o of s)o==null||o(...i)}});return e}function Gn(t){var e;return Object.assign(I.forwardRef(t),{displayName:(e=t.displayName)!=null?e:t.name})}function Da(t){let e=Object.assign({},t);for(let n in e)e[n]===void 0&&delete e[n];return e}function Kg(t,e=[]){let n=Object.assign({},t);for(let r of e)r in n&&delete n[r];return n}let WH=I.createContext(void 0);function HH(){return I.useContext(WH)}function RN(t){let e=t.parentElement,n=null;for(;e&&!(e instanceof HTMLFieldSetElement);)e instanceof HTMLLegendElement&&(n=e),e=e.parentElement;let r=(e==null?void 0:e.getAttribute("disabled"))==="";return r&&qH(n)?!1:r}function qH(t){if(!t)return!1;let e=t.previousElementSibling;for(;e!==null;){if(e instanceof HTMLLegendElement)return!1;e=e.previousElementSibling}return!0}let AN=Symbol();function bN(t,e=!0){return Object.assign(t,{[AN]:e})}function Fr(...t){let e=I.useRef(t);I.useEffect(()=>{e.current=t},[t]);let n=rt(r=>{for(let i of e.current)i!=null&&(typeof i=="function"?i(r):i.current=r)});return t.every(r=>r==null||(r==null?void 0:r[AN]))?void 0:n}let UE=I.createContext(null);UE.displayName="DescriptionContext";function PN(){let t=I.useContext(UE);if(t===null){let e=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(e,PN),e}return t}function KH(){let[t,e]=I.useState([]);return[t.length>0?t.join(" "):void 0,I.useMemo(()=>function(n){let r=rt(s=>(e(o=>[...o,s]),()=>e(o=>{let a=o.slice(),l=a.indexOf(s);return l!==-1&&a.splice(l,1),a}))),i=I.useMemo(()=>({register:r,slot:n.slot,name:n.name,props:n.props,value:n.value}),[r,n.slot,n.name,n.props,n.value]);return pe.createElement(UE.Provider,{value:i},n.children)},[e])]}let GH="p";function QH(t,e){let n=I.useId(),r=IN(),{id:i=`headlessui-description-${n}`,...s}=t,o=PN(),a=Fr(e);qt(()=>o.register(i),[i,o.register]);let l=r||!1,u=I.useMemo(()=>({...o.slot,disabled:l}),[o.slot,l]),d={ref:a,...o.props,id:i};return Kn({ourProps:d,theirProps:s,slot:u,defaultTag:GH,name:o.name||"Description"})}let YH=Gn(QH);Object.assign(YH,{});var Dt=(t=>(t.Space=" ",t.Enter="Enter",t.Escape="Escape",t.Backspace="Backspace",t.Delete="Delete",t.ArrowLeft="ArrowLeft",t.ArrowUp="ArrowUp",t.ArrowRight="ArrowRight",t.ArrowDown="ArrowDown",t.Home="Home",t.End="End",t.PageUp="PageUp",t.PageDown="PageDown",t.Tab="Tab",t))(Dt||{});let Am=I.createContext(null);Am.displayName="LabelContext";function jE(){let t=I.useContext(Am);if(t===null){let e=new Error("You used a <Label /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(e,jE),e}return t}function XH(t){var e,n,r;let i=(n=(e=I.useContext(Am))==null?void 0:e.value)!=null?n:void 0;return((r=void 0)!=null?r:0)>0?[i,...t].filter(Boolean).join(" "):i}function xN({inherit:t=!1}={}){let e=XH(),[n,r]=I.useState([]),i=t?[e,...n].filter(Boolean):n;return[i.length>0?i.join(" "):void 0,I.useMemo(()=>function(s){let o=rt(l=>(r(u=>[...u,l]),()=>r(u=>{let d=u.slice(),h=d.indexOf(l);return h!==-1&&d.splice(h,1),d}))),a=I.useMemo(()=>({register:o,slot:s.slot,name:s.name,props:s.props,value:s.value}),[o,s.slot,s.name,s.props,s.value]);return pe.createElement(Am.Provider,{value:a},s.children)},[r])]}let JH="label";function ZH(t,e){var n;let r=I.useId(),i=jE(),s=HH(),o=IN(),{id:a=`headlessui-label-${r}`,htmlFor:l=s??((n=i.props)==null?void 0:n.htmlFor),passive:u=!1,...d}=t,h=Fr(e);qt(()=>i.register(a),[a,i.register]);let f=rt(S=>{let T=S.currentTarget;if(T instanceof HTMLLabelElement&&S.preventDefault(),i.props&&"onClick"in i.props&&typeof i.props.onClick=="function"&&i.props.onClick(S),T instanceof HTMLLabelElement){let _=document.getElementById(T.htmlFor);if(_){let w=_.getAttribute("disabled");if(w==="true"||w==="")return;let A=_.getAttribute("aria-disabled");if(A==="true"||A==="")return;(_ instanceof HTMLInputElement&&(_.type==="radio"||_.type==="checkbox")||_.role==="radio"||_.role==="checkbox"||_.role==="switch")&&_.click(),_.focus({preventScroll:!0})}}}),m=o||!1,y=I.useMemo(()=>({...i.slot,disabled:m}),[i.slot,m]),E={ref:h,...i.props,id:a,htmlFor:l,onClick:f};return u&&("onClick"in E&&(delete E.htmlFor,delete E.onClick),"onClick"in d&&delete d.onClick),Kn({ourProps:E,theirProps:d,slot:y,defaultTag:l?JH:"div",name:i.name||"Label"})}let e8=Gn(ZH);Object.assign(e8,{});let t8=I.createContext(()=>{});function n8({value:t,children:e}){return pe.createElement(t8.Provider,{value:t},e)}function r8(t){if(t===null)return{width:0,height:0};let{width:e,height:n}=t.getBoundingClientRect();return{width:e,height:n}}function i8(t,e=!1){let[n,r]=I.useReducer(()=>({}),{}),i=I.useMemo(()=>r8(t),[t,n]);return qt(()=>{if(!t)return;let s=new ResizeObserver(r);return s.observe(t),()=>{s.disconnect()}},[t]),e?{width:`${i.width}px`,height:`${i.height}px`}:i}let s8=class extends Map{constructor(e){super(),this.factory=e}get(e){let n=super.get(e);return n===void 0&&(n=this.factory(e),this.set(e,n)),n}};function kN(t,e){let n=t(),r=new Set;return{getSnapshot(){return n},subscribe(i){return r.add(i),()=>r.delete(i)},dispatch(i,...s){let o=e[i].call(n,...s);o&&(n=o,r.forEach(a=>a()))}}}function NN(t){return I.useSyncExternalStore(t.subscribe,t.getSnapshot,t.getSnapshot)}let o8=new s8(()=>kN(()=>[],{ADD(t){return this.includes(t)?this:[...this,t]},REMOVE(t){let e=this.indexOf(t);if(e===-1)return this;let n=this.slice();return n.splice(e,1),n}}));function $E(t,e){let n=o8.get(e),r=I.useId(),i=NN(n);if(qt(()=>{if(t)return n.dispatch("ADD",r),()=>n.dispatch("REMOVE",r)},[n,t]),!t)return!1;let s=i.indexOf(r),o=i.length;return s===-1&&(s=o,o+=1),s===o-1}let G_=new Map,fc=new Map;function kI(t){var e;let n=(e=fc.get(t))!=null?e:0;return fc.set(t,n+1),n!==0?()=>NI(t):(G_.set(t,{"aria-hidden":t.getAttribute("aria-hidden"),inert:t.inert}),t.setAttribute("aria-hidden","true"),t.inert=!0,()=>NI(t))}function NI(t){var e;let n=(e=fc.get(t))!=null?e:1;if(n===1?fc.delete(t):fc.set(t,n-1),n!==1)return;let r=G_.get(t);r&&(r["aria-hidden"]===null?t.removeAttribute("aria-hidden"):t.setAttribute("aria-hidden",r["aria-hidden"]),t.inert=r.inert,G_.delete(t))}function a8(t,{allowed:e,disallowed:n}={}){let r=$E(t,"inert-others");qt(()=>{var i,s;if(!r)return;let o=Ii();for(let l of(i=n==null?void 0:n())!=null?i:[])l&&o.add(kI(l));let a=(s=e==null?void 0:e())!=null?s:[];for(let l of a){if(!l)continue;let u=va(l);if(!u)continue;let d=l.parentElement;for(;d&&d!==u.body;){for(let h of d.children)a.some(f=>h.contains(f))||o.add(kI(h));d=d.parentElement}}return o.dispose},[r,e,n])}function l8(t,e,n){let r=bd(i=>{let s=i.getBoundingClientRect();s.x===0&&s.y===0&&s.width===0&&s.height===0&&n()});I.useEffect(()=>{if(!t)return;let i=e===null?null:e instanceof HTMLElement?e:e.current;if(!i)return;let s=Ii();if(typeof ResizeObserver<"u"){let o=new ResizeObserver(()=>r.current(i));o.observe(i),s.add(()=>o.disconnect())}if(typeof IntersectionObserver<"u"){let o=new IntersectionObserver(()=>r.current(i));o.observe(i),s.add(()=>o.disconnect())}return()=>s.dispose()},[e,r,t])}let Q_=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(t=>`${t}:not([tabindex='-1'])`).join(","),u8=["[data-autofocus]"].map(t=>`${t}:not([tabindex='-1'])`).join(",");var Y_=(t=>(t[t.First=1]="First",t[t.Previous=2]="Previous",t[t.Next=4]="Next",t[t.Last=8]="Last",t[t.WrapAround=16]="WrapAround",t[t.NoScroll=32]="NoScroll",t[t.AutoFocus=64]="AutoFocus",t))(Y_||{}),c8=(t=>(t[t.Error=0]="Error",t[t.Overflow=1]="Overflow",t[t.Success=2]="Success",t[t.Underflow=3]="Underflow",t))(c8||{}),d8=(t=>(t[t.Previous=-1]="Previous",t[t.Next=1]="Next",t))(d8||{});function ON(t=document.body){return t==null?[]:Array.from(t.querySelectorAll(Q_)).sort((e,n)=>Math.sign((e.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}function h8(t=document.body){return t==null?[]:Array.from(t.querySelectorAll(u8)).sort((e,n)=>Math.sign((e.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}var BE=(t=>(t[t.Strict=0]="Strict",t[t.Loose=1]="Loose",t))(BE||{});function zE(t,e=0){var n;return t===((n=va(t))==null?void 0:n.body)?!1:ho(e,{0(){return t.matches(Q_)},1(){let r=t;for(;r!==null;){if(r.matches(Q_))return!0;r=r.parentElement}return!1}})}function DN(t){let e=va(t);Ii().nextFrame(()=>{e&&!zE(e.activeElement,0)&&p8(t)})}var f8=(t=>(t[t.Keyboard=0]="Keyboard",t[t.Mouse=1]="Mouse",t))(f8||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",t=>{t.metaKey||t.altKey||t.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",t=>{t.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:t.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function p8(t){t==null||t.focus({preventScroll:!0})}let m8=["textarea","input"].join(",");function g8(t){var e,n;return(n=(e=t==null?void 0:t.matches)==null?void 0:e.call(t,m8))!=null?n:!1}function LN(t,e=n=>n){return t.slice().sort((n,r)=>{let i=e(n),s=e(r);if(i===null||s===null)return 0;let o=i.compareDocumentPosition(s);return o&Node.DOCUMENT_POSITION_FOLLOWING?-1:o&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function y8(t,e){return _8(ON(),e,{relativeTo:t})}function _8(t,e,{sorted:n=!0,relativeTo:r=null,skipElements:i=[]}={}){let s=Array.isArray(t)?t.length>0?t[0].ownerDocument:document:t.ownerDocument,o=Array.isArray(t)?n?LN(t):t:e&64?h8(t):ON(t);i.length>0&&o.length>1&&(o=o.filter(m=>!i.some(y=>y!=null&&"current"in y?(y==null?void 0:y.current)===m:y===m))),r=r??s.activeElement;let a=(()=>{if(e&5)return 1;if(e&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),l=(()=>{if(e&1)return 0;if(e&2)return Math.max(0,o.indexOf(r))-1;if(e&4)return Math.max(0,o.indexOf(r))+1;if(e&8)return o.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),u=e&32?{preventScroll:!0}:{},d=0,h=o.length,f;do{if(d>=h||d+h<=0)return 0;let m=l+d;if(e&16)m=(m+h)%h;else{if(m<0)return 3;if(m>=h)return 1}f=o[m],f==null||f.focus(u),d+=a}while(f!==s.activeElement);return e&6&&g8(f)&&f.select(),2}function MN(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function v8(){return/Android/gi.test(window.navigator.userAgent)}function E8(){return MN()||v8()}function Du(t,e,n,r){let i=bd(n);I.useEffect(()=>{if(!t)return;function s(o){i.current(o)}return document.addEventListener(e,s,r),()=>document.removeEventListener(e,s,r)},[t,e,r])}function w8(t,e,n,r){let i=bd(n);I.useEffect(()=>{if(!t)return;function s(o){i.current(o)}return window.addEventListener(e,s,r),()=>window.removeEventListener(e,s,r)},[t,e,r])}const OI=30;function T8(t,e,n){let r=$E(t,"outside-click"),i=bd(n),s=I.useCallback(function(l,u){if(l.defaultPrevented)return;let d=u(l);if(d===null||!d.getRootNode().contains(d)||!d.isConnected)return;let h=function f(m){return typeof m=="function"?f(m()):Array.isArray(m)||m instanceof Set?m:[m]}(e);for(let f of h)if(f!==null&&(f.contains(d)||l.composed&&l.composedPath().includes(f)))return;return!zE(d,BE.Loose)&&d.tabIndex!==-1&&l.preventDefault(),i.current(l,d)},[i,e]),o=I.useRef(null);Du(r,"pointerdown",l=>{var u,d;o.current=((d=(u=l.composedPath)==null?void 0:u.call(l))==null?void 0:d[0])||l.target},!0),Du(r,"mousedown",l=>{var u,d;o.current=((d=(u=l.composedPath)==null?void 0:u.call(l))==null?void 0:d[0])||l.target},!0),Du(r,"click",l=>{E8()||o.current&&(s(l,()=>o.current),o.current=null)},!0);let a=I.useRef({x:0,y:0});Du(r,"touchstart",l=>{a.current.x=l.touches[0].clientX,a.current.y=l.touches[0].clientY},!0),Du(r,"touchend",l=>{let u={x:l.changedTouches[0].clientX,y:l.changedTouches[0].clientY};if(!(Math.abs(u.x-a.current.x)>=OI||Math.abs(u.y-a.current.y)>=OI))return s(l,()=>l.target instanceof HTMLElement?l.target:null)},!0),w8(r,"blur",l=>s(l,()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null),!0)}function WE(...t){return I.useMemo(()=>va(...t),[...t])}function FN(t,e){return I.useMemo(()=>{var n;if(t.type)return t.type;let r=(n=t.as)!=null?n:"button";if(typeof r=="string"&&r.toLowerCase()==="button"||(e==null?void 0:e.tagName)==="BUTTON"&&!e.hasAttribute("type"))return"button"},[t.type,t.as,e])}function S8(){let t;return{before({doc:e}){var n;let r=e.documentElement,i=(n=e.defaultView)!=null?n:window;t=Math.max(0,i.innerWidth-r.clientWidth)},after({doc:e,d:n}){let r=e.documentElement,i=Math.max(0,r.clientWidth-r.offsetWidth),s=Math.max(0,t-i);n.style(r,"paddingRight",`${s}px`)}}}function I8(){return MN()?{before({doc:t,d:e,meta:n}){function r(i){return n.containers.flatMap(s=>s()).some(s=>s.contains(i))}e.microTask(()=>{var i;if(window.getComputedStyle(t.documentElement).scrollBehavior!=="auto"){let a=Ii();a.style(t.documentElement,"scrollBehavior","auto"),e.add(()=>e.microTask(()=>a.dispose()))}let s=(i=window.scrollY)!=null?i:window.pageYOffset,o=null;e.addEventListener(t,"click",a=>{if(a.target instanceof HTMLElement)try{let l=a.target.closest("a");if(!l)return;let{hash:u}=new URL(l.href),d=t.querySelector(u);d&&!r(d)&&(o=d)}catch{}},!0),e.addEventListener(t,"touchstart",a=>{if(a.target instanceof HTMLElement)if(r(a.target)){let l=a.target;for(;l.parentElement&&r(l.parentElement);)l=l.parentElement;e.style(l,"overscrollBehavior","contain")}else e.style(a.target,"touchAction","none")}),e.addEventListener(t,"touchmove",a=>{if(a.target instanceof HTMLElement){if(a.target.tagName==="INPUT")return;if(r(a.target)){let l=a.target;for(;l.parentElement&&l.dataset.headlessuiPortal!==""&&!(l.scrollHeight>l.clientHeight||l.scrollWidth>l.clientWidth);)l=l.parentElement;l.dataset.headlessuiPortal===""&&a.preventDefault()}else a.preventDefault()}},{passive:!1}),e.add(()=>{var a;let l=(a=window.scrollY)!=null?a:window.pageYOffset;s!==l&&window.scrollTo(0,s),o&&o.isConnected&&(o.scrollIntoView({block:"nearest"}),o=null)})})}}:{}}function C8(){return{before({doc:t,d:e}){e.style(t.documentElement,"overflow","hidden")}}}function R8(t){let e={};for(let n of t)Object.assign(e,n(e));return e}let Mo=kN(()=>new Map,{PUSH(t,e){var n;let r=(n=this.get(t))!=null?n:{doc:t,count:0,d:Ii(),meta:new Set};return r.count++,r.meta.add(e),this.set(t,r),this},POP(t,e){let n=this.get(t);return n&&(n.count--,n.meta.delete(e)),this},SCROLL_PREVENT({doc:t,d:e,meta:n}){let r={doc:t,d:e,meta:R8(n)},i=[I8(),S8(),C8()];i.forEach(({before:s})=>s==null?void 0:s(r)),i.forEach(({after:s})=>s==null?void 0:s(r))},SCROLL_ALLOW({d:t}){t.dispose()},TEARDOWN({doc:t}){this.delete(t)}});Mo.subscribe(()=>{let t=Mo.getSnapshot(),e=new Map;for(let[n]of t)e.set(n,n.documentElement.style.overflow);for(let n of t.values()){let r=e.get(n.doc)==="hidden",i=n.count!==0;(i&&!r||!i&&r)&&Mo.dispatch(n.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",n),n.count===0&&Mo.dispatch("TEARDOWN",n)}});function A8(t,e,n=()=>({containers:[]})){let r=NN(Mo),i=e?r.get(e):void 0,s=i?i.count>0:!1;return qt(()=>{if(!(!e||!t))return Mo.dispatch("PUSH",e,n),()=>Mo.dispatch("POP",e,n)},[t,e]),s}function b8(t,e,n=()=>[document.body]){let r=$E(t,"scroll-lock");A8(r,e,i=>{var s;return{containers:[...(s=i.containers)!=null?s:[],n]}})}function DI(t){return[t.screenX,t.screenY]}function P8(){let t=I.useRef([-1,-1]);return{wasMoved(e){let n=DI(e);return t.current[0]===n[0]&&t.current[1]===n[1]?!1:(t.current=n,!0)},update(e){t.current=DI(e)}}}function x8(t=0){let[e,n]=I.useState(t),r=I.useCallback(l=>n(l),[e]),i=I.useCallback(l=>n(u=>u|l),[e]),s=I.useCallback(l=>(e&l)===l,[e]),o=I.useCallback(l=>n(u=>u&~l),[n]),a=I.useCallback(l=>n(u=>u^l),[n]);return{flags:e,setFlag:r,addFlag:i,hasFlag:s,removeFlag:o,toggleFlag:a}}var k8={ACSetupSvcPort:"23210",ACSvcPort:"17532",ALLUSERSPROFILE:"C:\\ProgramData",APPDATA:"C:\\Users\\rohit\\AppData\\Roaming",ChocolateyInstall:"C:\\ProgramData\\chocolatey",ChocolateyLastPathUpdate:"133680928985731693",CHROME_CRASHPAD_PIPE_NAME:"\\\\.\\pipe\\crashpad_15764_XLUKQMRNJWJZGKBQ",COLOR:"1",COLORTERM:"truecolor",CommonProgramFiles:"C:\\Program Files\\Common Files","CommonProgramFiles(x86)":"C:\\Program Files (x86)\\Common Files",CommonProgramW6432:"C:\\Program Files\\Common Files",COMPUTERNAME:"TUFROHITSK",ComSpec:"C:\\WINDOWS\\system32\\cmd.exe",DriverData:"C:\\Windows\\System32\\Drivers\\DriverData",EDITOR:"C:\\WINDOWS\\notepad.exe",EFC_2332:"1",EnableLog:"INFO",FPS_BROWSER_APP_PROFILE_STRING:"Internet Explorer",FPS_BROWSER_USER_PROFILE_STRING:"Default",GIT_ASKPASS:"c:\\Users\\rohit\\AppData\\Local\\Programs\\Microsoft VS Code\\resources\\app\\extensions\\git\\dist\\askpass.sh",HOME:"C:\\Users\\rohit",HOMEDRIVE:"C:",HOMEPATH:"\\Users\\rohit",IGCCSVC_DB:"AQAAANCMnd8BFdERjHoAwE/Cl+sBAAAA8wJOQfAG70WeC5dZTQk+jwQAAAACAAAAAAAQZgAAAAEAACAAAAD+pZU1HxwMgfw40BK8MODsq+yVvf54PowKY1rCIhr01AAAAAAOgAAAAAIAACAAAAA44UbQ0yo6z9Ee39dbWBIz/YwZH+CKAKOjMB/jDRacAWAAAADXIksOvOhJMZ9uP1J+uBb5ArDXW47RFJlxAjgx58K+q7IO/X5XIaIzDvpRJyTiR2ipEFDKHU18WFtAFtq1GLpwuVxzsZ1fG4YVe09qQaLgXNmyO0k3wnBUx41luY1jEMFAAAAA6bU91r8RA438g+c3NMbgtV9LaOZtm4KxRsJFDGS5++JoMDUc1rcFe0p+CKi/uTYKqBVqRV/2vuaDcrAcakSLgA==",INIT_CWD:"R:\\Proj-Sell\\frontend",LANG:"en_US.UTF-8",LOCALAPPDATA:"C:\\Users\\rohit\\AppData\\Local",LOGONSERVER:"\\\\TUFROHITSK",NODE:"C:\\Program Files\\nodejs\\node.exe",NODE_ENV:"production",NODE_EXE:"C:\\Program Files\\nodejs\\\\node.exe",NPM_CLI_JS:"C:\\Program Files\\nodejs\\\\node_modules\\npm\\bin\\npm-cli.js",npm_command:"run-script",npm_config_cache:"C:\\Users\\rohit\\AppData\\Local\\npm-cache",npm_config_globalconfig:"C:\\Users\\rohit\\AppData\\Roaming\\npm\\etc\\npmrc",npm_config_global_prefix:"C:\\Users\\rohit\\AppData\\Roaming\\npm",npm_config_init_module:"C:\\Users\\rohit\\.npm-init.js",npm_config_local_prefix:"R:\\Proj-Sell\\frontend",npm_config_node_gyp:"C:\\Program Files\\nodejs\\node_modules\\npm\\node_modules\\node-gyp\\bin\\node-gyp.js",npm_config_noproxy:"",npm_config_npm_version:"10.8.1",npm_config_prefix:"C:\\Users\\rohit\\AppData\\Roaming\\npm",npm_config_userconfig:"C:\\Users\\rohit\\.npmrc",npm_config_user_agent:"npm/10.8.1 node/v20.16.0 win32 x64 workspaces/false",npm_execpath:"C:\\Program Files\\nodejs\\node_modules\\npm\\bin\\npm-cli.js",npm_lifecycle_event:"build",npm_lifecycle_script:"vite build",npm_node_execpath:"C:\\Program Files\\nodejs\\node.exe",npm_package_json:"R:\\Proj-Sell\\frontend\\package.json",npm_package_name:"frontend",npm_package_version:"0.0.0",NPM_PREFIX_JS:"C:\\Program Files\\nodejs\\\\node_modules\\npm\\bin\\npm-prefix.js",NPM_PREFIX_NPM_CLI_JS:"C:\\Users\\rohit\\AppData\\Roaming\\npm\\node_modules\\npm\\bin\\npm-cli.js",NUMBER_OF_PROCESSORS:"16",OneDrive:"C:\\Users\\rohit\\OneDrive",ORIGINAL_XDG_CURRENT_DESKTOP:"undefined",OS:"Windows_NT",Path:"R:\\Proj-Sell\\frontend\\node_modules\\.bin;R:\\Proj-Sell\\node_modules\\.bin;R:\\node_modules\\.bin;C:\\Program Files\\nodejs\\node_modules\\npm\\node_modules\\@npmcli\\run-script\\lib\\node-gyp-bin;R:\\Proj-Sell\\frontend\\node_modules\\.bin;R:\\Proj-Sell\\node_modules\\.bin;R:\\node_modules\\.bin;C:\\Program Files\\nodejs\\node_modules\\npm\\node_modules\\@npmcli\\run-script\\lib\\node-gyp-bin;C:\\Program Files\\Common Files\\Oracle\\Java\\javapath;C:\\Python312\\Scripts\\;C:\\Python312\\;C:\\Windows\\system32;C:\\Windows;C:\\Windows\\System32\\Wbem;C:\\Windows\\System32\\WindowsPowerShell\\v1.0\\;C:\\Windows\\System32\\OpenSSH\\;C:\\Program Files (x86)\\NVIDIA Corporation\\PhysX\\Common;C:\\Program Files\\NVIDIA Corporation\\NVIDIA NvDLISR;C:\\WINDOWS\\system32;C:\\WINDOWS;C:\\WINDOWS\\System32\\Wbem;C:\\WINDOWS\\System32\\WindowsPowerShell\\v1.0\\;C:\\WINDOWS\\System32\\OpenSSH\\;C:\\Program Files\\Git\\cmd;C:\\Program Files\\nodejs\\;C:\\ProgramData\\chocolatey\\bin;C:\\Program Files\\dotnet\\;C:\\Users\\rohit\\AppData\\Local\\Microsoft\\WindowsApps;C:\\Users\\rohit\\AppData\\Local\\Programs\\Microsoft VS Code\\bin;C:\\Users\\rohit\\AppData\\Local\\Microsoft\\WinGet\\Packages\\Schniz.fnm_Microsoft.Winget.Source_8wekyb3d8bbwe;C:\\Users\\rohit\\AppData\\Roaming\\npm;C:\\Users\\rohit\\AppData\\Local\\Programs\\mongosh\\;C:\\Users\\rohit\\AppData\\Local\\GitHubDesktop\\bin",PATHEXT:".COM;.EXE;.BAT;.CMD;.VBS;.VBE;.JS;.JSE;.WSF;.WSH;.MSC;.PY;.PYW;.CPL",PROCESSOR_ARCHITECTURE:"AMD64",PROCESSOR_IDENTIFIER:"Intel64 Family 6 Model 154 Stepping 3, GenuineIntel",PROCESSOR_LEVEL:"6",PROCESSOR_REVISION:"9a03",ProgramData:"C:\\ProgramData",ProgramFiles:"C:\\Program Files","ProgramFiles(x86)":"C:\\Program Files (x86)",ProgramW6432:"C:\\Program Files",PROMPT:"$P$G",PSModulePath:"C:\\Users\\rohit\\Documents\\WindowsPowerShell\\Modules;C:\\Program Files\\WindowsPowerShell\\Modules;C:\\WINDOWS\\system32\\WindowsPowerShell\\v1.0\\Modules",PUBLIC:"C:\\Users\\Public",RlsSvcPort:"22112",SESSIONNAME:"Console",SystemDrive:"C:",SystemRoot:"C:\\WINDOWS",TEMP:"C:\\Users\\rohit\\AppData\\Local\\Temp",TERM_PROGRAM:"vscode",TERM_PROGRAM_VERSION:"1.94.0",TMP:"C:\\Users\\rohit\\AppData\\Local\\Temp",USERDOMAIN:"TUFROHITSK",USERDOMAIN_ROAMINGPROFILE:"TUFROHITSK",USERNAME:"rohit",USERPROFILE:"C:\\Users\\rohit",VSCODE_GIT_ASKPASS_EXTRA_ARGS:"",VSCODE_GIT_ASKPASS_MAIN:"c:\\Users\\rohit\\AppData\\Local\\Programs\\Microsoft VS Code\\resources\\app\\extensions\\git\\dist\\askpass-main.js",VSCODE_GIT_ASKPASS_NODE:"C:\\Users\\rohit\\AppData\\Local\\Programs\\Microsoft VS Code\\Code.exe",VSCODE_GIT_IPC_HANDLE:"\\\\.\\pipe\\vscode-git-b179010c8b-sock",VSCODE_INJECTION:"1",VSCODE_NONCE:"7a3f350c-0ba9-4cc5-b4f1-3ebf9f75ba16",VSCODE_STABLE:"1",windir:"C:\\WINDOWS",ZES_ENABLE_SYSMAN:"1"},LI,MI;typeof process<"u"&&typeof globalThis<"u"&&typeof Element<"u"&&((LI=process==null?void 0:k8)==null?void 0:LI.NODE_ENV)==="test"&&typeof((MI=Element==null?void 0:Element.prototype)==null?void 0:MI.getAnimations)>"u"&&(Element.prototype.getAnimations=function(){return console.warn(["Headless UI has polyfilled `Element.prototype.getAnimations` for your tests.","Please install a proper polyfill e.g. `jsdom-testing-mocks`, to silence these warnings.","","Example usage:","```js","import { mockAnimationsApi } from 'jsdom-testing-mocks'","mockAnimationsApi()","```"].join(`
`)),[]});var N8=(t=>(t[t.None=0]="None",t[t.Closed=1]="Closed",t[t.Enter=2]="Enter",t[t.Leave=4]="Leave",t))(N8||{});function VN(t){let e={};for(let n in t)t[n]===!0&&(e[`data-${n}`]="");return e}function UN(t,e,n,r){let[i,s]=I.useState(n),{hasFlag:o,addFlag:a,removeFlag:l}=x8(t&&i?3:0),u=I.useRef(!1),d=I.useRef(!1),h=Rm();return qt(()=>{var f;if(t){if(n&&s(!0),!e){n&&a(3);return}return(f=void 0)==null||f.call(r,n),O8(e,{inFlight:u,prepare(){d.current?d.current=!1:d.current=u.current,u.current=!0,!d.current&&(n?(a(3),l(4)):(a(4),l(2)))},run(){d.current?n?(l(3),a(4)):(l(4),a(3)):n?l(1):a(1)},done(){var m;d.current&&typeof e.getAnimations=="function"&&e.getAnimations().length>0||(u.current=!1,l(7),n||s(!1),(m=void 0)==null||m.call(r,n))}})}},[t,n,e,h]),t?[i,{closed:o(1),enter:o(2),leave:o(4),transition:o(2)||o(4)}]:[n,{closed:void 0,enter:void 0,leave:void 0,transition:void 0}]}function O8(t,{prepare:e,run:n,done:r,inFlight:i}){let s=Ii();return L8(t,{prepare:e,inFlight:i}),s.nextFrame(()=>{n(),s.requestAnimationFrame(()=>{s.add(D8(t,r))})}),s.dispose}function D8(t,e){var n,r;let i=Ii();if(!t)return i.dispose;let s=!1;i.add(()=>{s=!0});let o=(r=(n=t.getAnimations)==null?void 0:n.call(t).filter(a=>a instanceof CSSTransition))!=null?r:[];return o.length===0?(e(),i.dispose):(Promise.allSettled(o.map(a=>a.finished)).then(()=>{s||e()}),i.dispose)}function L8(t,{inFlight:e,prepare:n}){if(e!=null&&e.current){n();return}let r=t.style.transition;t.style.transition="none",n(),t.offsetHeight,t.style.transition=r}function M8(t,{container:e,accept:n,walk:r}){let i=I.useRef(n),s=I.useRef(r);I.useEffect(()=>{i.current=n,s.current=r},[n,r]),qt(()=>{if(!e||!t)return;let o=va(e);if(!o)return;let a=i.current,l=s.current,u=Object.assign(h=>a(h),{acceptNode:a}),d=o.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,u,!1);for(;d.nextNode();)l(d.currentNode)},[e,t,i,s])}function bm(){return typeof window<"u"}function nu(t){return jN(t)?(t.nodeName||"").toLowerCase():"#document"}function vr(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Ci(t){var e;return(e=(jN(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function jN(t){return bm()?t instanceof Node||t instanceof vr(t).Node:!1}function zn(t){return bm()?t instanceof Element||t instanceof vr(t).Element:!1}function Ti(t){return bm()?t instanceof HTMLElement||t instanceof vr(t).HTMLElement:!1}function FI(t){return!bm()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof vr(t).ShadowRoot}function Pd(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=ri(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(i)}function F8(t){return["table","td","th"].includes(nu(t))}function Pm(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function HE(t){const e=qE(),n=zn(t)?ri(t):t;return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function V8(t){let e=Ys(t);for(;Ti(e)&&!Ml(e);){if(HE(e))return e;if(Pm(e))return null;e=Ys(e)}return null}function qE(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Ml(t){return["html","body","#document"].includes(nu(t))}function ri(t){return vr(t).getComputedStyle(t)}function xm(t){return zn(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Ys(t){if(nu(t)==="html")return t;const e=t.assignedSlot||t.parentNode||FI(t)&&t.host||Ci(t);return FI(e)?e.host:e}function $N(t){const e=Ys(t);return Ml(e)?t.ownerDocument?t.ownerDocument.body:t.body:Ti(e)&&Pd(e)?e:$N(e)}function Yc(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=$N(t),s=i===((r=t.ownerDocument)==null?void 0:r.body),o=vr(i);if(s){const a=X_(o);return e.concat(o,o.visualViewport||[],Pd(i)?i:[],a&&n?Yc(a):[])}return e.concat(i,Yc(i,[],n))}function X_(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function U8(){const t=navigator.userAgentData;return t&&Array.isArray(t.brands)?t.brands.map(e=>{let{brand:n,version:r}=e;return n+"/"+r}).join(" "):navigator.userAgent}const Fl=Math.min,Pn=Math.max,Xc=Math.round,bh=Math.floor,Xs=t=>({x:t,y:t}),j8={left:"right",right:"left",bottom:"top",top:"bottom"},$8={start:"end",end:"start"};function VI(t,e,n){return Pn(t,Fl(e,n))}function ru(t,e){return typeof t=="function"?t(e):t}function Js(t){return t.split("-")[0]}function xd(t){return t.split("-")[1]}function BN(t){return t==="x"?"y":"x"}function zN(t){return t==="y"?"height":"width"}function ua(t){return["top","bottom"].includes(Js(t))?"y":"x"}function WN(t){return BN(ua(t))}function B8(t,e,n){n===void 0&&(n=!1);const r=xd(t),i=WN(t),s=zN(i);let o=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(o=gp(o)),[o,gp(o)]}function z8(t){const e=gp(t);return[J_(t),e,J_(e)]}function J_(t){return t.replace(/start|end/g,e=>$8[e])}function W8(t,e,n){const r=["left","right"],i=["right","left"],s=["top","bottom"],o=["bottom","top"];switch(t){case"top":case"bottom":return n?e?i:r:e?r:i;case"left":case"right":return e?s:o;default:return[]}}function H8(t,e,n,r){const i=xd(t);let s=W8(Js(t),n==="start",r);return i&&(s=s.map(o=>o+"-"+i),e&&(s=s.concat(s.map(J_)))),s}function gp(t){return t.replace(/left|right|bottom|top/g,e=>j8[e])}function q8(t){return{top:0,right:0,bottom:0,left:0,...t}}function K8(t){return typeof t!="number"?q8(t):{top:t,right:t,bottom:t,left:t}}function yp(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}function UI(t,e,n){let{reference:r,floating:i}=t;const s=ua(e),o=WN(e),a=zN(o),l=Js(e),u=s==="y",d=r.x+r.width/2-i.width/2,h=r.y+r.height/2-i.height/2,f=r[a]/2-i[a]/2;let m;switch(l){case"top":m={x:d,y:r.y-i.height};break;case"bottom":m={x:d,y:r.y+r.height};break;case"right":m={x:r.x+r.width,y:h};break;case"left":m={x:r.x-i.width,y:h};break;default:m={x:r.x,y:r.y}}switch(xd(e)){case"start":m[o]-=f*(n&&u?-1:1);break;case"end":m[o]+=f*(n&&u?-1:1);break}return m}const G8=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:o}=n,a=s.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let u=await o.getElementRects({reference:t,floating:e,strategy:i}),{x:d,y:h}=UI(u,r,l),f=r,m={},y=0;for(let E=0;E<a.length;E++){const{name:S,fn:T}=a[E],{x:_,y:w,data:A,reset:O}=await T({x:d,y:h,initialPlacement:r,placement:f,strategy:i,middlewareData:m,rects:u,platform:o,elements:{reference:t,floating:e}});d=_??d,h=w??h,m={...m,[S]:{...m[S],...A}},O&&y<=50&&(y++,typeof O=="object"&&(O.placement&&(f=O.placement),O.rects&&(u=O.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:i}):O.rects),{x:d,y:h}=UI(u,f,l)),E=-1)}return{x:d,y:h,placement:f,strategy:i,middlewareData:m}};async function km(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:s,rects:o,elements:a,strategy:l}=t,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:h="floating",altBoundary:f=!1,padding:m=0}=ru(e,t),y=K8(m),S=a[f?h==="floating"?"reference":"floating":h],T=yp(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(S)))==null||n?S:S.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(a.floating)),boundary:u,rootBoundary:d,strategy:l})),_=h==="floating"?{x:r,y:i,width:o.floating.width,height:o.floating.height}:o.reference,w=await(s.getOffsetParent==null?void 0:s.getOffsetParent(a.floating)),A=await(s.isElement==null?void 0:s.isElement(w))?await(s.getScale==null?void 0:s.getScale(w))||{x:1,y:1}:{x:1,y:1},O=yp(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:_,offsetParent:w,strategy:l}):_);return{top:(T.top-O.top+y.top)/A.y,bottom:(O.bottom-T.bottom+y.bottom)/A.y,left:(T.left-O.left+y.left)/A.x,right:(O.right-T.right+y.right)/A.x}}const Q8=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:i,middlewareData:s,rects:o,initialPlacement:a,platform:l,elements:u}=e,{mainAxis:d=!0,crossAxis:h=!0,fallbackPlacements:f,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:y="none",flipAlignment:E=!0,...S}=ru(t,e);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const T=Js(i),_=ua(a),w=Js(a)===a,A=await(l.isRTL==null?void 0:l.isRTL(u.floating)),O=f||(w||!E?[gp(a)]:z8(a)),F=y!=="none";!f&&F&&O.push(...H8(a,E,y,A));const R=[a,...O],g=await km(e,S),C=[];let b=((r=s.flip)==null?void 0:r.overflows)||[];if(d&&C.push(g[T]),h){const re=B8(i,o,A);C.push(g[re[0]],g[re[1]])}if(b=[...b,{placement:i,overflows:C}],!C.every(re=>re<=0)){var k,N;const re=(((k=s.flip)==null?void 0:k.index)||0)+1,Ae=R[re];if(Ae)return{data:{index:re,overflows:b},reset:{placement:Ae}};let Ce=(N=b.filter(te=>te.overflows[0]<=0).sort((te,H)=>te.overflows[1]-H.overflows[1])[0])==null?void 0:N.placement;if(!Ce)switch(m){case"bestFit":{var x;const te=(x=b.filter(H=>{if(F){const Q=ua(H.placement);return Q===_||Q==="y"}return!0}).map(H=>[H.placement,H.overflows.filter(Q=>Q>0).reduce((Q,ie)=>Q+ie,0)]).sort((H,Q)=>H[1]-Q[1])[0])==null?void 0:x[0];te&&(Ce=te);break}case"initialPlacement":Ce=a;break}if(i!==Ce)return{reset:{placement:Ce}}}return{}}}};async function Y8(t,e){const{placement:n,platform:r,elements:i}=t,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),o=Js(n),a=xd(n),l=ua(n)==="y",u=["left","top"].includes(o)?-1:1,d=s&&l?-1:1,h=ru(e,t);let{mainAxis:f,crossAxis:m,alignmentAxis:y}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return a&&typeof y=="number"&&(m=a==="end"?y*-1:y),l?{x:m*d,y:f*u}:{x:f*u,y:m*d}}const X8=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:i,y:s,placement:o,middlewareData:a}=e,l=await Y8(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:i+l.x,y:s+l.y,data:{...l,placement:o}}}}},J8=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:i}=e,{mainAxis:s=!0,crossAxis:o=!1,limiter:a={fn:S=>{let{x:T,y:_}=S;return{x:T,y:_}}},...l}=ru(t,e),u={x:n,y:r},d=await km(e,l),h=ua(Js(i)),f=BN(h);let m=u[f],y=u[h];if(s){const S=f==="y"?"top":"left",T=f==="y"?"bottom":"right",_=m+d[S],w=m-d[T];m=VI(_,m,w)}if(o){const S=h==="y"?"top":"left",T=h==="y"?"bottom":"right",_=y+d[S],w=y-d[T];y=VI(_,y,w)}const E=a.fn({...e,[f]:m,[h]:y});return{...E,data:{x:E.x-n,y:E.y-r,enabled:{[f]:s,[h]:o}}}}}},Z8=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:i,rects:s,platform:o,elements:a}=e,{apply:l=()=>{},...u}=ru(t,e),d=await km(e,u),h=Js(i),f=xd(i),m=ua(i)==="y",{width:y,height:E}=s.floating;let S,T;h==="top"||h==="bottom"?(S=h,T=f===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(T=h,S=f==="end"?"top":"bottom");const _=E-d.top-d.bottom,w=y-d.left-d.right,A=Fl(E-d[S],_),O=Fl(y-d[T],w),F=!e.middlewareData.shift;let R=A,g=O;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(g=w),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(R=_),F&&!f){const b=Pn(d.left,0),k=Pn(d.right,0),N=Pn(d.top,0),x=Pn(d.bottom,0);m?g=y-2*(b!==0||k!==0?b+k:Pn(d.left,d.right)):R=E-2*(N!==0||x!==0?N+x:Pn(d.top,d.bottom))}await l({...e,availableWidth:g,availableHeight:R});const C=await o.getDimensions(a.floating);return y!==C.width||E!==C.height?{reset:{rects:!0}}:{}}}};function HN(t){const e=ri(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=Ti(t),s=i?t.offsetWidth:n,o=i?t.offsetHeight:r,a=Xc(n)!==s||Xc(r)!==o;return a&&(n=s,r=o),{width:n,height:r,$:a}}function KE(t){return zn(t)?t:t.contextElement}function pl(t){const e=KE(t);if(!Ti(e))return Xs(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:s}=HN(e);let o=(s?Xc(n.width):n.width)/r,a=(s?Xc(n.height):n.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const e7=Xs(0);function qN(t){const e=vr(t);return!qE()||!e.visualViewport?e7:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function t7(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==vr(t)?!1:e}function ca(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),s=KE(t);let o=Xs(1);e&&(r?zn(r)&&(o=pl(r)):o=pl(t));const a=t7(s,n,r)?qN(s):Xs(0);let l=(i.left+a.x)/o.x,u=(i.top+a.y)/o.y,d=i.width/o.x,h=i.height/o.y;if(s){const f=vr(s),m=r&&zn(r)?vr(r):r;let y=f,E=X_(y);for(;E&&r&&m!==y;){const S=pl(E),T=E.getBoundingClientRect(),_=ri(E),w=T.left+(E.clientLeft+parseFloat(_.paddingLeft))*S.x,A=T.top+(E.clientTop+parseFloat(_.paddingTop))*S.y;l*=S.x,u*=S.y,d*=S.x,h*=S.y,l+=w,u+=A,y=vr(E),E=X_(y)}}return yp({width:d,height:h,x:l,y:u})}function n7(t){let{elements:e,rect:n,offsetParent:r,strategy:i}=t;const s=i==="fixed",o=Ci(r),a=e?Pm(e.floating):!1;if(r===o||a&&s)return n;let l={scrollLeft:0,scrollTop:0},u=Xs(1);const d=Xs(0),h=Ti(r);if((h||!h&&!s)&&((nu(r)!=="body"||Pd(o))&&(l=xm(r)),Ti(r))){const f=ca(r);u=pl(r),d.x=f.x+r.clientLeft,d.y=f.y+r.clientTop}return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-l.scrollLeft*u.x+d.x,y:n.y*u.y-l.scrollTop*u.y+d.y}}function r7(t){return Array.from(t.getClientRects())}function Z_(t,e){const n=xm(t).scrollLeft;return e?e.left+n:ca(Ci(t)).left+n}function i7(t){const e=Ci(t),n=xm(t),r=t.ownerDocument.body,i=Pn(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),s=Pn(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+Z_(t);const a=-n.scrollTop;return ri(r).direction==="rtl"&&(o+=Pn(e.clientWidth,r.clientWidth)-i),{width:i,height:s,x:o,y:a}}function s7(t,e){const n=vr(t),r=Ci(t),i=n.visualViewport;let s=r.clientWidth,o=r.clientHeight,a=0,l=0;if(i){s=i.width,o=i.height;const u=qE();(!u||u&&e==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:s,height:o,x:a,y:l}}function o7(t,e){const n=ca(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,s=Ti(t)?pl(t):Xs(1),o=t.clientWidth*s.x,a=t.clientHeight*s.y,l=i*s.x,u=r*s.y;return{width:o,height:a,x:l,y:u}}function jI(t,e,n){let r;if(e==="viewport")r=s7(t,n);else if(e==="document")r=i7(Ci(t));else if(zn(e))r=o7(e,n);else{const i=qN(t);r={...e,x:e.x-i.x,y:e.y-i.y}}return yp(r)}function KN(t,e){const n=Ys(t);return n===e||!zn(n)||Ml(n)?!1:ri(n).position==="fixed"||KN(n,e)}function a7(t,e){const n=e.get(t);if(n)return n;let r=Yc(t,[],!1).filter(a=>zn(a)&&nu(a)!=="body"),i=null;const s=ri(t).position==="fixed";let o=s?Ys(t):t;for(;zn(o)&&!Ml(o);){const a=ri(o),l=HE(o);!l&&a.position==="fixed"&&(i=null),(s?!l&&!i:!l&&a.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||Pd(o)&&!l&&KN(t,o))?r=r.filter(d=>d!==o):i=a,o=Ys(o)}return e.set(t,r),r}function l7(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const o=[...n==="clippingAncestors"?Pm(e)?[]:a7(e,this._c):[].concat(n),r],a=o[0],l=o.reduce((u,d)=>{const h=jI(e,d,i);return u.top=Pn(h.top,u.top),u.right=Fl(h.right,u.right),u.bottom=Fl(h.bottom,u.bottom),u.left=Pn(h.left,u.left),u},jI(e,a,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function u7(t){const{width:e,height:n}=HN(t);return{width:e,height:n}}function c7(t,e,n){const r=Ti(e),i=Ci(e),s=n==="fixed",o=ca(t,!0,s,e);let a={scrollLeft:0,scrollTop:0};const l=Xs(0);if(r||!r&&!s)if((nu(e)!=="body"||Pd(i))&&(a=xm(e)),r){const m=ca(e,!0,s,e);l.x=m.x+e.clientLeft,l.y=m.y+e.clientTop}else i&&(l.x=Z_(i));let u=0,d=0;if(i&&!r&&!s){const m=i.getBoundingClientRect();d=m.top+a.scrollTop,u=m.left+a.scrollLeft-Z_(i,m)}const h=o.left+a.scrollLeft-l.x-u,f=o.top+a.scrollTop-l.y-d;return{x:h,y:f,width:o.width,height:o.height}}function Gg(t){return ri(t).position==="static"}function $I(t,e){if(!Ti(t)||ri(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Ci(t)===n&&(n=n.ownerDocument.body),n}function GN(t,e){const n=vr(t);if(Pm(t))return n;if(!Ti(t)){let i=Ys(t);for(;i&&!Ml(i);){if(zn(i)&&!Gg(i))return i;i=Ys(i)}return n}let r=$I(t,e);for(;r&&F8(r)&&Gg(r);)r=$I(r,e);return r&&Ml(r)&&Gg(r)&&!HE(r)?n:r||V8(t)||n}const d7=async function(t){const e=this.getOffsetParent||GN,n=this.getDimensions,r=await n(t.floating);return{reference:c7(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function h7(t){return ri(t).direction==="rtl"}const f7={convertOffsetParentRelativeRectToViewportRelativeRect:n7,getDocumentElement:Ci,getClippingRect:l7,getOffsetParent:GN,getElementRects:d7,getClientRects:r7,getDimensions:u7,getScale:pl,isElement:zn,isRTL:h7};function p7(t,e){let n=null,r;const i=Ci(t);function s(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),s();const{left:u,top:d,width:h,height:f}=t.getBoundingClientRect();if(a||e(),!h||!f)return;const m=bh(d),y=bh(i.clientWidth-(u+h)),E=bh(i.clientHeight-(d+f)),S=bh(u),_={rootMargin:-m+"px "+-y+"px "+-E+"px "+-S+"px",threshold:Pn(0,Fl(1,l))||1};let w=!0;function A(O){const F=O[0].intersectionRatio;if(F!==l){if(!w)return o();F?o(!1,F):r=setTimeout(()=>{o(!1,1e-7)},1e3)}w=!1}try{n=new IntersectionObserver(A,{..._,root:i.ownerDocument})}catch{n=new IntersectionObserver(A,_)}n.observe(t)}return o(!0),s}function m7(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,u=KE(t),d=i||s?[...u?Yc(u):[],...Yc(e)]:[];d.forEach(T=>{i&&T.addEventListener("scroll",n,{passive:!0}),s&&T.addEventListener("resize",n)});const h=u&&a?p7(u,n):null;let f=-1,m=null;o&&(m=new ResizeObserver(T=>{let[_]=T;_&&_.target===u&&m&&(m.unobserve(e),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var w;(w=m)==null||w.observe(e)})),n()}),u&&!l&&m.observe(u),m.observe(e));let y,E=l?ca(t):null;l&&S();function S(){const T=ca(t);E&&(T.x!==E.x||T.y!==E.y||T.width!==E.width||T.height!==E.height)&&n(),E=T,y=requestAnimationFrame(S)}return n(),()=>{var T;d.forEach(_=>{i&&_.removeEventListener("scroll",n),s&&_.removeEventListener("resize",n)}),h==null||h(),(T=m)==null||T.disconnect(),m=null,l&&cancelAnimationFrame(y)}}const Qg=km,g7=X8,y7=J8,_7=Q8,v7=Z8,E7=(t,e,n)=>{const r=new Map,i={platform:f7,...n},s={...i.platform,_c:r};return G8(t,e,{...i,platform:s})};var nf=typeof document<"u"?I.useLayoutEffect:I.useEffect;function _p(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!_p(t[r],e[r]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=n;r--!==0;){const s=i[r];if(!(s==="_owner"&&t.$$typeof)&&!_p(t[s],e[s]))return!1}return!0}return t!==t&&e!==e}function QN(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function BI(t,e){const n=QN(t);return Math.round(e*n)/n}function Yg(t){const e=I.useRef(t);return nf(()=>{e.current=t}),e}function w7(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:s,floating:o}={},transform:a=!0,whileElementsMounted:l,open:u}=t,[d,h]=I.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[f,m]=I.useState(r);_p(f,r)||m(r);const[y,E]=I.useState(null),[S,T]=I.useState(null),_=I.useCallback(H=>{H!==F.current&&(F.current=H,E(H))},[]),w=I.useCallback(H=>{H!==R.current&&(R.current=H,T(H))},[]),A=s||y,O=o||S,F=I.useRef(null),R=I.useRef(null),g=I.useRef(d),C=l!=null,b=Yg(l),k=Yg(i),N=Yg(u),x=I.useCallback(()=>{if(!F.current||!R.current)return;const H={placement:e,strategy:n,middleware:f};k.current&&(H.platform=k.current),E7(F.current,R.current,H).then(Q=>{const ie={...Q,isPositioned:N.current!==!1};re.current&&!_p(g.current,ie)&&(g.current=ie,mr.flushSync(()=>{h(ie)}))})},[f,e,n,k,N]);nf(()=>{u===!1&&g.current.isPositioned&&(g.current.isPositioned=!1,h(H=>({...H,isPositioned:!1})))},[u]);const re=I.useRef(!1);nf(()=>(re.current=!0,()=>{re.current=!1}),[]),nf(()=>{if(A&&(F.current=A),O&&(R.current=O),A&&O){if(b.current)return b.current(A,O,x);x()}},[A,O,x,b,C]);const Ae=I.useMemo(()=>({reference:F,floating:R,setReference:_,setFloating:w}),[_,w]),Ce=I.useMemo(()=>({reference:A,floating:O}),[A,O]),te=I.useMemo(()=>{const H={position:n,left:0,top:0};if(!Ce.floating)return H;const Q=BI(Ce.floating,d.x),ie=BI(Ce.floating,d.y);return a?{...H,transform:"translate("+Q+"px, "+ie+"px)",...QN(Ce.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:Q,top:ie}},[n,a,Ce.floating,d.x,d.y]);return I.useMemo(()=>({...d,update:x,refs:Ae,elements:Ce,floatingStyles:te}),[d,x,Ae,Ce,te])}const YN=(t,e)=>({...g7(t),options:[t,e]}),T7=(t,e)=>({...y7(t),options:[t,e]}),S7=(t,e)=>({..._7(t),options:[t,e]}),I7=(t,e)=>({...v7(t),options:[t,e]}),XN={...rf},C7=XN.useInsertionEffect,R7=C7||(t=>t());function JN(t){const e=I.useRef(()=>{});return R7(()=>{e.current=t}),I.useCallback(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return e.current==null?void 0:e.current(...r)},[])}var ev=typeof document<"u"?I.useLayoutEffect:I.useEffect;let zI=!1,A7=0;const WI=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+A7++;function b7(){const[t,e]=I.useState(()=>zI?WI():void 0);return ev(()=>{t==null&&e(WI())},[]),I.useEffect(()=>{zI=!0},[]),t}const P7=XN.useId,x7=P7||b7;function k7(){const t=new Map;return{emit(e,n){var r;(r=t.get(e))==null||r.forEach(i=>i(n))},on(e,n){t.set(e,[...t.get(e)||[],n])},off(e,n){var r;t.set(e,((r=t.get(e))==null?void 0:r.filter(i=>i!==n))||[])}}}const N7=I.createContext(null),O7=I.createContext(null),D7=()=>{var t;return((t=I.useContext(N7))==null?void 0:t.id)||null},L7=()=>I.useContext(O7),M7="data-floating-ui-focusable";function F7(t){const{open:e=!1,onOpenChange:n,elements:r}=t,i=x7(),s=I.useRef({}),[o]=I.useState(()=>k7()),a=D7()!=null,[l,u]=I.useState(r.reference),d=JN((m,y,E)=>{s.current.openEvent=m?y:void 0,o.emit("openchange",{open:m,event:y,reason:E,nested:a}),n==null||n(m,y,E)}),h=I.useMemo(()=>({setPositionReference:u}),[]),f=I.useMemo(()=>({reference:l||r.reference||null,floating:r.floating||null,domReference:r.reference}),[l,r.reference,r.floating]);return I.useMemo(()=>({dataRef:s,open:e,onOpenChange:d,elements:f,events:o,floatingId:i,refs:h}),[e,d,f,o,i,h])}function V7(t){t===void 0&&(t={});const{nodeId:e}=t,n=F7({...t,elements:{reference:null,floating:null,...t.elements}}),r=t.rootContext||n,i=r.elements,[s,o]=I.useState(null),[a,l]=I.useState(null),d=(i==null?void 0:i.reference)||s,h=I.useRef(null),f=L7();ev(()=>{d&&(h.current=d)},[d]);const m=w7({...t,elements:{...i,...a&&{reference:a}}}),y=I.useCallback(w=>{const A=zn(w)?{getBoundingClientRect:()=>w.getBoundingClientRect(),contextElement:w}:w;l(A),m.refs.setReference(A)},[m.refs]),E=I.useCallback(w=>{(zn(w)||w===null)&&(h.current=w,o(w)),(zn(m.refs.reference.current)||m.refs.reference.current===null||w!==null&&!zn(w))&&m.refs.setReference(w)},[m.refs]),S=I.useMemo(()=>({...m.refs,setReference:E,setPositionReference:y,domReference:h}),[m.refs,E,y]),T=I.useMemo(()=>({...m.elements,domReference:d}),[m.elements,d]),_=I.useMemo(()=>({...m,...r,refs:S,elements:T,nodeId:e}),[m,S,T,e,r]);return ev(()=>{r.dataRef.current.floatingContext=_;const w=f==null?void 0:f.nodesRef.current.find(A=>A.id===e);w&&(w.context=_)}),I.useMemo(()=>({...m,context:_,refs:S,elements:T}),[m,S,T,_])}const HI="active",qI="selected";function Xg(t,e,n){const r=new Map,i=n==="item";let s=t;if(i&&t){const{[HI]:o,[qI]:a,...l}=t;s=l}return{...n==="floating"&&{tabIndex:-1,[M7]:""},...s,...e.map(o=>{const a=o?o[n]:null;return typeof a=="function"?t?a(t):null:a}).concat(t).reduce((o,a)=>(a&&Object.entries(a).forEach(l=>{let[u,d]=l;if(!(i&&[HI,qI].includes(u)))if(u.indexOf("on")===0){if(r.has(u)||r.set(u,[]),typeof d=="function"){var h;(h=r.get(u))==null||h.push(d),o[u]=function(){for(var f,m=arguments.length,y=new Array(m),E=0;E<m;E++)y[E]=arguments[E];return(f=r.get(u))==null?void 0:f.map(S=>S(...y)).find(S=>S!==void 0)}}}else o[u]=d}),o),{})}}function U7(t){t===void 0&&(t=[]);const e=t.map(a=>a==null?void 0:a.reference),n=t.map(a=>a==null?void 0:a.floating),r=t.map(a=>a==null?void 0:a.item),i=I.useCallback(a=>Xg(a,t,"reference"),e),s=I.useCallback(a=>Xg(a,t,"floating"),n),o=I.useCallback(a=>Xg(a,t,"item"),r);return I.useMemo(()=>({getReferenceProps:i,getFloatingProps:s,getItemProps:o}),[i,s,o])}function KI(t,e){return{...t,rects:{...t.rects,floating:{...t.rects.floating,height:e}}}}const j7=t=>({name:"inner",options:t,async fn(e){const{listRef:n,overflowRef:r,onFallbackChange:i,offset:s=0,index:o=0,minItemsVisible:a=4,referenceOverflowThreshold:l=0,scrollRef:u,...d}=ru(t,e),{rects:h,elements:{floating:f}}=e,m=n.current[o],y=(u==null?void 0:u.current)||f,E=f.clientTop||y.clientTop,S=f.clientTop!==0,T=y.clientTop!==0,_=f===y;if(!m)return{};const w={...e,...await YN(-m.offsetTop-f.clientTop-h.reference.height/2-m.offsetHeight/2-s).fn(e)},A=await Qg(KI(w,y.scrollHeight+E+f.clientTop),d),O=await Qg(w,{...d,elementContext:"reference"}),F=Pn(0,A.top),R=w.y+F,g=Xc(Pn(0,y.scrollHeight+(S&&_||T?E*2:0)-F-Pn(0,A.bottom)));if(y.style.maxHeight=g+"px",y.scrollTop=F,i){const C=y.scrollHeight>y.offsetHeight&&y.offsetHeight<m.offsetHeight*a-1||O.top>=-l||O.bottom>=-l;mr.flushSync(()=>i(C))}return r&&(r.current=await Qg(KI({...w,y:R},y.offsetHeight+E+f.clientTop),d)),{y:R}}});function $7(t,e){const{open:n,elements:r}=t,{enabled:i=!0,overflowRef:s,scrollRef:o,onChange:a}=e,l=JN(a),u=I.useRef(!1),d=I.useRef(null),h=I.useRef(null);I.useEffect(()=>{if(!i)return;function m(E){if(E.ctrlKey||!y||s.current==null)return;const S=E.deltaY,T=s.current.top>=-.5,_=s.current.bottom>=-.5,w=y.scrollHeight-y.clientHeight,A=S<0?-1:1,O=S<0?"max":"min";y.scrollHeight<=y.clientHeight||(!T&&S>0||!_&&S<0?(E.preventDefault(),mr.flushSync(()=>{l(F=>F+Math[O](S,w*A))})):/firefox/i.test(U8())&&(y.scrollTop+=S))}const y=(o==null?void 0:o.current)||r.floating;if(n&&y)return y.addEventListener("wheel",m),requestAnimationFrame(()=>{d.current=y.scrollTop,s.current!=null&&(h.current={...s.current})}),()=>{d.current=null,h.current=null,y.removeEventListener("wheel",m)}},[i,n,r.floating,s,o,l]);const f=I.useMemo(()=>({onKeyDown(){u.current=!0},onWheel(){u.current=!1},onPointerMove(){u.current=!1},onScroll(){const m=(o==null?void 0:o.current)||r.floating;if(!(!s.current||!m||!u.current)){if(d.current!==null){const y=m.scrollTop-d.current;(s.current.bottom<-.5&&y<-1||s.current.top<-.5&&y>1)&&mr.flushSync(()=>l(E=>E+y))}requestAnimationFrame(()=>{d.current=m.scrollTop})}}}),[r.floating,l,s,o]);return I.useMemo(()=>i?{floating:f}:{},[i,f])}let iu=I.createContext({styles:void 0,setReference:()=>{},setFloating:()=>{},getReferenceProps:()=>({}),getFloatingProps:()=>({}),slot:{}});iu.displayName="FloatingContext";let GE=I.createContext(null);GE.displayName="PlacementContext";function B7(t){return I.useMemo(()=>t?typeof t=="string"?{to:t}:t:null,[t])}function z7(){return I.useContext(iu).setReference}function W7(){return I.useContext(iu).getReferenceProps}function H7(){let{getFloatingProps:t,slot:e}=I.useContext(iu);return I.useCallback((...n)=>Object.assign({},t(...n),{"data-anchor":e.anchor}),[t,e])}function q7(t=null){t===!1&&(t=null),typeof t=="string"&&(t={to:t});let e=I.useContext(GE),n=I.useMemo(()=>t,[JSON.stringify(t,(i,s)=>{var o;return(o=s==null?void 0:s.outerHTML)!=null?o:s})]);qt(()=>{e==null||e(n??null)},[e,n]);let r=I.useContext(iu);return I.useMemo(()=>[r.setFloating,t?r.styles:{}],[r.setFloating,t,r.styles])}let GI=4;function K7({children:t,enabled:e=!0}){let[n,r]=I.useState(null),[i,s]=I.useState(0),o=I.useRef(null),[a,l]=I.useState(null);G7(a);let u=e&&n!==null&&a!==null,{to:d="bottom",gap:h=0,offset:f=0,padding:m=0,inner:y}=Q7(n,a),[E,S="center"]=d.split(" ");qt(()=>{u&&s(0)},[u]);let{refs:T,floatingStyles:_,context:w}=V7({open:u,placement:E==="selection"?S==="center"?"bottom":`bottom-${S}`:S==="center"?`${E}`:`${E}-${S}`,strategy:"absolute",transform:!1,middleware:[YN({mainAxis:E==="selection"?0:h,crossAxis:f}),T7({padding:m}),E!=="selection"&&S7({padding:m}),E==="selection"&&y?j7({...y,padding:m,overflowRef:o,offset:i,minItemsVisible:GI,referenceOverflowThreshold:m,onFallbackChange(k){var N,x;if(!k)return;let re=w.elements.floating;if(!re)return;let Ae=parseFloat(getComputedStyle(re).scrollPaddingBottom)||0,Ce=Math.min(GI,re.childElementCount),te=0,H=0;for(let Q of(x=(N=w.elements.floating)==null?void 0:N.childNodes)!=null?x:[])if(Q instanceof HTMLElement){let ie=Q.offsetTop,xe=ie+Q.clientHeight+Ae,q=re.scrollTop,J=q+re.clientHeight;if(ie>=q&&xe<=J)Ce--;else{H=Math.max(0,Math.min(xe,J)-Math.max(ie,q)),te=Q.clientHeight;break}}Ce>=1&&s(Q=>{let ie=te*Ce-H+Ae;return Q>=ie?Q:ie})}}):null,I7({padding:m,apply({availableWidth:k,availableHeight:N,elements:x}){Object.assign(x.floating.style,{overflow:"auto",maxWidth:`${k}px`,maxHeight:`min(var(--anchor-max-height, 100vh), ${N}px)`})}})].filter(Boolean),whileElementsMounted:m7}),[A=E,O=S]=w.placement.split("-");E==="selection"&&(A="selection");let F=I.useMemo(()=>({anchor:[A,O].filter(Boolean).join(" ")}),[A,O]),R=$7(w,{overflowRef:o,onChange:s}),{getReferenceProps:g,getFloatingProps:C}=U7([R]),b=rt(k=>{l(k),T.setFloating(k)});return I.createElement(GE.Provider,{value:r},I.createElement(iu.Provider,{value:{setFloating:b,setReference:T.setReference,styles:_,getReferenceProps:g,getFloatingProps:C,slot:F}},t))}function G7(t){qt(()=>{if(!t)return;let e=new MutationObserver(()=>{let n=window.getComputedStyle(t).maxHeight,r=parseFloat(n);if(isNaN(r))return;let i=parseInt(n);isNaN(i)||r!==i&&(t.style.maxHeight=`${Math.ceil(r)}px`)});return e.observe(t,{attributes:!0,attributeFilter:["style"]}),()=>{e.disconnect()}},[t])}function Q7(t,e){var n,r,i;let s=Jg((n=t==null?void 0:t.gap)!=null?n:"var(--anchor-gap, 0)",e),o=Jg((r=t==null?void 0:t.offset)!=null?r:"var(--anchor-offset, 0)",e),a=Jg((i=t==null?void 0:t.padding)!=null?i:"var(--anchor-padding, 0)",e);return{...t,gap:s,offset:o,padding:a}}function Jg(t,e,n=void 0){let r=Rm(),i=rt((l,u)=>{if(l==null)return[n,null];if(typeof l=="number")return[l,null];if(typeof l=="string"){if(!u)return[n,null];let d=QI(l,u);return[d,h=>{let f=ZN(l);{let m=f.map(y=>window.getComputedStyle(u).getPropertyValue(y));r.requestAnimationFrame(function y(){r.nextFrame(y);let E=!1;for(let[T,_]of f.entries()){let w=window.getComputedStyle(u).getPropertyValue(_);if(m[T]!==w){m[T]=w,E=!0;break}}if(!E)return;let S=QI(l,u);d!==S&&(h(S),d=S)})}return r.dispose}]}return[n,null]}),s=I.useMemo(()=>i(t,e)[0],[t,e]),[o=s,a]=I.useState();return qt(()=>{let[l,u]=i(t,e);if(a(l),!!u)return u(a)},[t,e]),o}function ZN(t){let e=/var\((.*)\)/.exec(t);if(e){let n=e[1].indexOf(",");if(n===-1)return[e[1]];let r=e[1].slice(0,n).trim(),i=e[1].slice(n+1).trim();return i?[r,...ZN(i)]:[r]}return[]}function QI(t,e){let n=document.createElement("div");e.appendChild(n),n.style.setProperty("margin-top","0px","important"),n.style.setProperty("margin-top",t,"important");let r=parseFloat(window.getComputedStyle(n).marginTop)||0;return e.removeChild(n),r}let Nm=I.createContext(null);Nm.displayName="OpenClosedContext";var ns=(t=>(t[t.Open=1]="Open",t[t.Closed=2]="Closed",t[t.Closing=4]="Closing",t[t.Opening=8]="Opening",t))(ns||{});function eO(){return I.useContext(Nm)}function tO({value:t,children:e}){return pe.createElement(Nm.Provider,{value:t},e)}function Y7({children:t}){return pe.createElement(Nm.Provider,{value:null},t)}function X7(t){throw new Error("Unexpected object: "+t)}var xn=(t=>(t[t.First=0]="First",t[t.Previous=1]="Previous",t[t.Next=2]="Next",t[t.Last=3]="Last",t[t.Specific=4]="Specific",t[t.Nothing=5]="Nothing",t))(xn||{});function Zg(t,e){let n=e.resolveItems();if(n.length<=0)return null;let r=e.resolveActiveIndex(),i=r??-1;switch(t.focus){case 0:{for(let s=0;s<n.length;++s)if(!e.resolveDisabled(n[s],s,n))return s;return r}case 1:{i===-1&&(i=n.length);for(let s=i-1;s>=0;--s)if(!e.resolveDisabled(n[s],s,n))return s;return r}case 2:{for(let s=i+1;s<n.length;++s)if(!e.resolveDisabled(n[s],s,n))return s;return r}case 3:{for(let s=n.length-1;s>=0;--s)if(!e.resolveDisabled(n[s],s,n))return s;return r}case 4:{for(let s=0;s<n.length;++s)if(e.resolveId(n[s],s,n)===t.id)return s;return r}case 5:return null;default:X7(t)}}function J7(t){let e=rt(t),n=I.useRef(!1);I.useEffect(()=>(n.current=!1,()=>{n.current=!0,TN(()=>{n.current&&e()})}),[e])}function Z7(){let t=typeof document>"u";return"useSyncExternalStore"in rf?(e=>e.useSyncExternalStore)(rf)(()=>()=>{},()=>!1,()=>!t):!1}function eq(){let t=Z7(),[e,n]=I.useState(zo.isHandoffComplete);return e&&zo.isHandoffComplete===!1&&n(!1),I.useEffect(()=>{e!==!0&&n(!0)},[e]),I.useEffect(()=>zo.handoff(),[]),t?!1:e}let tq=I.createContext(!1);function nq(){return I.useContext(tq)}function rq(t){let e=nq(),n=I.useContext(rO),r=WE(t),[i,s]=I.useState(()=>{var o;if(!e&&n!==null)return(o=n.current)!=null?o:null;if(zo.isServer)return null;let a=r==null?void 0:r.getElementById("headlessui-portal-root");if(a)return a;if(r===null)return null;let l=r.createElement("div");return l.setAttribute("id","headlessui-portal-root"),r.body.appendChild(l)});return I.useEffect(()=>{i!==null&&(r!=null&&r.body.contains(i)||r==null||r.body.appendChild(i))},[i,r]),I.useEffect(()=>{e||n!==null&&s(n.current)},[n,s,e]),i}let nO=I.Fragment,iq=Gn(function(t,e){let n=t,r=I.useRef(null),i=Fr(bN(d=>{r.current=d}),e),s=WE(r),o=rq(r),[a]=I.useState(()=>{var d;return zo.isServer?null:(d=s==null?void 0:s.createElement("div"))!=null?d:null}),l=I.useContext(lq),u=eq();return qt(()=>{!o||!a||o.contains(a)||(a.setAttribute("data-headlessui-portal",""),o.appendChild(a))},[o,a]),qt(()=>{if(a&&l)return l.register(a)},[l,a]),J7(()=>{var d;!o||!a||(a instanceof Node&&o.contains(a)&&o.removeChild(a),o.childNodes.length<=0&&((d=o.parentElement)==null||d.removeChild(o)))}),u?!o||!a?null:mr.createPortal(Kn({ourProps:{ref:i},theirProps:n,slot:{},defaultTag:nO,name:"Portal"}),a):null});function sq(t,e){let n=Fr(e),{enabled:r=!0,...i}=t;return r?pe.createElement(iq,{...i,ref:n}):Kn({ourProps:{ref:n},theirProps:i,slot:{},defaultTag:nO,name:"Portal"})}let oq=I.Fragment,rO=I.createContext(null);function aq(t,e){let{target:n,...r}=t,i={ref:Fr(e)};return pe.createElement(rO.Provider,{value:n},Kn({ourProps:i,theirProps:r,defaultTag:oq,name:"Popover.Group"}))}let lq=I.createContext(null),uq=Gn(sq),cq=Gn(aq),dq=Object.assign(uq,{Group:cq});var YI;let hq=(YI=pe.startTransition)!=null?YI:function(t){t()};var fq=(t=>(t[t.Open=0]="Open",t[t.Closed=1]="Closed",t))(fq||{}),pq=(t=>(t[t.ToggleDisclosure=0]="ToggleDisclosure",t[t.CloseDisclosure=1]="CloseDisclosure",t[t.SetButtonId=2]="SetButtonId",t[t.SetPanelId=3]="SetPanelId",t[t.SetButtonElement=4]="SetButtonElement",t[t.SetPanelElement=5]="SetPanelElement",t))(pq||{});let mq={0:t=>({...t,disclosureState:ho(t.disclosureState,{0:1,1:0})}),1:t=>t.disclosureState===1?t:{...t,disclosureState:1},2(t,e){return t.buttonId===e.buttonId?t:{...t,buttonId:e.buttonId}},3(t,e){return t.panelId===e.panelId?t:{...t,panelId:e.panelId}},4(t,e){return t.buttonElement===e.element?t:{...t,buttonElement:e.element}},5(t,e){return t.panelElement===e.element?t:{...t,panelElement:e.element}}},QE=I.createContext(null);QE.displayName="DisclosureContext";function YE(t){let e=I.useContext(QE);if(e===null){let n=new Error(`<${t} /> is missing a parent <Disclosure /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,YE),n}return e}let XE=I.createContext(null);XE.displayName="DisclosureAPIContext";function iO(t){let e=I.useContext(XE);if(e===null){let n=new Error(`<${t} /> is missing a parent <Disclosure /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,iO),n}return e}let JE=I.createContext(null);JE.displayName="DisclosurePanelContext";function gq(){return I.useContext(JE)}function yq(t,e){return ho(e.type,mq,t,e)}let _q=I.Fragment;function vq(t,e){let{defaultOpen:n=!1,...r}=t,i=I.useRef(null),s=Fr(e,bN(y=>{i.current=y},t.as===void 0||t.as===I.Fragment)),o=I.useReducer(yq,{disclosureState:n?0:1,buttonElement:null,panelElement:null,buttonId:null,panelId:null}),[{disclosureState:a,buttonId:l},u]=o,d=rt(y=>{u({type:1});let E=va(i);if(!E||!l)return;let S=y?y instanceof HTMLElement?y:y.current instanceof HTMLElement?y.current:E.getElementById(l):E.getElementById(l);S==null||S.focus()}),h=I.useMemo(()=>({close:d}),[d]),f=I.useMemo(()=>({open:a===0,close:d}),[a,d]),m={ref:s};return pe.createElement(QE.Provider,{value:o},pe.createElement(XE.Provider,{value:h},pe.createElement(n8,{value:d},pe.createElement(tO,{value:ho(a,{0:ns.Open,1:ns.Closed})},Kn({ourProps:m,theirProps:r,slot:f,defaultTag:_q,name:"Disclosure"})))))}let Eq="button";function wq(t,e){let n=I.useId(),{id:r=`headlessui-disclosure-button-${n}`,disabled:i=!1,autoFocus:s=!1,...o}=t,[a,l]=YE("Disclosure.Button"),u=gq(),d=u===null?!1:u===a.panelId,h=I.useRef(null),f=Fr(h,e,rt(b=>{if(!d)return l({type:4,element:b})})),m=VE();I.useEffect(()=>{if(!d)return l({type:2,buttonId:r}),()=>{l({type:2,buttonId:null})}},[r,l,d]);let y=rt(b=>{var k;if(d){if(a.disclosureState===1)return;switch(b.key){case Dt.Space:case Dt.Enter:b.preventDefault(),b.stopPropagation(),l({type:0}),(k=a.buttonElement)==null||k.focus();break}}else switch(b.key){case Dt.Space:case Dt.Enter:b.preventDefault(),b.stopPropagation(),l({type:0});break}}),E=rt(b=>{switch(b.key){case Dt.Space:b.preventDefault();break}}),S=rt(b=>{var k;RN(b.currentTarget)||i||(d?(l({type:0}),(k=a.buttonElement)==null||k.focus()):l({type:0}))}),{isFocusVisible:T,focusProps:_}=wN({autoFocus:s}),{isHovered:w,hoverProps:A}=EN({isDisabled:i}),{pressed:O,pressProps:F}=SN({disabled:i}),R=I.useMemo(()=>({open:a.disclosureState===0,hover:w,active:O,disabled:i,focus:T,autofocus:s}),[a,w,O,T,i,s]),g=FN(t,a.buttonElement),C=mp(d?{ref:f,type:g,disabled:i||void 0,autoFocus:s,onKeyDown:y,onClick:S}:{ref:f,id:r,type:g,"aria-expanded":a.disclosureState===0,"aria-controls":a.panelElement?a.panelId:void 0,disabled:i||void 0,autoFocus:s,onKeyDown:y,onKeyUp:E,onClick:S},_,A,F);return Kn({mergeRefs:m,ourProps:C,theirProps:o,slot:R,defaultTag:Eq,name:"Disclosure.Button"})}let Tq="div",Sq=Qc.RenderStrategy|Qc.Static;function Iq(t,e){let n=I.useId(),{id:r=`headlessui-disclosure-panel-${n}`,transition:i=!1,...s}=t,[o,a]=YE("Disclosure.Panel"),{close:l}=iO("Disclosure.Panel"),u=VE(),[d,h]=I.useState(null),f=Fr(e,rt(_=>{hq(()=>a({type:5,element:_}))}),h);I.useEffect(()=>(a({type:3,panelId:r}),()=>{a({type:3,panelId:null})}),[r,a]);let m=eO(),[y,E]=UN(i,d,m!==null?(m&ns.Open)===ns.Open:o.disclosureState===0),S=I.useMemo(()=>({open:o.disclosureState===0,close:l}),[o.disclosureState,l]),T={ref:f,id:r,...VN(E)};return pe.createElement(Y7,null,pe.createElement(JE.Provider,{value:o.panelId},Kn({mergeRefs:u,ourProps:T,theirProps:s,slot:S,defaultTag:Tq,features:Sq,visible:y,name:"Disclosure.Panel"})))}let Cq=Gn(vq),tv=Gn(wq),sO=Gn(Iq),Rq=Object.assign(Cq,{Button:tv,Panel:sO});function Aq(t,e){let n=I.useRef({left:0,top:0});if(qt(()=>{if(!e)return;let i=e.getBoundingClientRect();i&&(n.current=i)},[t,e]),e==null||!t||e===document.activeElement)return!1;let r=e.getBoundingClientRect();return r.top!==n.current.top||r.left!==n.current.left}let XI=/([\u2700-\u27BF]|[\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g;function JI(t){var e,n;let r=(e=t.innerText)!=null?e:"",i=t.cloneNode(!0);if(!(i instanceof HTMLElement))return r;let s=!1;for(let a of i.querySelectorAll('[hidden],[aria-hidden],[role="img"]'))a.remove(),s=!0;let o=s?(n=i.innerText)!=null?n:"":r;return XI.test(o)&&(o=o.replace(XI,"")),o}function bq(t){let e=t.getAttribute("aria-label");if(typeof e=="string")return e.trim();let n=t.getAttribute("aria-labelledby");if(n){let r=n.split(" ").map(i=>{let s=document.getElementById(i);if(s){let o=s.getAttribute("aria-label");return typeof o=="string"?o.trim():JI(s).trim()}return null}).filter(Boolean);if(r.length>0)return r.join(", ")}return JI(t).trim()}function Pq(t){let e=I.useRef(""),n=I.useRef("");return rt(()=>{let r=t.current;if(!r)return"";let i=r.innerText;if(e.current===i)return n.current;let s=bq(r).trim().toLowerCase();return e.current=i,n.current=s,s})}var xq=(t=>(t[t.Open=0]="Open",t[t.Closed=1]="Closed",t))(xq||{}),kq=(t=>(t[t.Pointer=0]="Pointer",t[t.Other=1]="Other",t))(kq||{}),Nq=(t=>(t[t.OpenMenu=0]="OpenMenu",t[t.CloseMenu=1]="CloseMenu",t[t.GoToItem=2]="GoToItem",t[t.Search=3]="Search",t[t.ClearSearch=4]="ClearSearch",t[t.RegisterItem=5]="RegisterItem",t[t.UnregisterItem=6]="UnregisterItem",t[t.SetButtonElement=7]="SetButtonElement",t[t.SetItemsElement=8]="SetItemsElement",t))(Nq||{});function ey(t,e=n=>n){let n=t.activeItemIndex!==null?t.items[t.activeItemIndex]:null,r=LN(e(t.items.slice()),s=>s.dataRef.current.domRef.current),i=n?r.indexOf(n):null;return i===-1&&(i=null),{items:r,activeItemIndex:i}}let Oq={1(t){return t.menuState===1?t:{...t,activeItemIndex:null,menuState:1}},0(t){return t.menuState===0?t:{...t,__demoMode:!1,menuState:0}},2:(t,e)=>{var n,r,i,s,o;if(t.menuState===1)return t;let a={...t,searchQuery:"",activationTrigger:(n=e.trigger)!=null?n:1,__demoMode:!1};if(e.focus===xn.Nothing)return{...a,activeItemIndex:null};if(e.focus===xn.Specific)return{...a,activeItemIndex:t.items.findIndex(d=>d.id===e.id)};if(e.focus===xn.Previous){let d=t.activeItemIndex;if(d!==null){let h=t.items[d].dataRef.current.domRef,f=Zg(e,{resolveItems:()=>t.items,resolveActiveIndex:()=>t.activeItemIndex,resolveId:m=>m.id,resolveDisabled:m=>m.dataRef.current.disabled});if(f!==null){let m=t.items[f].dataRef.current.domRef;if(((r=h.current)==null?void 0:r.previousElementSibling)===m.current||((i=m.current)==null?void 0:i.previousElementSibling)===null)return{...a,activeItemIndex:f}}}}else if(e.focus===xn.Next){let d=t.activeItemIndex;if(d!==null){let h=t.items[d].dataRef.current.domRef,f=Zg(e,{resolveItems:()=>t.items,resolveActiveIndex:()=>t.activeItemIndex,resolveId:m=>m.id,resolveDisabled:m=>m.dataRef.current.disabled});if(f!==null){let m=t.items[f].dataRef.current.domRef;if(((s=h.current)==null?void 0:s.nextElementSibling)===m.current||((o=m.current)==null?void 0:o.nextElementSibling)===null)return{...a,activeItemIndex:f}}}}let l=ey(t),u=Zg(e,{resolveItems:()=>l.items,resolveActiveIndex:()=>l.activeItemIndex,resolveId:d=>d.id,resolveDisabled:d=>d.dataRef.current.disabled});return{...a,...l,activeItemIndex:u}},3:(t,e)=>{let n=t.searchQuery!==""?0:1,r=t.searchQuery+e.value.toLowerCase(),i=(t.activeItemIndex!==null?t.items.slice(t.activeItemIndex+n).concat(t.items.slice(0,t.activeItemIndex+n)):t.items).find(o=>{var a;return((a=o.dataRef.current.textValue)==null?void 0:a.startsWith(r))&&!o.dataRef.current.disabled}),s=i?t.items.indexOf(i):-1;return s===-1||s===t.activeItemIndex?{...t,searchQuery:r}:{...t,searchQuery:r,activeItemIndex:s,activationTrigger:1}},4(t){return t.searchQuery===""?t:{...t,searchQuery:"",searchActiveItemIndex:null}},5:(t,e)=>{let n=ey(t,r=>[...r,{id:e.id,dataRef:e.dataRef}]);return{...t,...n}},6:(t,e)=>{let n=ey(t,r=>{let i=r.findIndex(s=>s.id===e.id);return i!==-1&&r.splice(i,1),r});return{...t,...n,activationTrigger:1}},7:(t,e)=>t.buttonElement===e.element?t:{...t,buttonElement:e.element},8:(t,e)=>t.itemsElement===e.element?t:{...t,itemsElement:e.element}},ZE=I.createContext(null);ZE.displayName="MenuContext";function Om(t){let e=I.useContext(ZE);if(e===null){let n=new Error(`<${t} /> is missing a parent <Menu /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,Om),n}return e}function Dq(t,e){return ho(e.type,Oq,t,e)}let Lq=I.Fragment;function Mq(t,e){let{__demoMode:n=!1,...r}=t,i=I.useReducer(Dq,{__demoMode:n,menuState:n?0:1,buttonElement:null,itemsElement:null,items:[],searchQuery:"",activeItemIndex:null,activationTrigger:1}),[{menuState:s,itemsElement:o,buttonElement:a},l]=i,u=Fr(e);T8(s===0,[a,o],(m,y)=>{l({type:1}),zE(y,BE.Loose)||(m.preventDefault(),a==null||a.focus())});let d=rt(()=>{l({type:1})}),h=I.useMemo(()=>({open:s===0,close:d}),[s,d]),f={ref:u};return pe.createElement(K7,null,pe.createElement(ZE.Provider,{value:i},pe.createElement(tO,{value:ho(s,{0:ns.Open,1:ns.Closed})},Kn({ourProps:f,theirProps:r,slot:h,defaultTag:Lq,name:"Menu"}))))}let Fq="button";function Vq(t,e){var n;let r=I.useId(),{id:i=`headlessui-menu-button-${r}`,disabled:s=!1,autoFocus:o=!1,...a}=t,[l,u]=Om("Menu.Button"),d=W7(),h=VE(),f=Fr(e,z7(),rt(g=>u({type:7,element:g}))),m=rt(g=>{switch(g.key){case Dt.Space:case Dt.Enter:case Dt.ArrowDown:g.preventDefault(),g.stopPropagation(),mr.flushSync(()=>u({type:0})),u({type:2,focus:xn.First});break;case Dt.ArrowUp:g.preventDefault(),g.stopPropagation(),mr.flushSync(()=>u({type:0})),u({type:2,focus:xn.Last});break}}),y=rt(g=>{switch(g.key){case Dt.Space:g.preventDefault();break}}),E=rt(g=>{var C;if(RN(g.currentTarget))return g.preventDefault();s||(l.menuState===0?(mr.flushSync(()=>u({type:1})),(C=l.buttonElement)==null||C.focus({preventScroll:!0})):(g.preventDefault(),u({type:0})))}),{isFocusVisible:S,focusProps:T}=wN({autoFocus:o}),{isHovered:_,hoverProps:w}=EN({isDisabled:s}),{pressed:A,pressProps:O}=SN({disabled:s}),F=I.useMemo(()=>({open:l.menuState===0,active:A||l.menuState===0,disabled:s,hover:_,focus:S,autofocus:o}),[l,_,S,A,s,o]),R=mp(d(),{ref:f,id:i,type:FN(t,l.buttonElement),"aria-haspopup":"menu","aria-controls":(n=l.itemsElement)==null?void 0:n.id,"aria-expanded":l.menuState===0,disabled:s||void 0,autoFocus:o,onKeyDown:m,onKeyUp:y,onClick:E},T,w,O);return Kn({mergeRefs:h,ourProps:R,theirProps:a,slot:F,defaultTag:Fq,name:"Menu.Button"})}let Uq="div",jq=Qc.RenderStrategy|Qc.Static;function $q(t,e){var n,r;let i=I.useId(),{id:s=`headlessui-menu-items-${i}`,anchor:o,portal:a=!1,modal:l=!0,transition:u=!1,...d}=t,h=B7(o),[f,m]=Om("Menu.Items"),[y,E]=q7(h),S=H7(),[T,_]=I.useState(null),w=Fr(e,h?y:null,rt(te=>m({type:8,element:te})),_),A=WE(f.itemsElement);h&&(a=!0);let O=eO(),[F,R]=UN(u,T,O!==null?(O&ns.Open)===ns.Open:f.menuState===0);l8(F,f.buttonElement,()=>{m({type:1})});let g=f.__demoMode?!1:l&&f.menuState===0;b8(g,A);let C=f.__demoMode?!1:l&&f.menuState===0;a8(C,{allowed:I.useCallback(()=>[f.buttonElement,f.itemsElement],[f.buttonElement,f.itemsElement])});let b=f.menuState!==0,k=Aq(b,f.buttonElement)?!1:F;I.useEffect(()=>{let te=f.itemsElement;te&&f.menuState===0&&te!==(A==null?void 0:A.activeElement)&&te.focus({preventScroll:!0})},[f.menuState,f.itemsElement,A]),M8(f.menuState===0,{container:f.itemsElement,accept(te){return te.getAttribute("role")==="menuitem"?NodeFilter.FILTER_REJECT:te.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(te){te.setAttribute("role","none")}});let N=Rm(),x=rt(te=>{var H,Q,ie;switch(N.dispose(),te.key){case Dt.Space:if(f.searchQuery!=="")return te.preventDefault(),te.stopPropagation(),m({type:3,value:te.key});case Dt.Enter:if(te.preventDefault(),te.stopPropagation(),m({type:1}),f.activeItemIndex!==null){let{dataRef:xe}=f.items[f.activeItemIndex];(Q=(H=xe.current)==null?void 0:H.domRef.current)==null||Q.click()}DN(f.buttonElement);break;case Dt.ArrowDown:return te.preventDefault(),te.stopPropagation(),m({type:2,focus:xn.Next});case Dt.ArrowUp:return te.preventDefault(),te.stopPropagation(),m({type:2,focus:xn.Previous});case Dt.Home:case Dt.PageUp:return te.preventDefault(),te.stopPropagation(),m({type:2,focus:xn.First});case Dt.End:case Dt.PageDown:return te.preventDefault(),te.stopPropagation(),m({type:2,focus:xn.Last});case Dt.Escape:te.preventDefault(),te.stopPropagation(),mr.flushSync(()=>m({type:1})),(ie=f.buttonElement)==null||ie.focus({preventScroll:!0});break;case Dt.Tab:te.preventDefault(),te.stopPropagation(),mr.flushSync(()=>m({type:1})),y8(f.buttonElement,te.shiftKey?Y_.Previous:Y_.Next);break;default:te.key.length===1&&(m({type:3,value:te.key}),N.setTimeout(()=>m({type:4}),350));break}}),re=rt(te=>{switch(te.key){case Dt.Space:te.preventDefault();break}}),Ae=I.useMemo(()=>({open:f.menuState===0}),[f.menuState]),Ce=mp(h?S():{},{"aria-activedescendant":f.activeItemIndex===null||(n=f.items[f.activeItemIndex])==null?void 0:n.id,"aria-labelledby":(r=f.buttonElement)==null?void 0:r.id,id:s,onKeyDown:x,onKeyUp:re,role:"menu",tabIndex:f.menuState===0?0:void 0,ref:w,style:{...d.style,...E,"--button-width":i8(f.buttonElement,!0).width},...VN(R)});return pe.createElement(dq,{enabled:a?t.static||F:!1},Kn({ourProps:Ce,theirProps:d,slot:Ae,defaultTag:Uq,features:jq,visible:k,name:"Menu.Items"}))}let Bq=I.Fragment;function zq(t,e){let n=I.useId(),{id:r=`headlessui-menu-item-${n}`,disabled:i=!1,...s}=t,[o,a]=Om("Menu.Item"),l=o.activeItemIndex!==null?o.items[o.activeItemIndex].id===r:!1,u=I.useRef(null),d=Fr(e,u);qt(()=>{if(!o.__demoMode&&o.menuState===0&&l&&o.activationTrigger!==0)return Ii().requestAnimationFrame(()=>{var C,b;(b=(C=u.current)==null?void 0:C.scrollIntoView)==null||b.call(C,{block:"nearest"})})},[o.__demoMode,u,l,o.menuState,o.activationTrigger,o.activeItemIndex]);let h=Pq(u),f=I.useRef({disabled:i,domRef:u,get textValue(){return h()}});qt(()=>{f.current.disabled=i},[f,i]),qt(()=>(a({type:5,id:r,dataRef:f}),()=>a({type:6,id:r})),[f,r]);let m=rt(()=>{a({type:1})}),y=rt(C=>{if(i)return C.preventDefault();a({type:1}),DN(o.buttonElement)}),E=rt(()=>{if(i)return a({type:2,focus:xn.Nothing});a({type:2,focus:xn.Specific,id:r})}),S=P8(),T=rt(C=>{S.update(C),!i&&(l||a({type:2,focus:xn.Specific,id:r,trigger:0}))}),_=rt(C=>{S.wasMoved(C)&&(i||l||a({type:2,focus:xn.Specific,id:r,trigger:0}))}),w=rt(C=>{S.wasMoved(C)&&(i||l&&a({type:2,focus:xn.Nothing}))}),[A,O]=xN(),[F,R]=KH(),g=I.useMemo(()=>({active:l,focus:l,disabled:i,close:m}),[l,i,m]);return pe.createElement(O,null,pe.createElement(R,null,Kn({ourProps:{id:r,ref:d,role:"menuitem",tabIndex:i===!0?void 0:-1,"aria-disabled":i===!0?!0:void 0,"aria-labelledby":A,"aria-describedby":F,disabled:void 0,onClick:y,onFocus:E,onPointerEnter:T,onMouseEnter:T,onPointerMove:_,onMouseMove:_,onPointerLeave:w,onMouseLeave:w},theirProps:s,slot:g,defaultTag:Bq,name:"Menu.Item"})))}let Wq="div";function Hq(t,e){let[n,r]=xN();return pe.createElement(r,null,Kn({ourProps:{ref:e,"aria-labelledby":n,role:"group"},theirProps:t,slot:{},defaultTag:Wq,name:"Menu.Section"}))}let qq="header";function Kq(t,e){let n=I.useId(),{id:r=`headlessui-menu-heading-${n}`,...i}=t,s=jE();qt(()=>s.register(r),[r,s.register]);let o={id:r,ref:e,role:"presentation",...s.props};return Kn({ourProps:o,theirProps:i,slot:{},defaultTag:qq,name:"Menu.Heading"})}let Gq="div";function Qq(t,e){return Kn({ourProps:{ref:e,role:"separator"},theirProps:t,slot:{},defaultTag:Gq,name:"Menu.Separator"})}let Yq=Gn(Mq),oO=Gn(Vq),aO=Gn($q),lO=Gn(zq),Xq=Gn(Hq),Jq=Gn(Kq),Zq=Gn(Qq),eK=Object.assign(Yq,{Button:oO,Items:aO,Item:lO,Section:Xq,Heading:Jq,Separator:Zq});function tK({title:t,titleId:e,...n},r){return I.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?I.createElement("title",{id:e},t):null,I.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"}))}const nK=I.forwardRef(tK);function rK({title:t,titleId:e,...n},r){return I.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?I.createElement("title",{id:e},t):null,I.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))}const iK=I.forwardRef(rK);var uO={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},ZI=pe.createContext&&pe.createContext(uO),sK=["attr","size","title"];function oK(t,e){if(t==null)return{};var n=aK(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function aK(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function vp(){return vp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},vp.apply(this,arguments)}function eC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ep(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?eC(Object(n),!0).forEach(function(r){lK(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):eC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lK(t,e,n){return e=uK(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function uK(t){var e=cK(t,"string");return typeof e=="symbol"?e:e+""}function cK(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function cO(t){return t&&t.map((e,n)=>pe.createElement(e.tag,Ep({key:n},e.attr),cO(e.child)))}function dK(t){return e=>pe.createElement(hK,vp({attr:Ep({},t.attr)},e),cO(t.child))}function hK(t){var e=n=>{var{attr:r,size:i,title:s}=t,o=oK(t,sK),a=i||n.size||"1em",l;return n.className&&(l=n.className),t.className&&(l=(l?l+" ":"")+t.className),pe.createElement("svg",vp({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,o,{className:l,style:Ep(Ep({color:t.color||n.color},n.style),t.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),s&&pe.createElement("title",null,s),t.children)};return ZI!==void 0?pe.createElement(ZI.Consumer,null,n=>e(n)):e(uO)}function fK(t){return dK({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeMiterlimit:"10",strokeWidth:"32",d:"M221.09 64a157.09 157.09 0 1 0 157.09 157.09A157.1 157.1 0 0 0 221.09 64z"},child:[]},{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeMiterlimit:"10",strokeWidth:"32",d:"M338.29 338.29 448 448"},child:[]}]})(t)}const pK=(t,e=800)=>{const[n,r]=I.useState(t),[i,s]=I.useState(!1);return I.useEffect(()=>{const o=setTimeout(()=>{r(t)},e);return()=>{clearTimeout(o)}},[t,e]),[n,i,s]},dO=()=>{const{db:t}=ga(),[e,n]=I.useState(""),[r,i]=I.useState([]),[s,o]=I.useState(!1),[a,l]=I.useState(!1),{isSearchOpen:u,setIsSearchOpen:d}=ra(),[h]=pK(e),f=(m,y)=>y?m.split(new RegExp(`(${y})`,"gi")).map((S,T)=>S.toLowerCase()===y.toLowerCase()?D.jsx("span",{className:"text-blue-500",children:S},T):S):m;return I.useEffect(()=>{(async()=>{if(!h||e===""){i([]);return}o(!0);const y=ix(om(t,"projects"),g$("title"),y$(50)),T=(await iE(y)).docs.map(_=>_.data()).filter(_=>_.title.toLowerCase().includes(h.toLowerCase()));i(T),o(!1),l(!0)})()},[h,t]),D.jsxs("div",{className:"max-w-md mx-auto bg-white shadow-lg rounded-lg p-6 mt-0 border-2",children:[D.jsx("h2",{className:"text-2xl font-semibold text-center text-gray-800 mb-4",children:"Search Projects"}),D.jsxs("div",{className:"flex flex-col space-y-2",children:[D.jsx("div",{className:"relative",children:D.jsx("input",{type:"text",value:e,onChange:m=>{n(m.target.value),m.target.value===""&&l(!1)},className:"w-full rounded-lg px-3 py-2 bg-gray-100 text-gray-800 outline-none focus:ring-2 ring-2 ring-blue-900 focus:ring-blue-500 focus:ring-opacity-50 shadow-sm",placeholder:"Search Projects...🔍"})}),s?D.jsx("div",{className:"text-center",children:"Loading..."}):D.jsxs("div",{className:"mt-4",children:[D.jsx("h3",{className:"text-lg font-semibold",children:"Projects"}),D.jsx("div",{className:"flex flex-wrap gap-3 justify-start text-center",children:r.length>0?r.map(m=>D.jsx(Mi,{to:`/project/${m.pid}`,onClick:()=>{d(!1)},children:D.jsx("div",{className:"rounded-lg w-60 h-auto flex flex-col justify-start items-start px-3 py-2 bg-gray-100 hover:bg-gray-200 shadow-sm",children:D.jsx("div",{className:"font-medium text-blue-500 mb-1",children:f(m.title,h)})},m.pid)})):a&&D.jsxs("div",{className:"text-gray-500 w-full text-center",children:['No projects found matching "',h,'".']})})]})]})]})};function tC(...t){return t.filter(Boolean).join(" ")}function La(){const t=fa(),{logoutUzer:e,currentUser:n,setCurrentUser:r}=ga(),{isSearchOpen:i,setIsSearchOpen:s}=ra(),o=I.useRef(null);I.useEffect(()=>{console.log("User Changed")},[n]);const a=[{name:"Home",href:"/",show:!!n},{name:"Register",href:"/register",show:!n},{name:"Sign in",href:"/login",show:!n},{name:"Add",href:"/project/form",show:(n==null?void 0:n.email)==="sarcasticgamer96@gmail.com"}];function l(){e(),r(null),t("/login")}I.useEffect(()=>{console.log(n)},[n]);const u=d=>{o.current&&!o.current.contains(d.target)&&s(!1)};return I.useEffect(()=>(i?document.addEventListener("mousedown",u):document.removeEventListener("mousedown",u),()=>{document.removeEventListener("mousedown",u)}),[i]),D.jsxs(Rq,{as:"nav",className:"bg-gray-800 top-0 right-0 left-0",children:[D.jsx("div",{className:"mx-auto max-w-7xl px-2 sm:px-6 lg:px-8",children:D.jsxs("div",{className:"relative flex h-16 items-center justify-between",children:[D.jsx("div",{className:"absolute inset-y-0 left-0 flex items-center sm:hidden",children:D.jsxs(tv,{className:"group relative inline-flex items-center justify-center rounded-md p-2 text-gray-400 hover:bg-gray-700 hover:text-white focus:outline-none focus:ring-2 focus:ring-inset focus:ring-white",children:[D.jsx("span",{className:"absolute -inset-0.5"}),D.jsx("span",{className:"sr-only",children:"Open main menu"}),D.jsx(nK,{"aria-hidden":"true",className:"block h-6 w-6 group-data-[open]:hidden"}),D.jsx(iK,{"aria-hidden":"true",className:"hidden h-6 w-6 group-data-[open]:block"})]})}),D.jsxs("div",{className:"flex flex-1 items-center justify-center sm:items-stretch sm:justify-start",children:[D.jsx("div",{className:"flex flex-shrink-0 items-center font-mono text-white text-4xl",children:D.jsx(Mi,{to:"/",children:"Project-Lo"})}),D.jsx("div",{className:"hidden sm:ml-6 sm:block",children:D.jsx("div",{className:"flex space-x-4",children:a.map(d=>D.jsx(Mi,{to:d.href,"aria-current":d.current?"page":void 0,className:({isActive:h})=>tC("rounded-md px-3 py-2 text-sm font-medium",d.show?"":"hidden ",h?"bg-gray-900 text-cyan-500":"text-white hover:bg-gray-700 hover:text-white"),children:d.name},d.name))})})]}),D.jsxs("div",{className:"absolute inset-y-0 right-0 flex items-center pr-2 sm:static sm:inset-auto sm:ml-6 sm:pr-0",children:[D.jsxs("button",{type:"button",onClick:()=>s(!0),className:"relative rounded-full bg-gray-800 p-1 text-gray-400 hover:text-white focus:outline-none focus:ring-2 mx-1 focus:ring-white focus:ring-offset-1 focus:ring-offset-gray-800",children:[D.jsx("span",{className:"absolute -inset-1.5"}),D.jsx("span",{className:"sr-only",children:"Search"}),D.jsx(fK,{size:25})]}),D.jsxs(eK,{as:"div",className:"relative ml-3",children:[n&&D.jsx("div",{children:D.jsxs(oO,{className:"relative flex rounded-full bg-gray-800 text-sm focus:outline-none ring-2 ring-white focus:ring-offset-2 focus:ring-offset-gray-800",children:[D.jsx("span",{className:"absolute -inset-1.5"}),D.jsx("span",{className:"sr-only",children:"Open user menu"}),D.jsx("img",{src:"https://i.pinimg.com/736x/90/d1/ac/90d1ac48711f63c6a290238c8382632f.jpg",alt:"User Profile",className:"h-8 w-8 rounded-full"})]})}),D.jsxs(aO,{className:"absolute right-0 z-10 mt-2 w-48 origin-top-right rounded-md bg-white py-1 shadow-lg ring-1 ring-black ring-opacity-5 transition focus:outline-none",children:[D.jsx("span",{className:"text-blue-700 font-mono p-2 m-auto",children:n&&n.email}),D.jsx(lO,{children:D.jsx(Mi,{onClick:()=>{confirm("Do you wanna LOGOUT?")&&l()},className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:"Sign out"})})]})]})]})]})}),D.jsx(sO,{className:"sm:hidden",children:D.jsxs("div",{className:"space-y-1 px-2 pb-3 pt-2",children:[n&&(n==null?void 0:n.username),a.map(d=>D.jsx(Mi,{to:d.href,"aria-current":d.current?"page":void 0,className:({isActive:h})=>tC("block rounded-md px-3 py-2 text-base font-medium hover:cursor-pointer",d.show?"":"hidden ",h?"bg-gray-900 text-cyan-300":"text-white hover:bg-gray-700 hover:text-white"),children:D.jsx(tv,{children:d.name})},d.name))]})}),i&&D.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-40",children:D.jsx("div",{ref:o,className:"bg-white p-6 rounded-lg shadow-lg max-w-lg w-full",children:D.jsx(dO,{})})})]})}const mK=BM([{path:"/",element:D.jsxs(Rh,{children:[D.jsx(La,{}),D.jsx(dH,{})]})},{path:"/register",element:D.jsxs(D.Fragment,{children:[D.jsx(La,{}),D.jsx(uH,{})]})},{path:"/login",element:D.jsxs(D.Fragment,{children:[D.jsx(La,{}),D.jsx(S9,{})]})},{path:"/project/:pid",element:D.jsxs(Rh,{children:[D.jsx(La,{}),D.jsx(fH,{})]})},{path:"/search",element:D.jsxs(Rh,{children:[D.jsx(La,{}),D.jsx(dO,{})]})},{path:"/project/form",element:D.jsxs(Rh,{children:[D.jsx(La,{}),D.jsx(vH,{})]})}]);mA(document.getElementById("root")).render(D.jsx(D.Fragment,{children:D.jsx(WB,{children:D.jsxs(T9,{children:[D.jsx(YM,{router:mK}),D.jsx(cj,{})]})})}));
